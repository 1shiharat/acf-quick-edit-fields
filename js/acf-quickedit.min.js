!function(t,e){e.acf_quickedit=qe={form:{},field:{_types:{},add_type:function(t){return qe.field._types[t.type]=qe.field.View.extend(t),qe.field._types[t.type]},factory:function(e,i){var a=t(e).attr("data-field-type"),n=qe.field._types;return field_class=a in n?n[a]:qe.field.View,new field_class({el:e,controller:i})}}},qe.form.View=Backbone.View.extend({initialize:function(){var t=this;this.options=arguments[0],Backbone.View.prototype.initialize.apply(this,arguments),this.fields={},this.$(".inline-edit-col-qed [data-key]").each(function(e,i){var a=qe.field.factory(i,this);t.fields[a.key]=a}),this.loadValues()},getFieldsToLoad:function(){var t=[];return _.each(this.fields,function(e,i){e.parent_key?t.push(e.parent_key):t.push(e.key)}),t},loadedValues:function(t){this._setValues(t),this.initValidation()},_setValues:function(t){var e=this;_.each(t,function(t,i){i in e.fields?e.fields[i].setValue(t):_.isObject(t)&&e._setValues(t)})},unload:function(t){_.each(this.fields,function(t){t.unload()})},validationComplete:function(t,e){var i=this;return t.valid||_.each(t.errors,function(t){var e=t.input.replace(/^acf\[([0-9a-z_]+)\]$/g,"$1");e in i.fields&&i.fields[e].setError(t.message)}),t},initValidation:function(){var e=this.$el.closest("form"),i=this.getSaveButton();acf.update("post_id",this.options.object_id),acf.add_filter("validation_complete",this.validationComplete,10,this),i.click(function(i){return!acf.validation.active||(acf.validation.ignore?(acf.validation.ignore=0,!0):(i.preventDefault(),i.stopPropagation(),i.stopImmediatePropagation(),acf.validation.$trigger=t(this),acf.validation.fetch(e),!1))}),t._data(i[0],"events").click.reverse()}}),qe.form.QuickEdit=qe.form.View.extend({loadValues:function(){var e=this;return t.post({url:ajaxurl,data:{action:"get_acf_post_meta",object_id:this.options.object_id,acf_field_keys:this.getFieldsToLoad()},success:function(t){e.loadedValues(t)}}),this},getSaveButton:function(){return this.$el.closest("form").find("button.save")}}),qe.form.BulkEdit=qe.form.View.extend({initialize:function(){qe.form.View.prototype.initialize.apply(this,arguments),acf.add_filter("prepare_for_ajax",this.prepareForAjax,null,this)},prepareForAjax:function(e){var i={};return t.each(e,function(t,e){"___do_not_change"!==e&&(i[t]=e)}),i},loadValues:function(){var e=[];t('[type="checkbox"][name="post[]"]:checked').each(function(){e.push(t(this).val())});var i=this;return t.post({url:ajaxurl,data:{action:"get_acf_post_meta",object_id:e,acf_field_keys:this.getFieldsToLoad()},success:function(t){i.loadedValues(t)}}),this},getSaveButton:function(){return this.$('[type="submit"]#bulk_edit')}}),qe.field.View=wp.media.View.extend({events:{'change [type="checkbox"][data-is-do-not-change="true"]':"dntChanged"},initialize:function(){var t=this;Backbone.View.prototype.initialize.apply(this,arguments),this.key=this.$el.attr("data-key"),this.parent_key=this.$el.attr("data-parent-key"),"false"===this.parent_key&&(this.parent_key=!1),this.$input||(this.$input=this.$('input:not([data-is-do-not-change="true"])')),this.setEditable(!1),this.$("*").on("change",function(){t.resetError()})},setValue:function(t){return this.dntChanged(),this.$input.val(t),this},dntChanged:function(){this.setEditable(!this.$('[type="checkbox"][data-is-do-not-change="true"]').is(":checked"))},setEditable:function(t){this.$input.prop("readonly",!t).prop("disabled",!t)},setError:function(t){return this.$el.attr("data-error-message",t),this},resetError:function(){return this.$el.removeAttr("data-error-message"),this},unload:function(){}})}(jQuery,window);
!function(t,e){var i={type:"file",mediaFrameType:"",events:{"click .select-media":"selectFile","click .remove-media":"removeFile",'change [type="checkbox"][value="___do_not_change"]':"dntChanged"},initialize:function(){this.$input=this.$("button"),this.$hidden=this.$('[type="hidden"]'),e.field.View.prototype.initialize.apply(this,arguments);var t=this,i=acf.get("post_id");this.mediaFrameOpts={field:this.key,multiple:!1,post_id:i,library:this.$hidden.attr("data-library"),mode:"select",type:this.mediaFrameType,select:function(e,i){e&&t.setValue(e.get("id"))}},this.$hidden.data("mime_types")&&(this.mediaFrameOpts.mime_types=this.$hidden.data("mime_types"))},selectFile:function(e){e.preventDefault();var i=acf.media.popup(this.mediaFrameOpts),a=this.$hidden.val();a&&i.on("open",function(){var t,e;t=i.state().get("selection"),e=wp.media.attachment(a),e.fetch(),t.add(e?[e]:[])}),acf.isset(window,"wp","media","view","settings","post")&&t.isNumeric(this.mediaFrameOpts.post_id)&&(wp.media.view.settings.post.id=this.mediaFrameOpts.post_id)},removeFile:function(t){t.preventDefault(),this.setValue("")},setValue:function(t){return this.dntChanged(),this.$hidden.val(t),this}};e.field.add_type(i),e.field.add_type(_.extend(i,{type:"image",mediaFrameType:"image"})),e.field.add_type(i),e.field.add_type({type:"range",events:{'change [type="range"]':"adaptNumber",'mousemove [type="range"]':"adaptNumber",'change [type="number"]':"adaptRange",'mousemove [type="number"]':"adaptRange",'change [type="checkbox"][value="___do_not_change"]':"dntChanged"},adaptNumber:function(){this.$('[type="number"]').val(this.$('[type="range"]').val())},adaptRange:function(){this.$('[type="range"]').val(this.$('[type="number"]').val())}}),e.field.add_type({type:"date_picker",initialize:function(){var i=this;return this.$input=this.$('[type="text"]'),this.$hidden=this.$('[type="hidden"]'),e.field.View.prototype.initialize.apply(this,arguments),this.datePickerArgs={dateFormat:this.$("[data-date_format]").data("date_format"),altFormat:"yymmdd",altField:this.$hidden,changeYear:!0,yearRange:"-100:+100",changeMonth:!0,showButtonPanel:!0,firstDay:this.$("[data-first_day]").data("first_day")},this.$input.datepicker(this.datePickerArgs).on("blur",function(){t(this).val()||i.$hidden.val("")}),t("body > #ui-datepicker-div").length>0&&t("#ui-datepicker-div").wrap('<div class="acf-ui-datepicker" />'),this},setValue:function(e){var i;this.dntChanged();try{i=t.datepicker.parseDate(this.datePickerArgs.altFormat,e)}catch(t){return this}return this.$input.datepicker("setDate",i),this}}),e.field.add_type({type:"date_time_picker",initialize:function(){var i=this;return this.$input=this.$('[type="text"]'),this.$hidden=this.$('[type="hidden"]'),e.field.View.prototype.initialize.apply(this,arguments),this.datePickerArgs={altField:this.$hidden,dateFormat:this.$("[data-date_format]").data("date_format"),altFormat:"yy-mm-dd",timeFormat:this.$("[data-time_format]").data("time_format"),altTimeFormat:"HH:mm:ss",altFieldTimeOnly:!1,changeYear:!0,yearRange:"-100:+100",changeMonth:!0,showButtonPanel:!0,firstDay:this.$("[data-first_day]").data("first_day"),controlType:"select",oneLine:!0},this.$input.datetimepicker(this.datePickerArgs).on("blur",function(){t(this).val()||i.$hidden.val("")}),t("body > #ui-datepicker-div").length>0&&t("#ui-datepicker-div").wrap('<div class="acf-ui-datepicker" />'),this},setValue:function(e){var i;this.dntChanged();try{i=t.datepicker.parseDateTime(this.datePickerArgs.altFormat,this.datePickerArgs.altTimeFormat,e)}catch(t){return this}if(i)return this.$hidden.val(i),this.$input.val(t.datepicker.formatDate(this.datePickerArgs.dateFormat,i)+" "+t.datepicker.formatTime(this.datePickerArgs.timeFormat,i)),this}}),e.field.add_type({type:"time_picker",initialize:function(){var i=this;return this.$input=this.$('[type="text"]'),this.$hidden=this.$('[type="hidden"]'),e.field.View.prototype.initialize.apply(this,arguments),this.datePickerArgs={timeFormat:this.$("[data-time_format]").data("time_format"),altTimeFormat:"HH:mm:ss",altField:this.$hidden,altFieldTimeOnly:!1,showButtonPanel:!0,controlType:"select",oneLine:!0},this.$input.timepicker(this.datePickerArgs).on("blur",function(){t(this).val()||i.$hidden.val("")}),t("body > #ui-datepicker-div").length>0&&t("#ui-datepicker-div").wrap('<div class="acf-ui-datepicker" />'),this},setValue:function(e){var i;this.dntChanged();try{i=t.datepicker.parseTime(this.datePickerArgs.altTimeFormat,e)}catch(t){return this}if(i)return this.$hidden.val(e),this.$input.val(t.datepicker.formatTime(this.datePickerArgs.timeFormat,i)),this}}),e.field.add_type({type:"color_picker",initialize:function(){this.$input=this.$('[type="text"]').first().wpColorPicker(),e.field.View.prototype.initialize.apply(this,arguments)},setValue:function(t){this.dntChanged(),this.$input.wpColorPicker("color",t)},unload:function(){t("body").off("click.wpcolorpicker")}}),e.field.add_type({type:"textarea",initialize:function(){this.$input=this.$("textarea").prop("readonly",!0),e.field.View.prototype.initialize.apply(this,arguments),this.$input.on("keydown keyup",function(t){13!=t.which&&27!=t.which||t.stopPropagation()})}}),e.field.add_type({type:"checkbox",events:{"click .add-choice":"addChoice",'change [type="checkbox"].custom':"removeChoice",'change [type="checkbox"][value="___do_not_change"]':"dntChanged"},initialize:function(){this.$input=this.$('[type="checkbox"]:not([value="___do_not_change"])'),this.$button=this.$("button.add-choice").prop("disabled",!0),e.field.View.prototype.initialize.apply(this,arguments)},setEditable:function(t){this.$input.prop("readonly",!t),this.$button.prop("disabled",!t)},setValue:function(e){var i=this;this.dntChanged(),t.isArray(e)?t.each(e,function(t,e){i.$('[type="checkbox"][value="'+e+'"]').prop("checked",!0)}):this.$('[type="checkbox"][value="'+e+'"]').prop("checked",!0)},addChoice:function(t){t.preventDefault();var e=wp.template("acf-qef-custom-choice-"+this.$el.attr("data-key"));this.$("ul").append(e())},removeChoice:function(e){t(e.target).closest("li").remove()}}),e.field.add_type({type:"radio",initialize:function(){var i,a;this.$input=this.$('[type="radio"]'),e.field.View.prototype.initialize.apply(this,arguments),this.$('[type="radio"]').prop("readonly",!0),this.$("ul.acf-radio-list.other").length&&(i=this.$('[type="text"]'),this.$('[type="radio"]').on("change",function(e){a=t(this).is('[value="other"]:checked'),i.prop("disabled",!a).prop("readonly",!a)}))},setValue:function(t){this.dntChanged(),this.$('[type="radio"][value="'+t+'"]').prop("checked",!0)}}),e.field.add_type({type:"select",initialize:function(){e.field.View.prototype.initialize.apply(this,arguments),this.$input=this.$("select").prop("readonly",!0)}}),e.field.add_type({type:"true_false",initialize:function(){e.field.View.prototype.initialize.apply(this,arguments),this.$('[type="radio"]').prop("readonly",!0)},setValue:function(t){this.dntChanged(),this.$('[type="radio"][value="'+t+'"]').prop("checked",!0)}})}(jQuery,acf_quickedit);
!function(i,t){if("undefined"!=typeof inlineEditPost){var e=inlineEditPost.edit,n=inlineEditPost.save,d=inlineEditPost.revert,o=inlineEditPost.setBulk;inlineEditPost.edit=function(n){var d,o;e.apply(this,arguments),d=0,"object"==typeof n&&(d=parseInt(this.getId(n))),o=i("#edit-"+d),this.acf_qed_form=new t.form.QuickEdit({el:o.get(0),object_id:d})},inlineEditPost.revert=function(){return!!this.acf_qed_form&&this.acf_qed_form.unload(),d.apply(this,arguments)},inlineEditPost.save=function(){return!!this.acf_qed_form&&this.acf_qed_form.unload(),n.apply(this,arguments)},inlineEditPost.setBulk=function(){var e=o.apply(this,arguments);return this.acf_qed_form=new t.form.BulkEdit({el:i("#bulk-edit").get(0)}),e}}if("undefined"!=typeof inlineEditTax){var a=inlineEditTax.edit,n=inlineEditTax.save,d=inlineEditTax.revert;inlineEditTax.edit=function(e){var n,d,o=i('input[name="taxonomy"]').val();a.apply(this,arguments),n=0,"object"==typeof e&&(n=parseInt(this.getId(e))),d=i("#edit-"+n),this.acf_qed_form=new t.form.QuickEdit({el:d.get(0),object_id:o+"_"+n})},inlineEditTax.revert=function(){return!!this.acf_qed_form&&this.acf_qed_form.unload(),d.apply(this,arguments)},inlineEditTax.save=function(){return!!this.acf_qed_form&&this.acf_qed_form.unload(),n.apply(this,arguments)}}}(jQuery,window.acf_quickedit);
!function(e){e(".acf-qef-gallery-col").on("mousemove",function(n){var t=(e(this),e(this).find("img"));x=n.offsetX,num=t.length,step=e(this).width()/num,t.each(function(n,t){x>=step*n?e(t).show():e(t).hide()})})}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFjZi1xdWlja2VkaXQtYmFzZS5qcyIsImFjZi1xdWlja2VkaXQtZmllbGRzLmpzIiwiYWNmLXF1aWNrZWRpdC5qcyIsInRodW1ibmFpbC1jb2wuanMiXSwibmFtZXMiOlsiJCIsImV4cG9ydHMiLCJhY2ZfcXVpY2tlZGl0IiwicWUiLCJmb3JtIiwiZmllbGQiLCJfdHlwZXMiLCJhZGRfdHlwZSIsImEiLCJ0eXBlIiwiVmlldyIsImV4dGVuZCIsImZhY3RvcnkiLCJlbCIsImNvbnRyb2xsZXIiLCJhdHRyIiwidHlwZXMiLCJmaWVsZF9jbGFzcyIsIkJhY2tib25lIiwiaW5pdGlhbGl6ZSIsInNlbGYiLCJ0aGlzIiwib3B0aW9ucyIsImFyZ3VtZW50cyIsInByb3RvdHlwZSIsImFwcGx5IiwiZmllbGRzIiwiZWFjaCIsImkiLCJrZXkiLCJsb2FkVmFsdWVzIiwiZ2V0RmllbGRzVG9Mb2FkIiwiXyIsInBhcmVudF9rZXkiLCJwdXNoIiwibG9hZGVkVmFsdWVzIiwidmFsdWVzIiwiX3NldFZhbHVlcyIsImluaXRWYWxpZGF0aW9uIiwidmFsIiwic2V0VmFsdWUiLCJpc09iamVjdCIsInVubG9hZCIsImUiLCJ2YWxpZGF0aW9uQ29tcGxldGUiLCJqc29uIiwiJGZvcm0iLCJ2YWxpZCIsImVycm9ycyIsImVyciIsImlucHV0IiwicmVwbGFjZSIsInNldEVycm9yIiwibWVzc2FnZSIsIiRlbCIsImNsb3Nlc3QiLCIkYnV0dG9uIiwiZ2V0U2F2ZUJ1dHRvbiIsImFjZiIsInVwZGF0ZSIsIm9iamVjdF9pZCIsImFkZF9maWx0ZXIiLCJjbGljayIsInZhbGlkYXRpb24iLCJhY3RpdmUiLCJpZ25vcmUiLCJwcmV2ZW50RGVmYXVsdCIsInN0b3BQcm9wYWdhdGlvbiIsInN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbiIsIiR0cmlnZ2VyIiwiZmV0Y2giLCJfZGF0YSIsInJldmVyc2UiLCJRdWlja0VkaXQiLCJwb3N0IiwidXJsIiwiYWpheHVybCIsImRhdGEiLCJhY3Rpb24iLCJhY2ZfZmllbGRfa2V5cyIsInN1Y2Nlc3MiLCJyZXNwb25zZSIsImZpbmQiLCJCdWxrRWRpdCIsInByZXBhcmVGb3JBamF4IiwicmV0IiwicG9zdF9pZHMiLCJ3cCIsIm1lZGlhIiwiZXZlbnRzIiwiY2hhbmdlIFt0eXBlPVwiY2hlY2tib3hcIl1bZGF0YS1pcy1kby1ub3QtY2hhbmdlPVwidHJ1ZVwiXSIsIiRpbnB1dCIsInNldEVkaXRhYmxlIiwib24iLCJyZXNldEVycm9yIiwidmFsdWUiLCJkbnRDaGFuZ2VkIiwiaXMiLCJlZGl0YWJsZSIsInByb3AiLCJyZW1vdmVBdHRyIiwialF1ZXJ5Iiwid2luZG93IiwiZmlsZV90eXBlIiwibWVkaWFGcmFtZVR5cGUiLCJjbGljayAuc2VsZWN0LW1lZGlhIiwiY2xpY2sgLnJlbW92ZS1tZWRpYSIsImNoYW5nZSBbdHlwZT1cImNoZWNrYm94XCJdW3ZhbHVlPVwiX19fZG9fbm90X2NoYW5nZVwiXSIsIiRoaWRkZW4iLCJwb3N0X2lkIiwiZ2V0IiwibWVkaWFGcmFtZU9wdHMiLCJtdWx0aXBsZSIsImxpYnJhcnkiLCJtb2RlIiwic2VsZWN0IiwiYXR0YWNobWVudCIsIm1pbWVfdHlwZXMiLCJzZWxlY3RGaWxlIiwibWVkaWFfZnJhbWUiLCJwb3B1cCIsIm1lZGlhX2lkIiwic2VsZWN0aW9uIiwic3RhdGUiLCJhZGQiLCJpc3NldCIsImlzTnVtZXJpYyIsInZpZXciLCJzZXR0aW5ncyIsImlkIiwicmVtb3ZlRmlsZSIsImNoYW5nZSBbdHlwZT1cInJhbmdlXCJdIiwibW91c2Vtb3ZlIFt0eXBlPVwicmFuZ2VcIl0iLCJjaGFuZ2UgW3R5cGU9XCJudW1iZXJcIl0iLCJtb3VzZW1vdmUgW3R5cGU9XCJudW1iZXJcIl0iLCJhZGFwdE51bWJlciIsImFkYXB0UmFuZ2UiLCJkYXRlUGlja2VyQXJncyIsImRhdGVGb3JtYXQiLCJhbHRGb3JtYXQiLCJhbHRGaWVsZCIsImNoYW5nZVllYXIiLCJ5ZWFyUmFuZ2UiLCJjaGFuZ2VNb250aCIsInNob3dCdXR0b25QYW5lbCIsImZpcnN0RGF5IiwiZGF0ZXBpY2tlciIsImxlbmd0aCIsIndyYXAiLCJkYXRlIiwicGFyc2VEYXRlIiwidGltZUZvcm1hdCIsImFsdFRpbWVGb3JtYXQiLCJhbHRGaWVsZFRpbWVPbmx5IiwiY29udHJvbFR5cGUiLCJvbmVMaW5lIiwiZGF0ZXRpbWVwaWNrZXIiLCJwYXJzZURhdGVUaW1lIiwiZm9ybWF0RGF0ZSIsImZvcm1hdFRpbWUiLCJ0aW1lcGlja2VyIiwidGltZSIsInBhcnNlVGltZSIsImZpcnN0Iiwid3BDb2xvclBpY2tlciIsIm9mZiIsIndoaWNoIiwiY2xpY2sgLmFkZC1jaG9pY2UiLCJjaGFuZ2UgW3R5cGU9XCJjaGVja2JveFwiXS5jdXN0b20iLCJpc0FycmF5IiwiaWR4IiwiYWRkQ2hvaWNlIiwidHBsIiwidGVtcGxhdGUiLCJhcHBlbmQiLCJyZW1vdmVDaG9pY2UiLCJ0YXJnZXQiLCJyZW1vdmUiLCIkb3RoZXIiLCJpc19vdGhlciIsImlubGluZUVkaXRQb3N0IiwiX3dwX2lubGluZV9lZGl0X3Bvc3QiLCJlZGl0IiwiX3dwX2lubGluZV9lZGl0X3NhdmUiLCJzYXZlIiwiX3dwX2lubGluZV9lZGl0X3JldmVydCIsInJldmVydCIsIl93cF9pbmxpbmVfZWRpdF9idWxrIiwic2V0QnVsayIsIiR0ciIsInBhcnNlSW50IiwiZ2V0SWQiLCJhY2ZfcWVkX2Zvcm0iLCJpbmxpbmVFZGl0VGF4IiwiX3dwX2lubGluZV9lZGl0X3RheCIsInRheCIsIiRpbWciLCJ4Iiwib2Zmc2V0WCIsIm51bSIsInN0ZXAiLCJ3aWR0aCIsInNob3ciLCJoaWRlIl0sIm1hcHBpbmdzIjoiQ0FBQSxTQUFXQSxFQUFHQyxHQUViQSxFQUFRQyxjQUFnQkMsSUFDdkJDLFFBQ0FDLE9BQ0NDLFVBQ0FDLFNBQVMsU0FBU0MsR0FFakIsTUFEQUwsSUFBR0UsTUFBTUMsT0FBT0UsRUFBRUMsTUFBUU4sR0FBR0UsTUFBTUssS0FBS0MsT0FBT0gsR0FDeENMLEdBQUdFLE1BQU1DLE9BQU9FLEVBQUVDLE9BRTFCRyxR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TSxJQUFNdkksS0FJekJxSSxjQUFjUCxPQUFTLFdBR3RCLFFBREdySyxLQUFLMkssY0FBZ0IzSyxLQUFLMkssYUFBYXRKLFNBQ25DK0ksRUFBdUJoSyxNQUFPSixLQUFNRSxZQUU1QzBLLGNBQWNULEtBQU8sV0FHcEIsUUFER25LLEtBQUsySyxjQUFnQjNLLEtBQUsySyxhQUFhdEosU0FDbkM2SSxFQUFxQjlKLE1BQU9KLEtBQU1FLGNBSXhDOEUsT0FBUUMsT0FBT3BHO0NDOUZuQixTQUFVRixHQUNUQSxFQUFFLHdCQUF3QjZGLEdBQUcsWUFBWSxTQUFTbEQsR0FDakQsR0FDQ3lKLElBRFdwTSxFQUFFcUIsTUFDTnJCLEVBQUVxQixNQUFNNkQsS0FBSyxPQUNwQm1ILEdBQUsxSixFQUFFMkosUUFDUEMsSUFBT0gsRUFBS2pELE9BQ1pxRCxLQUFPeE0sRUFBRXFCLE1BQU1vTCxRQUFVRixJQUUxQkgsRUFBS3pLLEtBQU0sU0FBU0MsRUFBRWYsR0FDakJ3TCxHQUFLRyxLQUFLNUssRUFDYjVCLEVBQUVhLEdBQUk2TCxPQUVOMU0sRUFBRWEsR0FBSThMLFlBSVB0RyIsImZpbGUiOiJhY2YtcXVpY2tlZGl0Lm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiggJCwgZXhwb3J0cyApe1xuXG5cdGV4cG9ydHMuYWNmX3F1aWNrZWRpdCA9IHFlID0ge1xuXHRcdGZvcm06e30sXG5cdFx0ZmllbGQ6IHtcblx0XHRcdF90eXBlczoge30sLy8gZmllbGQgdHlwZXNcblx0XHRcdGFkZF90eXBlOmZ1bmN0aW9uKGEpIHtcblx0XHRcdFx0cWUuZmllbGQuX3R5cGVzW2EudHlwZV0gPSBxZS5maWVsZC5WaWV3LmV4dGVuZChhKTtcblx0XHRcdFx0cmV0dXJuIHFlLmZpZWxkLl90eXBlc1thLnR5cGVdO1xuXHRcdFx0fSxcblx0XHRcdGZhY3Rvcnk6ZnVuY3Rpb24oZWwsY29udHJvbGxlcil7XG5cdFx0XHRcdHZhciB0eXBlID0gJChlbCkuYXR0cignZGF0YS1maWVsZC10eXBlJyksXG5cdFx0XHRcdFx0dHlwZXMgPSBxZS5maWVsZC5fdHlwZXM7XG5cblx0XHRcdFx0ZmllbGRfY2xhc3MgPSB0eXBlIGluIHR5cGVzID8gdHlwZXNbdHlwZV0gOiBxZS5maWVsZC5WaWV3O1xuXHRcdFx0XHRyZXR1cm4gbmV3IGZpZWxkX2NsYXNzKHtcblx0XHRcdFx0XHRlbDpcdFx0XHRlbCxcblx0XHRcdFx0XHRjb250cm9sbGVyOlx0Y29udHJvbGxlcixcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0fSxcblx0fTtcblxuXG5cblxuXHRxZS5mb3JtLlZpZXcgPSBCYWNrYm9uZS5WaWV3LmV4dGVuZCh7XG5cdFx0aW5pdGlhbGl6ZTpmdW5jdGlvbigpe1xuXG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cblx0XHRcdHRoaXMub3B0aW9ucyA9IGFyZ3VtZW50c1swXTtcblxuXHRcdFx0QmFja2JvbmUuVmlldy5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cblx0XHRcdHRoaXMuZmllbGRzID0ge307XG5cblx0XHRcdHRoaXMuJCgnLmlubGluZS1lZGl0LWNvbC1xZWQgW2RhdGEta2V5XScpLmVhY2goZnVuY3Rpb24oaSxlbCl7XG5cdFx0XHRcdHZhciBmaWVsZCA9IHFlLmZpZWxkLmZhY3RvcnkoIGVsLCB0aGlzICk7XG5cdFx0XHRcdHNlbGYuZmllbGRzWyBmaWVsZC5rZXkgXSA9IGZpZWxkO1xuXHRcdFx0fSk7XG5cdFx0XHQvLyBsb2FkIHZhbHVlc1xuXHRcdFx0dGhpcy5sb2FkVmFsdWVzKCk7XG5cblx0XHR9LFxuXHRcdGdldEZpZWxkc1RvTG9hZDpmdW5jdGlvbigpe1xuXHRcdFx0dmFyIGZpZWxkcyA9IFtdO1xuXHRcdFx0Xy5lYWNoKCB0aGlzLmZpZWxkcyxmdW5jdGlvbiggZmllbGQsIGtleSApIHtcblx0XHRcdFx0aWYgKCBmaWVsZC5wYXJlbnRfa2V5ICkge1xuXHRcdFx0XHRcdGZpZWxkcy5wdXNoKCBmaWVsZC5wYXJlbnRfa2V5ICk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0ZmllbGRzLnB1c2goIGZpZWxkLmtleSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHRcdHJldHVybiBmaWVsZHM7XG5cdFx0fSxcblx0XHRsb2FkZWRWYWx1ZXM6ZnVuY3Rpb24odmFsdWVzKSB7XG5cdFx0XHR0aGlzLl9zZXRWYWx1ZXMoIHZhbHVlcyApO1xuXHRcdFx0dGhpcy5pbml0VmFsaWRhdGlvbigpO1xuXHRcdH0sXG5cdFx0X3NldFZhbHVlczpmdW5jdGlvbih2YWx1ZXMpIHtcblx0XHRcdHZhciBzZWxmID0gdGhpcztcblx0XHRcdF8uZWFjaCggdmFsdWVzLCBmdW5jdGlvbiggdmFsLCBrZXkgKXtcblx0XHRcdFx0aWYgKCBrZXkgaW4gc2VsZi5maWVsZHMgKSB7XG5cdFx0XHRcdFx0c2VsZi5maWVsZHNba2V5XS5zZXRWYWx1ZSggdmFsICk7XG5cdFx0XHRcdH0gZWxzZSBpZiggXy5pc09iamVjdCggdmFsICkgKSB7XG5cdFx0XHRcdFx0c2VsZi5fc2V0VmFsdWVzKHZhbCk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH0sXG5cdFx0dW5sb2FkOmZ1bmN0aW9uKGUpe1xuXHRcdFx0Xy5lYWNoKHRoaXMuZmllbGRzLGZ1bmN0aW9uKGZpZWxkKXtcblx0XHRcdFx0ZmllbGQudW5sb2FkKCk7XG5cdFx0XHR9KTtcblx0XHR9LFxuXHRcdHZhbGlkYXRpb25Db21wbGV0ZTpmdW5jdGlvbigganNvbiwgJGZvcm0gKSB7XG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cblx0XHRcdGlmICggISBqc29uLnZhbGlkICkge1xuXHRcdFx0XHRfLmVhY2goanNvbi5lcnJvcnMsZnVuY3Rpb24oZXJyKXtcblx0XHRcdFx0XHQvLyBlcnIuaW5wdXQgaXMgaW4gZm9ybWF0IGBhY2ZbPEZJRUxEX0tFWT5dYFxuXHRcdFx0XHRcdHZhciBrZXkgPSBlcnIuaW5wdXQucmVwbGFjZSgvXmFjZlxcWyhbMC05YS16X10rKVxcXSQvZywnJDEnKTtcblx0XHRcdFx0XHRpZiAoIGtleSBpbiBzZWxmLmZpZWxkcyApIHtcblx0XHRcdFx0XHRcdHNlbGYuZmllbGRzW2tleV0uc2V0RXJyb3IoIGVyci5tZXNzYWdlICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHRcdHJldHVybiBqc29uO1xuXHRcdH0sXG5cdFx0aW5pdFZhbGlkYXRpb246ZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgJGZvcm0gPSB0aGlzLiRlbC5jbG9zZXN0KCdmb3JtJyksXG5cdFx0XHRcdCRidXR0b24gPSB0aGlzLmdldFNhdmVCdXR0b24oKTtcblxuXHRcdFx0YWNmLnVwZGF0ZSgncG9zdF9pZCcsIHRoaXMub3B0aW9ucy5vYmplY3RfaWQgKTtcblxuXHRcdFx0YWNmLmFkZF9maWx0ZXIoICd2YWxpZGF0aW9uX2NvbXBsZXRlJywgdGhpcy52YWxpZGF0aW9uQ29tcGxldGUsIDEwLCB0aGlzICk7XG4vL1x0XHRcdGFjZi5hZGRfYWN0aW9uKCd2YWxpZGF0aW9uX2ZhaWx1cmUnLCB0aGlzLnZhbGlkYXRpb25GYWlsdXJlICk7XG5cblx0XHRcdCRidXR0b24uY2xpY2soIGZ1bmN0aW9uKGUpIHtcblx0XHRcdFx0Ly8gYmFpbCBlYXJseSBpZiBub3QgYWN0aXZlXG5cdFx0XHRcdGlmKCAhYWNmLnZhbGlkYXRpb24uYWN0aXZlICkge1xuXG5cdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIGlnbm9yZSB2YWxpZGF0aW9uIChvbmx5IGlnbm9yZSBvbmNlKVxuXHRcdFx0XHRpZiggYWNmLnZhbGlkYXRpb24uaWdub3JlICkge1xuXHRcdFx0XHRcdGFjZi52YWxpZGF0aW9uLmlnbm9yZSA9IDA7XG5cdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBzdG9wIFdQIEpTIHZhbGlkYXRpb25cblx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHRlLnN0b3BQcm9wYWdhdGlvbigpO1xuXHRcdFx0XHRlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xuXG5cblx0XHRcdFx0Ly8gc3RvcmUgc3VibWl0IHRyaWdnZXIgc28gaXQgd2lsbCBiZSBjbGlja2VkIGlmIHZhbGlkYXRpb24gaXMgcGFzc2VkXG5cdFx0XHRcdGFjZi52YWxpZGF0aW9uLiR0cmlnZ2VyID0gJCh0aGlzKTtcblxuXHRcdFx0XHQvLyBydW4gdmFsaWRhdGlvblxuXHRcdFx0XHRhY2YudmFsaWRhdGlvbi5mZXRjaCggJGZvcm0gKTtcblxuXHRcdFx0XHQvLyBzdG9wIGFsbCBvdGhlciBjbGljayBldmVudHMgb24gdGhpcyBpbnB1dFxuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9KTtcblx0XHRcdC8vIG1vdmUgb3VyIGV2ZW50cyBoYW5kbGVyIHRvIGZyb250XG5cdFx0XHQkLl9kYXRhKCRidXR0b25bMF0sJ2V2ZW50cycpLmNsaWNrLnJldmVyc2UoKVxuXHRcdH1cblx0fSk7XG5cdHFlLmZvcm0uUXVpY2tFZGl0ID0gcWUuZm9ybS5WaWV3LmV4dGVuZCh7XG5cdFx0bG9hZFZhbHVlczogZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cdFx0XHQkLnBvc3Qoe1xuXHRcdFx0XHR1cmw6YWpheHVybCxcblx0XHRcdFx0ZGF0YTp7XG5cdFx0XHRcdFx0J2FjdGlvbicgOiAnZ2V0X2FjZl9wb3N0X21ldGEnLFxuXHRcdFx0XHRcdCdvYmplY3RfaWQnIDogdGhpcy5vcHRpb25zLm9iamVjdF9pZCxcblx0XHRcdFx0XHQnYWNmX2ZpZWxkX2tleXMnIDogdGhpcy5nZXRGaWVsZHNUb0xvYWQoKSxcblx0XHRcdFx0fSxcblx0XHRcdFx0c3VjY2VzczpmdW5jdGlvbihyZXNwb25zZSl7XG5cdFx0XHRcdFx0c2VsZi5sb2FkZWRWYWx1ZXMoIHJlc3BvbnNlICk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9LFxuXHRcdGdldFNhdmVCdXR0b246ZnVuY3Rpb24oKXtcblx0XHRcdHJldHVybiB0aGlzLiRlbC5jbG9zZXN0KCdmb3JtJykuZmluZCgnYnV0dG9uLnNhdmUnKVxuXHRcdH1cblx0fSk7XG5cblx0cWUuZm9ybS5CdWxrRWRpdCA9IHFlLmZvcm0uVmlldy5leHRlbmQoe1xuXHRcdC8vIHRvZG86IGRvIG5vdCBjaGFuZ2Vcblx0XHRpbml0aWFsaXplOmZ1bmN0aW9uKCl7XG5cblx0XHRcdHZhciBzZWxmID0gdGhpcztcblxuXHRcdFx0cWUuZm9ybS5WaWV3LnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcblxuXHRcdFx0YWNmLmFkZF9maWx0ZXIoICdwcmVwYXJlX2Zvcl9hamF4JywgdGhpcy5wcmVwYXJlRm9yQWpheCwgbnVsbCwgdGhpcyApO1xuXG5cdFx0fSxcblx0XHRwcmVwYXJlRm9yQWpheDpmdW5jdGlvbihkYXRhKXtcblx0XHRcdHZhciByZXQgPSB7fTtcblx0XHRcdCQuZWFjaChkYXRhLGZ1bmN0aW9uKGksdmFsKXtcblx0XHRcdFx0aWYgKHZhbCAhPT0gJ19fX2RvX25vdF9jaGFuZ2UnKSB7XG5cdFx0XHRcdFx0cmV0W2ldID0gdmFsO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHRcdHJldHVybiByZXQ7XG5cdFx0fSxcblx0XHRsb2FkVmFsdWVzOiBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBwb3N0X2lkcyA9IFtdO1xuXHRcdFx0JCgnW3R5cGU9XCJjaGVja2JveFwiXVtuYW1lPVwicG9zdFtdXCJdOmNoZWNrZWQnKS5lYWNoKGZ1bmN0aW9uKCl7XG5cdFx0XHRcdHBvc3RfaWRzLnB1c2goJCh0aGlzKS52YWwoKSlcblx0XHRcdH0pO1xuXG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cdFx0XHQkLnBvc3Qoe1xuXHRcdFx0XHR1cmw6YWpheHVybCxcblx0XHRcdFx0ZGF0YTp7XG5cdFx0XHRcdFx0J2FjdGlvbicgOiAnZ2V0X2FjZl9wb3N0X21ldGEnLFxuXHRcdFx0XHRcdCdvYmplY3RfaWQnIDogcG9zdF9pZHMsXG5cdFx0XHRcdFx0J2FjZl9maWVsZF9rZXlzJyA6IHRoaXMuZ2V0RmllbGRzVG9Mb2FkKCksXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHN1Y2Nlc3M6ZnVuY3Rpb24ocmVzcG9uc2Upe1xuXHRcdFx0XHRcdHNlbGYubG9hZGVkVmFsdWVzKCByZXNwb25zZSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblxuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fSxcblx0XHRnZXRTYXZlQnV0dG9uOmZ1bmN0aW9uKCl7XG5cdFx0XHRyZXR1cm4gdGhpcy4kKCdbdHlwZT1cInN1Ym1pdFwiXSNidWxrX2VkaXQnKTtcblx0XHR9XG5cdH0pO1xuXG5cblxuXHRxZS5maWVsZC5WaWV3ID0gd3AubWVkaWEuVmlldy5leHRlbmQoe1xuXHRcdGV2ZW50czp7XG5cdFx0XHQnY2hhbmdlIFt0eXBlPVwiY2hlY2tib3hcIl1bZGF0YS1pcy1kby1ub3QtY2hhbmdlPVwidHJ1ZVwiXScgOiAnZG50Q2hhbmdlZCcsXG5cdFx0fSxcblx0XHRpbml0aWFsaXplOmZ1bmN0aW9uKCl7XG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cdFx0XHRCYWNrYm9uZS5WaWV3LnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcblx0XHRcdHRoaXMua2V5ID0gdGhpcy4kZWwuYXR0cignZGF0YS1rZXknKTtcblx0XHRcdHRoaXMucGFyZW50X2tleSA9IHRoaXMuJGVsLmF0dHIoJ2RhdGEtcGFyZW50LWtleScpO1xuXG5cdFx0XHRpZiggJ2ZhbHNlJyA9PT0gdGhpcy5wYXJlbnRfa2V5ICkge1xuXHRcdFx0XHR0aGlzLnBhcmVudF9rZXkgPSBmYWxzZTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCAhIHRoaXMuJGlucHV0ICkge1xuXHRcdFx0XHR0aGlzLiRpbnB1dCA9IHRoaXMuJCgnaW5wdXQ6bm90KFtkYXRhLWlzLWRvLW5vdC1jaGFuZ2U9XCJ0cnVlXCJdKScpXG5cdFx0XHR9XG5cdFx0XHR0aGlzLnNldEVkaXRhYmxlKCBmYWxzZSApO1xuXHRcdFx0dGhpcy4kKCcqJykub24oJ2NoYW5nZScsZnVuY3Rpb24oKXtzZWxmLnJlc2V0RXJyb3IoKX0pXG5cdFx0fSxcblx0XHRzZXRWYWx1ZTpmdW5jdGlvbih2YWx1ZSl7XG5cdFx0XHR0aGlzLmRudENoYW5nZWQoICk7XG5cdFx0XHR0aGlzLiRpbnB1dC52YWwodmFsdWUpO1xuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fSxcblx0XHRkbnRDaGFuZ2VkOmZ1bmN0aW9uKCl7XG5cdFx0XHR0aGlzLnNldEVkaXRhYmxlKCAhIHRoaXMuJCgnW3R5cGU9XCJjaGVja2JveFwiXVtkYXRhLWlzLWRvLW5vdC1jaGFuZ2U9XCJ0cnVlXCJdJykuaXMoJzpjaGVja2VkJykgKTtcblx0XHR9LFxuXHRcdHNldEVkaXRhYmxlOmZ1bmN0aW9uKGVkaXRhYmxlKXtcblx0XHRcdHRoaXMuJGlucHV0LnByb3AoICdyZWFkb25seScsICEgZWRpdGFibGUgKS5wcm9wKCAnZGlzYWJsZWQnLCAhIGVkaXRhYmxlICk7XG5cdFx0fSxcblx0XHRzZXRFcnJvcjpmdW5jdGlvbihtZXNzYWdlKSB7XG5cdFx0XHR0aGlzLiRlbC5hdHRyKCdkYXRhLWVycm9yLW1lc3NhZ2UnLG1lc3NhZ2UpO1xuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fSxcblx0XHRyZXNldEVycm9yOmZ1bmN0aW9uKCkge1xuXHRcdFx0dGhpcy4kZWwucmVtb3ZlQXR0ciggJ2RhdGEtZXJyb3ItbWVzc2FnZScgKTtcblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH0sXG5cdFx0dW5sb2FkOmZ1bmN0aW9uKCl7fVxuXHR9KTtcblxuXG59KShqUXVlcnksd2luZG93KTtcbiIsIihmdW5jdGlvbiggJCwgcWUgKXtcblx0dmFyIGZpbGVfdHlwZSA9IHtcblx0XHR0eXBlOidmaWxlJyxcblx0XHRtZWRpYUZyYW1lVHlwZTonJyxcblx0XHRldmVudHM6e1xuXHRcdFx0J2NsaWNrIC5zZWxlY3QtbWVkaWEnIDogJ3NlbGVjdEZpbGUnLFxuXHRcdFx0J2NsaWNrIC5yZW1vdmUtbWVkaWEnIDogJ3JlbW92ZUZpbGUnLFxuXHRcdFx0J2NoYW5nZSBbdHlwZT1cImNoZWNrYm94XCJdW3ZhbHVlPVwiX19fZG9fbm90X2NoYW5nZVwiXScgOiAnZG50Q2hhbmdlZCcsXG5cdFx0fSxcblx0XHRpbml0aWFsaXplOmZ1bmN0aW9uKCkge1xuXHRcdFx0dGhpcy4kaW5wdXQgPSB0aGlzLiQoJ2J1dHRvbicpO1xuXHRcdFx0dGhpcy4kaGlkZGVuID0gdGhpcy4kKCdbdHlwZT1cImhpZGRlblwiXScpO1xuXHRcdFx0cWUuZmllbGQuVmlldy5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7XG5cblx0XHRcdHZhciBzZWxmID0gdGhpcyxcblx0XHRcdFx0cG9zdF9pZCA9IGFjZi5nZXQoJ3Bvc3RfaWQnKTtcblxuXHRcdFx0dGhpcy5tZWRpYUZyYW1lT3B0cyA9IHtcblx0XHRcdFx0ZmllbGRcdFx0OiB0aGlzLmtleSxcblx0XHRcdFx0bXVsdGlwbGVcdDogZmFsc2UsXG5cdFx0XHRcdHBvc3RfaWRcdFx0OiBwb3N0X2lkLFxuXHRcdFx0XHRsaWJyYXJ5XHRcdDogdGhpcy4kaGlkZGVuLmF0dHIoJ2RhdGEtbGlicmFyeScpLFxuXHRcdFx0XHRtb2RlXHRcdDonc2VsZWN0Jyxcblx0XHRcdFx0dHlwZVx0XHQ6IHRoaXMubWVkaWFGcmFtZVR5cGUsXG5cdFx0XHRcdHNlbGVjdFx0XHQ6IGZ1bmN0aW9uICggYXR0YWNobWVudCwgaSApIHtcblx0XHRcdFx0XHRpZiAoICEgYXR0YWNobWVudCApIHtcblx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0c2VsZi5zZXRWYWx1ZSggYXR0YWNobWVudC5nZXQoJ2lkJykgKTtcblx0XHRcdFx0fVxuXHRcdFx0fTtcblx0XHRcdGlmICggdGhpcy4kaGlkZGVuLmRhdGEoJ21pbWVfdHlwZXMnKSApIHtcblx0XHRcdFx0dGhpcy5tZWRpYUZyYW1lT3B0cy5taW1lX3R5cGVzID0gdGhpcy4kaGlkZGVuLmRhdGEoJ21pbWVfdHlwZXMnKTtcblx0XHRcdH1cblxuXHRcdH0sXG5cdFx0c2VsZWN0RmlsZTpmdW5jdGlvbihlKXtcblx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdC8vIENyZWF0ZSBhIG5ldyBtZWRpYSBmcmFtZVxuXHRcdFx0dmFyIG1lZGlhX2ZyYW1lID0gYWNmLm1lZGlhLnBvcHVwKCB0aGlzLm1lZGlhRnJhbWVPcHRzICksXG5cdFx0XHRcdG1lZGlhX2lkID0gdGhpcy4kaGlkZGVuLnZhbCgpO1xuXG5cdFx0XHRpZiAoICEhIG1lZGlhX2lkICkge1xuXHRcdFx0XHRtZWRpYV9mcmFtZS5vbignb3BlbicsZnVuY3Rpb24oKXtcblx0XHRcdFx0XHR2YXIgc2VsZWN0aW9uLCBhdHRhY2htZW50O1xuXHRcdFx0XHRcdHNlbGVjdGlvbiA9IG1lZGlhX2ZyYW1lLnN0YXRlKCkuZ2V0KCdzZWxlY3Rpb24nKTtcblx0XHRcdFx0XHRhdHRhY2htZW50ID0gd3AubWVkaWEuYXR0YWNobWVudCggbWVkaWFfaWQgKTtcblx0XHRcdFx0XHRhdHRhY2htZW50LmZldGNoKCk7XG5cdFx0XHRcdFx0c2VsZWN0aW9uLmFkZCggYXR0YWNobWVudCA/IFsgYXR0YWNobWVudCBdIDogW10gKTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIHNldCBwb3N0IGlkLCBzbyBuZXcgdXBsb2FkcyBhcmUgYXR0YWNoZWQgdG8gZWRpdGVkIHBvc3Rcblx0XHRcdGlmICggYWNmLmlzc2V0KHdpbmRvdywnd3AnLCdtZWRpYScsJ3ZpZXcnLCdzZXR0aW5ncycsJ3Bvc3QnKSAmJiAkLmlzTnVtZXJpYyggdGhpcy5tZWRpYUZyYW1lT3B0cy5wb3N0X2lkICkgKSB7XG5cblx0XHRcdFx0d3AubWVkaWEudmlldy5zZXR0aW5ncy5wb3N0LmlkID0gdGhpcy5tZWRpYUZyYW1lT3B0cy5wb3N0X2lkO1xuXG5cdFx0XHR9XG5cblx0XHR9LFxuXHRcdHJlbW92ZUZpbGU6ZnVuY3Rpb24oZSl7XG5cdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHR0aGlzLnNldFZhbHVlKCcnKTtcblx0XHR9LFxuXHRcdHNldFZhbHVlOmZ1bmN0aW9uKHZhbHVlKSB7XG5cdFx0XHR0aGlzLmRudENoYW5nZWQoKTtcblx0XHRcdHRoaXMuJGhpZGRlbi52YWwoIHZhbHVlICk7XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9XG5cdH07XG5cblx0LyoqXG5cdCAqXHRmaWVsZCB0eXBlIGZpbGVcblx0ICovXG5cdHFlLmZpZWxkLmFkZF90eXBlKCBmaWxlX3R5cGUgKTtcblxuXHQvKipcblx0ICpcdGZpZWxkIHR5cGUgaW1hZ2Vcblx0ICovXG5cdHFlLmZpZWxkLmFkZF90eXBlKCBfLmV4dGVuZChmaWxlX3R5cGUse3R5cGU6J2ltYWdlJyxtZWRpYUZyYW1lVHlwZTonaW1hZ2UnfSkgKTtcblxuXHRxZS5maWVsZC5hZGRfdHlwZSggZmlsZV90eXBlICk7XG5cblx0LyoqXG5cdCAqXHRmaWVsZCB0eXBlIHJhbmdlXG5cdCAqL1xuXHRxZS5maWVsZC5hZGRfdHlwZSgge1xuXHRcdCB0eXBlOidyYW5nZScsXG5cdFx0IGV2ZW50czp7XG5cdFx0XHQgJ2NoYW5nZSBbdHlwZT1cInJhbmdlXCJdJ1x0XHQ6ICdhZGFwdE51bWJlcicsXG5cdFx0XHQgJ21vdXNlbW92ZSBbdHlwZT1cInJhbmdlXCJdJ1x0XHQ6ICdhZGFwdE51bWJlcicsXG5cdFx0XHQgJ2NoYW5nZSBbdHlwZT1cIm51bWJlclwiXSdcdFx0OiAnYWRhcHRSYW5nZScsXG5cdFx0XHQgJ21vdXNlbW92ZSBbdHlwZT1cIm51bWJlclwiXSdcdDogJ2FkYXB0UmFuZ2UnLFxuXHRcdFx0ICdjaGFuZ2UgW3R5cGU9XCJjaGVja2JveFwiXVt2YWx1ZT1cIl9fX2RvX25vdF9jaGFuZ2VcIl0nIDogJ2RudENoYW5nZWQnLFxuXHRcdCB9LFxuXHRcdCBhZGFwdE51bWJlcjpmdW5jdGlvbigpe1xuXHRcdFx0IHRoaXMuJCgnW3R5cGU9XCJudW1iZXJcIl0nKS52YWwoIHRoaXMuJCgnW3R5cGU9XCJyYW5nZVwiXScpLnZhbCgpICk7XG5cdFx0IH0sXG5cdFx0IGFkYXB0UmFuZ2U6ZnVuY3Rpb24oKXtcblx0XHRcdCB0aGlzLiQoJ1t0eXBlPVwicmFuZ2VcIl0nKS52YWwoIHRoaXMuJCgnW3R5cGU9XCJudW1iZXJcIl0nKS52YWwoKSApO1xuXHRcdCB9XG5cdCB9ICk7XG5cblxuXHQvKipcbiAgXHQgKlx0ZmllbGQgdHlwZSBkYXRlX3BpY2tlclxuICBcdCAqL1xuICBcdHFlLmZpZWxkLmFkZF90eXBlKCB7XG4gXHRcdHR5cGU6J2RhdGVfcGlja2VyJyxcblx0XHRpbml0aWFsaXplOmZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcdFx0dGhpcy4kaW5wdXRcdFx0PSB0aGlzLiQoICdbdHlwZT1cInRleHRcIl0nICk7XG5cdFx0XHR0aGlzLiRoaWRkZW5cdD0gdGhpcy4kKCAnW3R5cGU9XCJoaWRkZW5cIl0nICk7XG5cdFx0XHRxZS5maWVsZC5WaWV3LnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtcblx0XHRcdHRoaXMuZGF0ZVBpY2tlckFyZ3MgPSB7XG5cdFx0XHRcdFx0ZGF0ZUZvcm1hdFx0XHQ6IHRoaXMuJCgnW2RhdGEtZGF0ZV9mb3JtYXRdJykuZGF0YSgnZGF0ZV9mb3JtYXQnKSxcblx0XHRcdFx0XHRhbHRGb3JtYXRcdFx0OiAneXltbWRkJyxcblx0XHRcdFx0XHRhbHRGaWVsZFx0XHQ6IHRoaXMuJGhpZGRlbixcblx0XHRcdFx0XHRjaGFuZ2VZZWFyXHRcdDogdHJ1ZSxcblx0XHRcdFx0XHR5ZWFyUmFuZ2VcdFx0OiBcIi0xMDA6KzEwMFwiLFxuXHRcdFx0XHRcdGNoYW5nZU1vbnRoXHRcdDogdHJ1ZSxcblx0XHRcdFx0XHRzaG93QnV0dG9uUGFuZWxcdDogdHJ1ZSxcblx0XHRcdFx0XHRmaXJzdERheVx0XHQ6IHRoaXMuJCgnW2RhdGEtZmlyc3RfZGF5XScpLmRhdGEoJ2ZpcnN0X2RheScpXG5cdFx0XHRcdH07XG5cdFx0XHR0aGlzLiRpbnB1dC5kYXRlcGlja2VyKCB0aGlzLmRhdGVQaWNrZXJBcmdzICkub24oJ2JsdXInLGZ1bmN0aW9uKCl7XG5cdFx0XHRcdGlmICggISAkKHRoaXMpLnZhbCgpICkge1xuXHRcdFx0XHRcdHNlbGYuJGhpZGRlbi52YWwoJycpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHRcdGlmKCAkKCdib2R5ID4gI3VpLWRhdGVwaWNrZXItZGl2JykubGVuZ3RoID4gMCApIHtcblx0XHRcdFx0JCgnI3VpLWRhdGVwaWNrZXItZGl2Jykud3JhcCgnPGRpdiBjbGFzcz1cImFjZi11aS1kYXRlcGlja2VyXCIgLz4nKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH0sXG5cdFx0c2V0VmFsdWU6ZnVuY3Rpb24odmFsdWUpIHtcblx0XHRcdHZhciBkYXRlO1xuXG5cdFx0XHR0aGlzLmRudENoYW5nZWQoKTtcblxuXHRcdFx0dHJ5IHtcblx0XHRcdFx0ZGF0ZSA9ICQuZGF0ZXBpY2tlci5wYXJzZURhdGUoIHRoaXMuZGF0ZVBpY2tlckFyZ3MuYWx0Rm9ybWF0LCB2YWx1ZSApO1xuXHRcdFx0fSBjYXRjaChlcnIpIHtcblx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHR9XG5cdFx0XHR0aGlzLiRpbnB1dC5kYXRlcGlja2VyKCAnc2V0RGF0ZScsIGRhdGUgKTtcblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH1cbiBcdH0pO1xuXG5cdC8qKlxuIFx0ICpcdGZpZWxkIHR5cGUgZGF0ZV90aW1lX3BpY2tlclxuIFx0ICovXG4gXHRxZS5maWVsZC5hZGRfdHlwZSgge1xuXHRcdHR5cGU6J2RhdGVfdGltZV9waWNrZXInLFxuXHRcdGluaXRpYWxpemU6ZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cdFx0XHR0aGlzLiRpbnB1dFx0XHQ9IHRoaXMuJCggJ1t0eXBlPVwidGV4dFwiXScgKTtcblx0XHRcdHRoaXMuJGhpZGRlblx0PSB0aGlzLiQoICdbdHlwZT1cImhpZGRlblwiXScgKTtcblx0XHRcdHFlLmZpZWxkLlZpZXcucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxhcmd1bWVudHMpO1xuXHRcdFx0dGhpcy5kYXRlUGlja2VyQXJncyA9IHtcblx0XHRcdFx0XHRhbHRGaWVsZFx0XHRcdDogdGhpcy4kaGlkZGVuLFxuXHRcdFx0XHRcdGRhdGVGb3JtYXRcdFx0XHQ6IHRoaXMuJCgnW2RhdGEtZGF0ZV9mb3JtYXRdJykuZGF0YSgnZGF0ZV9mb3JtYXQnKSxcblx0XHRcdFx0XHRhbHRGb3JtYXRcdFx0XHQ6ICd5eS1tbS1kZCcsXG5cdFx0XHRcdFx0dGltZUZvcm1hdFx0XHRcdDogdGhpcy4kKCdbZGF0YS10aW1lX2Zvcm1hdF0nKS5kYXRhKCd0aW1lX2Zvcm1hdCcpLFxuXHRcdFx0XHRcdGFsdFRpbWVGb3JtYXRcdFx0OiAnSEg6bW06c3MnLFxuXHRcdFx0XHRcdGFsdEZpZWxkVGltZU9ubHlcdDogZmFsc2UsXG5cdFx0XHRcdFx0Y2hhbmdlWWVhclx0XHRcdDogdHJ1ZSxcblx0XHRcdFx0XHR5ZWFyUmFuZ2VcdFx0XHQ6IFwiLTEwMDorMTAwXCIsXG5cdFx0XHRcdFx0Y2hhbmdlTW9udGhcdFx0XHQ6IHRydWUsXG5cdFx0XHRcdFx0c2hvd0J1dHRvblBhbmVsXHRcdDogdHJ1ZSxcblx0XHRcdFx0XHRmaXJzdERheVx0XHRcdDogdGhpcy4kKCdbZGF0YS1maXJzdF9kYXldJykuZGF0YSgnZmlyc3RfZGF5JyksXG5cdFx0XHRcdFx0Y29udHJvbFR5cGVcdFx0XHQ6ICdzZWxlY3QnLFxuXHRcdFx0XHRcdG9uZUxpbmVcdFx0XHRcdDogdHJ1ZVxuXHRcdFx0XHR9O1xuXG5cdFx0XHR0aGlzLiRpbnB1dC5kYXRldGltZXBpY2tlciggdGhpcy5kYXRlUGlja2VyQXJncyApLm9uKCdibHVyJyxmdW5jdGlvbigpe1xuXHRcdFx0XHRpZiAoICEgJCh0aGlzKS52YWwoKSApIHtcblx0XHRcdFx0XHRzZWxmLiRoaWRkZW4udmFsKCcnKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0XHRpZiggJCgnYm9keSA+ICN1aS1kYXRlcGlja2VyLWRpdicpLmxlbmd0aCA+IDAgKSB7XG5cdFx0XHRcdCQoJyN1aS1kYXRlcGlja2VyLWRpdicpLndyYXAoJzxkaXYgY2xhc3M9XCJhY2YtdWktZGF0ZXBpY2tlclwiIC8+Jyk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9LFxuXHRcdHNldFZhbHVlOmZ1bmN0aW9uKHZhbHVlKSB7XG5cdFx0XHR2YXIgZGF0ZTtcblxuXHRcdFx0dGhpcy5kbnRDaGFuZ2VkKCk7XG5cblx0XHRcdHRyeSB7XG5cdFx0XHRcdGRhdGUgPSAkLmRhdGVwaWNrZXIucGFyc2VEYXRlVGltZShcblx0XHRcdFx0XHR0aGlzLmRhdGVQaWNrZXJBcmdzLmFsdEZvcm1hdCxcblx0XHRcdFx0XHR0aGlzLmRhdGVQaWNrZXJBcmdzLmFsdFRpbWVGb3JtYXQsXG5cdFx0XHRcdFx0dmFsdWVcblx0XHRcdFx0KTtcblx0XHRcdH0gY2F0Y2goZXJyKSB7XG5cdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoICEgZGF0ZSApIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdFx0Ly8qXG5cdFx0XHR0aGlzLiRoaWRkZW4udmFsKGRhdGUpO1xuXHRcdFx0dGhpcy4kaW5wdXQudmFsKCAkLmRhdGVwaWNrZXIuZm9ybWF0RGF0ZSh0aGlzLmRhdGVQaWNrZXJBcmdzLmRhdGVGb3JtYXQsIGRhdGUpICsgJyAnICsgJC5kYXRlcGlja2VyLmZvcm1hdFRpbWUoXG5cdFx0XHRcdHRoaXMuZGF0ZVBpY2tlckFyZ3MudGltZUZvcm1hdCxcblx0XHRcdFx0ZGF0ZVxuXHRcdFx0KSk7XG5cdFx0XHQvKi9cblx0XHRcdC8vIHdpbGwgc2V0IGZvcm0gZGlydHkgaWYgZG9uZSBsaWtlIHRoaXNcblx0XHRcdHRoaXMuJGlucHV0LmRhdGVwaWNrZXIoICdzZXREYXRlJywgZGF0ZSApO1xuXHRcdFx0Ly8qL1xuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fVxuXHR9KTtcblxuXHQvKipcbiBcdCAqXHRmaWVsZCB0eXBlIHRpbWVfcGlja2VyXG4gXHQgKi9cbiBcdHFlLmZpZWxkLmFkZF90eXBlKCB7XG5cdFx0dHlwZTondGltZV9waWNrZXInLFxuXHRcdGluaXRpYWxpemU6ZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cdFx0XHR0aGlzLiRpbnB1dFx0XHQ9IHRoaXMuJCggJ1t0eXBlPVwidGV4dFwiXScgKTtcblx0XHRcdHRoaXMuJGhpZGRlblx0PSB0aGlzLiQoICdbdHlwZT1cImhpZGRlblwiXScgKTtcblx0XHRcdHFlLmZpZWxkLlZpZXcucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxhcmd1bWVudHMpO1xuXHRcdFx0dGhpcy5kYXRlUGlja2VyQXJncyA9IHtcbiBcdFx0XHRcdFx0dGltZUZvcm1hdFx0XHRcdDogdGhpcy4kKCdbZGF0YS10aW1lX2Zvcm1hdF0nKS5kYXRhKCd0aW1lX2Zvcm1hdCcpLFxuIFx0XHRcdFx0XHRhbHRUaW1lRm9ybWF0XHRcdDogJ0hIOm1tOnNzJyxcbiBcdFx0XHRcdFx0YWx0RmllbGRcdFx0XHQ6IHRoaXMuJGhpZGRlbixcbiBcdFx0XHRcdFx0YWx0RmllbGRUaW1lT25seVx0OiBmYWxzZSxcbiBcdFx0XHRcdFx0c2hvd0J1dHRvblBhbmVsXHRcdDogdHJ1ZSxcbiBcdFx0XHRcdFx0Y29udHJvbFR5cGVcdFx0XHQ6ICdzZWxlY3QnLFxuIFx0XHRcdFx0XHRvbmVMaW5lXHRcdFx0XHQ6IHRydWVcbiBcdFx0XHRcdH07XG5cbiBcdFx0XHR0aGlzLiRpbnB1dC50aW1lcGlja2VyKCB0aGlzLmRhdGVQaWNrZXJBcmdzICkub24oJ2JsdXInLGZ1bmN0aW9uKCl7XG4gXHRcdFx0XHRpZiAoICEgJCh0aGlzKS52YWwoKSApIHtcbiBcdFx0XHRcdFx0c2VsZi4kaGlkZGVuLnZhbCgnJyk7XG4gXHRcdFx0XHR9XG4gXHRcdFx0fSk7XG5cdFx0XHRpZiggJCgnYm9keSA+ICN1aS1kYXRlcGlja2VyLWRpdicpLmxlbmd0aCA+IDAgKSB7XG5cdFx0XHRcdCQoJyN1aS1kYXRlcGlja2VyLWRpdicpLndyYXAoJzxkaXYgY2xhc3M9XCJhY2YtdWktZGF0ZXBpY2tlclwiIC8+Jyk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9LFxuIFx0XHRzZXRWYWx1ZTpmdW5jdGlvbih2YWx1ZSkge1xuXHRcdFx0dmFyIHRpbWU7XG5cblx0XHRcdHRoaXMuZG50Q2hhbmdlZCgpO1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0dGltZSA9ICQuZGF0ZXBpY2tlci5wYXJzZVRpbWUoIHRoaXMuZGF0ZVBpY2tlckFyZ3MuYWx0VGltZUZvcm1hdCwgdmFsdWUgKTtcblx0XHRcdH0gY2F0Y2goZXJyKXtcblx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHR9XG5cdFx0XHRpZiAoICEgdGltZSApIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdFx0dGhpcy4kaGlkZGVuLnZhbCggdmFsdWUgKTtcblx0XHRcdHRoaXMuJGlucHV0LnZhbCggJC5kYXRlcGlja2VyLmZvcm1hdFRpbWUoIHRoaXMuZGF0ZVBpY2tlckFyZ3MudGltZUZvcm1hdCwgdGltZSApIClcblx0XHRcdHJldHVybiB0aGlzO1xuIFx0XHR9XG5cdH0pO1xuXG5cdC8qKlxuIFx0ICpcdGZpZWxkIHR5cGUgdGltZV9waWNrZXJcbiBcdCAqL1xuIFx0cWUuZmllbGQuYWRkX3R5cGUoIHtcblx0XHR0eXBlOidjb2xvcl9waWNrZXInLFxuXHRcdGluaXRpYWxpemU6ZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzLiRpbnB1dCA9IHRoaXMuJCgnW3R5cGU9XCJ0ZXh0XCJdJykuZmlyc3QoKS53cENvbG9yUGlja2VyKCk7XG5cdFx0XHRxZS5maWVsZC5WaWV3LnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtcblx0XHR9LFxuXHRcdHNldFZhbHVlOmZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHRcdHRoaXMuZG50Q2hhbmdlZCgpO1xuXHRcdFx0dGhpcy4kaW5wdXQud3BDb2xvclBpY2tlciggJ2NvbG9yJywgdmFsdWUgKTtcblx0XHR9LFxuXHRcdHVubG9hZDpmdW5jdGlvbigpIHtcblx0XHRcdCQoICdib2R5JyApLm9mZiggJ2NsaWNrLndwY29sb3JwaWNrZXInICk7XG5cdFx0fVxuXHR9KTtcblxuXG5cblx0LyoqXG4gXHQgKlx0ZmllbGQgdHlwZSB0aW1lX3BpY2tlclxuIFx0ICovXG4gXHRxZS5maWVsZC5hZGRfdHlwZSgge1xuXHRcdHR5cGU6J3RleHRhcmVhJyxcblx0XHRpbml0aWFsaXplOmZ1bmN0aW9uKCkge1xuXHRcdFx0dGhpcy4kaW5wdXQgPSB0aGlzLiQoJ3RleHRhcmVhJykucHJvcCggJ3JlYWRvbmx5JywgdHJ1ZSApO1xuXG5cdFx0XHRxZS5maWVsZC5WaWV3LnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtcblxuXG5cdFx0XHR0aGlzLiRpbnB1dC5vbigna2V5ZG93biBrZXl1cCcsIGZ1bmN0aW9uKGUpIHtcblx0XHRcdFx0aWYgKCBlLndoaWNoID09IDEzIHx8IGUud2hpY2ggPT0gMjcgKSB7XG5cdFx0XHRcdFx0ZS5zdG9wUHJvcGFnYXRpb24oKTtcbi8vXHRcdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fVxuXHR9KTtcblxuXHQvKipcbiBcdCAqXHRmaWVsZCB0eXBlIGNob2ljZVxuIFx0ICovXG5cdC8vIFRvZG9cblxuXHQvKipcbiBcdCAqXHRmaWVsZCB0eXBlIGNoZWNrYm94XG4gXHQgKi9cblx0Ly8gVG9kb1xuXHRxZS5maWVsZC5hZGRfdHlwZSgge1xuXHRcdHR5cGU6J2NoZWNrYm94Jyxcblx0XHRldmVudHM6e1xuXHRcdFx0J2NsaWNrIC5hZGQtY2hvaWNlJzogJ2FkZENob2ljZScsXG5cdFx0XHQnY2hhbmdlIFt0eXBlPVwiY2hlY2tib3hcIl0uY3VzdG9tJyA6ICdyZW1vdmVDaG9pY2UnLFxuXHRcdFx0J2NoYW5nZSBbdHlwZT1cImNoZWNrYm94XCJdW3ZhbHVlPVwiX19fZG9fbm90X2NoYW5nZVwiXScgOiAnZG50Q2hhbmdlZCcsXG5cdFx0fSxcblx0XHRpbml0aWFsaXplOmZ1bmN0aW9uKCkge1xuXHRcdFx0dGhpcy4kaW5wdXQgPSB0aGlzLiQoJ1t0eXBlPVwiY2hlY2tib3hcIl06bm90KFt2YWx1ZT1cIl9fX2RvX25vdF9jaGFuZ2VcIl0pJyk7XG5cdFx0XHR0aGlzLiRidXR0b24gPSB0aGlzLiQoJ2J1dHRvbi5hZGQtY2hvaWNlJykucHJvcCgnZGlzYWJsZWQnLHRydWUpO1xuXHRcdFx0cWUuZmllbGQuVmlldy5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7XG5cblx0XHR9LFxuXHRcdHNldEVkaXRhYmxlOmZ1bmN0aW9uKGVkaXRhYmxlKXtcblx0XHRcdHRoaXMuJGlucHV0LnByb3AoICdyZWFkb25seScsICFlZGl0YWJsZSApO1xuXHRcdFx0dGhpcy4kYnV0dG9uLnByb3AoICdkaXNhYmxlZCcsICFlZGl0YWJsZSApO1xuXHRcdH0sXG5cdFx0c2V0VmFsdWU6ZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcdFx0dGhpcy5kbnRDaGFuZ2VkKCk7XG5cdFx0XHRpZiAoICQuaXNBcnJheSh2YWx1ZSkgKSB7XG5cdFx0XHRcdCQuZWFjaCggdmFsdWUsIGZ1bmN0aW9uKCBpZHgsIHZhbCApIHtcblx0XHRcdFx0XHRzZWxmLiQoICdbdHlwZT1cImNoZWNrYm94XCJdW3ZhbHVlPVwiJyt2YWwrJ1wiXScgKVxuXHRcdFx0XHRcdFx0LnByb3AoICdjaGVja2VkJywgdHJ1ZSApO1xuXHRcdFx0XHR9KTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRoaXMuJCggJ1t0eXBlPVwiY2hlY2tib3hcIl1bdmFsdWU9XCInK3ZhbHVlKydcIl0nIClcblx0XHRcdFx0XHQucHJvcCggJ2NoZWNrZWQnLCB0cnVlICk7XG5cdFx0XHR9XG4gXHRcdH0sXG5cdFx0YWRkQ2hvaWNlOmZ1bmN0aW9uKGUpe1xuXHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0dmFyIHRwbCA9IHdwLnRlbXBsYXRlKCdhY2YtcWVmLWN1c3RvbS1jaG9pY2UtJyArIHRoaXMuJGVsLmF0dHIoJ2RhdGEta2V5JykpO1xuXHRcdFx0dGhpcy4kKCd1bCcpLmFwcGVuZCh0cGwoKSk7XG5cdFx0fSxcblx0XHRyZW1vdmVDaG9pY2U6ZnVuY3Rpb24oZSkge1xuXHRcdFx0JChlLnRhcmdldCkuY2xvc2VzdCgnbGknKS5yZW1vdmUoKTtcblx0XHR9XG5cblx0fSk7XG5cblx0LyoqXG4gXHQgKlx0ZmllbGQgdHlwZSByYWRpb1xuIFx0ICovXG5cdHFlLmZpZWxkLmFkZF90eXBlKCB7XG5cdFx0dHlwZToncmFkaW8nLFxuXHRcdGluaXRpYWxpemU6ZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgJG90aGVyLCBpc19vdGhlcjtcblxuXHRcdFx0dGhpcy4kaW5wdXQgPSB0aGlzLiQoJ1t0eXBlPVwicmFkaW9cIl0nKTtcblxuXHRcdFx0cWUuZmllbGQuVmlldy5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7XG5cblx0XHRcdHRoaXMuJCgnW3R5cGU9XCJyYWRpb1wiXScpLnByb3AoICdyZWFkb25seScsIHRydWUgKTtcblxuXHRcdFx0aWYgKCB0aGlzLiQoJ3VsLmFjZi1yYWRpby1saXN0Lm90aGVyJykubGVuZ3RoICkge1xuXHRcdFx0XHQkb3RoZXIgPSB0aGlzLiQoJ1t0eXBlPVwidGV4dFwiXScpO1xuXHRcdFx0XHR0aGlzLiQoJ1t0eXBlPVwicmFkaW9cIl0nKS5vbignY2hhbmdlJyxmdW5jdGlvbihlKXtcblxuXHRcdFx0XHRcdGlzX290aGVyID0gJCh0aGlzKS5pcygnW3ZhbHVlPVwib3RoZXJcIl06Y2hlY2tlZCcpO1xuXHRcdFx0XHRcdCRvdGhlclxuXHRcdFx0XHRcdFx0LnByb3AoJ2Rpc2FibGVkJywgISBpc19vdGhlciApXG5cdFx0XHRcdFx0XHQucHJvcCgncmVhZG9ubHknLCAhIGlzX290aGVyICk7XG5cblx0XHRcdFx0fSlcblx0XHRcdH1cblx0XHR9LFxuXHRcdHNldFZhbHVlOmZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHRcdHRoaXMuZG50Q2hhbmdlZCgpO1xuXHRcdFx0dGhpcy4kKCdbdHlwZT1cInJhZGlvXCJdW3ZhbHVlPVwiJyt2YWx1ZSsnXCJdJyApXG5cdFx0XHRcdC5wcm9wKCAnY2hlY2tlZCcsIHRydWUgKTtcbiBcdFx0fVxuXHR9KTtcblxuXHQvKipcbiBcdCAqXHRmaWVsZCB0eXBlIHNlbGVjdFxuIFx0ICovXG5cdHFlLmZpZWxkLmFkZF90eXBlKCB7XG5cdFx0dHlwZTonc2VsZWN0Jyxcblx0XHRpbml0aWFsaXplOmZ1bmN0aW9uKCkge1xuXHRcdFx0cWUuZmllbGQuVmlldy5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7XG5cblx0XHRcdHRoaXMuJGlucHV0ID0gdGhpcy4kKCdzZWxlY3QnKS5wcm9wKCAncmVhZG9ubHknLCB0cnVlICk7XG5cdFx0fVxuXHR9KTtcblxuXHQvKipcbiBcdCAqXHRmaWVsZCB0eXBlIHRydWVfZmFsc2VcbiBcdCAqL1xuXHQgcWUuZmllbGQuYWRkX3R5cGUoIHtcbiBcdFx0dHlwZTondHJ1ZV9mYWxzZScsXG4gXHRcdGluaXRpYWxpemU6ZnVuY3Rpb24oKSB7XG4gXHRcdFx0cWUuZmllbGQuVmlldy5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7XG5cbiBcdFx0XHR0aGlzLiQoJ1t0eXBlPVwicmFkaW9cIl0nKS5wcm9wKCAncmVhZG9ubHknLCB0cnVlICk7XG4gXHRcdH0sXG4gXHRcdHNldFZhbHVlOmZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHRcdHRoaXMuZG50Q2hhbmdlZCgpO1xuXHRcdFx0dGhpcy4kKCdbdHlwZT1cInJhZGlvXCJdW3ZhbHVlPVwiJyt2YWx1ZSsnXCJdJyApXG5cdFx0XHRcdC5wcm9wKCAnY2hlY2tlZCcsIHRydWUgKTtcbiAgXHRcdH1cbiBcdH0pO1xuXHQvLyBUb2RvXG5cbn0pKCBqUXVlcnksIGFjZl9xdWlja2VkaXQgKTtcbiIsIi8vdmFyIGFjZl9xdWlja2VkaXQgPSB7fTtcblxuXG4oZnVuY3Rpb24oJCxxZSkge1xuXG5cblxuXHRpZiAoICd1bmRlZmluZWQnICE9PSB0eXBlb2YgaW5saW5lRWRpdFBvc3QgKSB7XG5cdFx0Ly8gd2UgY3JlYXRlIGEgY29weSBvZiB0aGUgV1AgaW5saW5lIGVkaXQgcG9zdCBmdW5jdGlvblxuXHRcdHZhciBfd3BfaW5saW5lX2VkaXRfcG9zdCA9IGlubGluZUVkaXRQb3N0LmVkaXQsXG5cdFx0XHRfd3BfaW5saW5lX2VkaXRfc2F2ZSA9IGlubGluZUVkaXRQb3N0LnNhdmUsXG5cdFx0XHRfd3BfaW5saW5lX2VkaXRfcmV2ZXJ0ID0gaW5saW5lRWRpdFBvc3QucmV2ZXJ0LFxuXHRcdFx0X3dwX2lubGluZV9lZGl0X2J1bGsgPSAgaW5saW5lRWRpdFBvc3Quc2V0QnVsaztcblx0XHQvLyBhbmQgdGhlbiB3ZSBvdmVyd3JpdGUgdGhlIGZ1bmN0aW9uIHdpdGggb3VyIG93biBjb2RlXG5cdFx0aW5saW5lRWRpdFBvc3QuZWRpdCA9IGZ1bmN0aW9uKCBpZCApIHtcblx0XHRcdHZhciBvYmplY3RfaWQsICR0cjtcblxuXG5cdFx0XHQvLyBcImNhbGxcIiB0aGUgb3JpZ2luYWwgV1AgZWRpdCBmdW5jdGlvblxuXHRcdFx0Ly8gd2UgZG9uJ3Qgd2FudCB0byBsZWF2ZSBXb3JkUHJlc3MgaGFuZ2luZ1xuXHRcdFx0X3dwX2lubGluZV9lZGl0X3Bvc3QuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuXG5cdFx0XHQvLyBnZXQgdGhlIHBvc3QgSURcblx0XHRcdG9iamVjdF9pZCA9IDA7XG5cdFx0XHRpZiAoIHR5cGVvZiggaWQgKSA9PT0gJ29iamVjdCcgKSB7XG5cdFx0XHRcdG9iamVjdF9pZCA9IHBhcnNlSW50KCB0aGlzLmdldElkKCBpZCApICk7XG5cdFx0XHR9XG5cdFx0XHQkdHIgPSAkKCcjZWRpdC0nICsgb2JqZWN0X2lkICk7XG4vL1x0XHRcdGdldF9hY2ZfcG9zdF9kYXRhKCBvYmplY3RfaWQgLCAkKCcjZWRpdC0nICsgb2JqZWN0X2lkICkgKTtcblxuXHRcdFx0dGhpcy5hY2ZfcWVkX2Zvcm0gPSBuZXcgcWUuZm9ybS5RdWlja0VkaXQoe1xuXHRcdFx0XHRlbDogJHRyLmdldCgwKSxcblx0XHRcdFx0b2JqZWN0X2lkOiBvYmplY3RfaWRcblx0XHRcdH0pO1xuXHRcdH07XG5cdFx0aW5saW5lRWRpdFBvc3QucmV2ZXJ0ID0gZnVuY3Rpb24oKSB7XG5cdFx0XHQvLyB1bmxvYWQgZm9ybXNcblx0XHRcdCEhIHRoaXMuYWNmX3FlZF9mb3JtICYmIHRoaXMuYWNmX3FlZF9mb3JtLnVubG9hZCgpO1xuXHRcdFx0cmV0dXJuIF93cF9pbmxpbmVfZWRpdF9yZXZlcnQuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuXHRcdH1cblx0XHRpbmxpbmVFZGl0UG9zdC5zYXZlID0gZnVuY3Rpb24oKSB7XG5cdFx0XHQvLyB1bmxvYWQgZm9ybXNcblx0XHRcdCEhIHRoaXMuYWNmX3FlZF9mb3JtICYmIHRoaXMuYWNmX3FlZF9mb3JtLnVubG9hZCgpO1xuXHRcdFx0cmV0dXJuIF93cF9pbmxpbmVfZWRpdF9zYXZlLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcblx0XHR9XG5cdFx0aW5saW5lRWRpdFBvc3Quc2V0QnVsayA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIHJldCA9IF93cF9pbmxpbmVfZWRpdF9idWxrLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcblxuXHRcdFx0dGhpcy5hY2ZfcWVkX2Zvcm0gPSBuZXcgcWUuZm9ybS5CdWxrRWRpdCh7XG5cdFx0XHRcdGVsOiAkKCcjYnVsay1lZGl0JykuZ2V0KDApLFxuLy9cdFx0XHRcdG9iamVjdF9pZDogb2JqZWN0X2lkXG5cdFx0XHR9KTtcblxuXHRcdFx0cmV0dXJuIHJldDtcblx0XHR9XG5cdH1cblx0Ly8gdG9kbzogaW5saW5lRWRpdFRheFxuXHRpZiAoICd1bmRlZmluZWQnICE9PSB0eXBlb2YgaW5saW5lRWRpdFRheCApIHtcblxuXHRcdHZhciBfd3BfaW5saW5lX2VkaXRfdGF4ID0gaW5saW5lRWRpdFRheC5lZGl0LFxuXHRcdFx0X3dwX2lubGluZV9lZGl0X3NhdmUgPSBpbmxpbmVFZGl0VGF4LnNhdmUsXG5cdFx0XHRfd3BfaW5saW5lX2VkaXRfcmV2ZXJ0ID0gaW5saW5lRWRpdFRheC5yZXZlcnQ7XG5cblx0XHRpbmxpbmVFZGl0VGF4LmVkaXQgPSBmdW5jdGlvbiggaWQgKSB7XG5cdFx0XHR2YXIgb2JqZWN0X2lkLCAkdHIsXG5cdFx0XHRcdHRheCA9ICQoJ2lucHV0W25hbWU9XCJ0YXhvbm9teVwiXScpLnZhbCgpO1xuXG5cdFx0XHRfd3BfaW5saW5lX2VkaXRfdGF4LmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcblxuXHRcdFx0Ly8gZ2V0IHRoZSBwb3N0IElEXG5cdFx0XHRvYmplY3RfaWQgPSAwO1xuXHRcdFx0aWYgKCB0eXBlb2YoIGlkICkgPT09ICdvYmplY3QnICkge1xuXHRcdFx0XHRvYmplY3RfaWQgPSBwYXJzZUludCggdGhpcy5nZXRJZCggaWQgKSApO1xuXHRcdFx0fVxuXHRcdFx0JHRyID0gJCgnI2VkaXQtJyArIG9iamVjdF9pZCApO1xuXG5cdFx0XHR0aGlzLmFjZl9xZWRfZm9ybSA9IG5ldyBxZS5mb3JtLlF1aWNrRWRpdCh7XG5cdFx0XHRcdGVsOiAkdHIuZ2V0KDApLFxuXHRcdFx0XHRvYmplY3RfaWQ6IHRheCArICdfJyArIG9iamVjdF9pZFxuXHRcdFx0fSk7XG5cblx0XHR9O1xuXHRcdGlubGluZUVkaXRUYXgucmV2ZXJ0ID0gZnVuY3Rpb24oKSB7XG5cdFx0XHQvLyB1bmxvYWQgZm9ybXNcblx0XHRcdCEhIHRoaXMuYWNmX3FlZF9mb3JtICYmIHRoaXMuYWNmX3FlZF9mb3JtLnVubG9hZCgpO1xuXHRcdFx0cmV0dXJuIF93cF9pbmxpbmVfZWRpdF9yZXZlcnQuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuXHRcdH1cblx0XHRpbmxpbmVFZGl0VGF4LnNhdmUgPSBmdW5jdGlvbigpIHtcblx0XHRcdC8vIHVubG9hZCBmb3Jtc1xuXHRcdFx0ISEgdGhpcy5hY2ZfcWVkX2Zvcm0gJiYgdGhpcy5hY2ZfcWVkX2Zvcm0udW5sb2FkKCk7XG5cdFx0XHRyZXR1cm4gX3dwX2lubGluZV9lZGl0X3NhdmUuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuXHRcdH1cblx0fVxuXG59KSggalF1ZXJ5LCB3aW5kb3cuYWNmX3F1aWNrZWRpdCApO1xuIiwiKGZ1bmN0aW9uKCQpIHtcblx0JCgnLmFjZi1xZWYtZ2FsbGVyeS1jb2wnKS5vbignbW91c2Vtb3ZlJyxmdW5jdGlvbihlKXtcblx0XHR2YXIgJHRoaXNcdD0gJCh0aGlzKSxcblx0XHRcdCRpbWdcdD0gJCh0aGlzKS5maW5kKCdpbWcnKVxuXHRcdFx0eFx0XHQ9IGUub2Zmc2V0WCxcblx0XHRcdG51bVx0XHQ9ICRpbWcubGVuZ3RoLFxuXHRcdFx0c3RlcFx0PSAkKHRoaXMpLndpZHRoKCkgLyBudW07XG5cblx0XHQkaW1nLmVhY2goIGZ1bmN0aW9uKGksZWwpIHtcblx0XHRcdGlmICh4ID49IHN0ZXAqaSkge1xuXHRcdFx0XHQkKGVsKS5zaG93KCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQkKGVsKS5oaWRlKCk7XG5cdFx0XHR9XG5cdFx0fSApO1xuXHR9KTtcbn0pKGpRdWVyeSk7Il19
