var acfQuickedit={};!function(t){function e(e,i){var a={action:"get_acf_post_meta",post_id:e,acf_field_keys:[]};i.find("[data-acf-field-key]").each(function(){a.acf_field_keys.push(t(this).attr("data-acf-field-key")),t(this).prop("readonly",!0),t(this).is('[data-is-do-not-change="true"]')||(t(this).is('[type="radio"],[type="checkbox"]')?t(this).prop("checked",!1):t(this).parent().is(".acf-quick-edit-date_picker, .acf-quick-edit-time_picker, .acf-quick-edit-date_time_picker")?t(this).next('[type="text"]').prop("readonly",!0):t(this).val(""))}),t.post(ajaxurl,a,function(e){var a,n,d,c,o,r,p=[];for(i.find("[data-acf-field-key]").each(function(){var e;!c&&(c=t(this).closest("tr.inline-edit-post")),e=t(this).data("acf-field-key"),-1===p.indexOf(e)&&p.push(e)}),a=0;a<p.length;a++){if(n=p[a],d=e[n],o=t('[data-acf-field-key="'+n+'"]:visible'),"boolean"==typeof d&&(d*=1),o.is(".acf-checkbox-list, .acf-radio-list")?(r=0,t.isArray(d)?t.each(d,function(t,e){r+=o.find('[value="'+e+'"]').prop("checked",!0).length}):r+=o.find('[value="'+d+'"]').prop("checked",!0).length,o.is(".other")&&!r&&(d?o.find('[value="other"]').prop("checked",!0):o.find('[type="text"]').val(""))):o.is('[type="radio"],[type="checkbox"]')||o.val(d),o.is('[type="password"]')||o.prop("readonly",!1),o.is("textarea")&&o.on("keydown keyup",function(t){13==t.which&&t.stopPropagation()}),o.is("select[multiple].ui")){var l=o.children();l.sort(function(e,i){return d.indexOf(t(e).attr("value"))-d.indexOf(t(i).attr("value"))}),l.detach().appendTo(o)}o.parent().is(".acf-quick-edit-date_picker, .acf-quick-edit-time_picker, .acf-quick-edit-date_time_picker")&&o.next('[type="text"]').prop("readonly",!1)}i.find("input.acf-quick-edit-color_picker").each(function(e,i){t(i).wpColorPicker()}),i.find(".acf-quick-edit-date_picker").each(function(e,i){acfQuickedit.datepicker.init(t(i))}),i.find(".acf-quick-edit-time_picker").each(function(e,i){acfQuickedit.timepicker.init(t(i))}),i.find(".acf-quick-edit-date_time_picker").each(function(e,i){acfQuickedit.datetimepicker.init(t(i))}),t("body > #ui-datepicker-div").length>0&&t("body > #ui-datepicker-div").wrap('<div class="acf-ui-datepicker" />')})}function i(e,i){var a=e.closest("form");acf.update("post_id",i),e.click(function(e){return!acf.validation.active||(acf.validation.ignore?(acf.validation.ignore=0,!0):(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),acf.validation.$trigger=t(this),acf.validation.fetch(a),!1))}),e.data("events").click.reverse()}var a;if(acfQuickedit.datepicker={init:function(e){var i=e.find('[type="hidden"]'),a=e.find('[type="text"]');args={dateFormat:e.data("date_format"),altFormat:"yymmdd",altField:i,changeYear:!0,yearRange:"-100:+100",changeMonth:!0,showButtonPanel:!0,firstDay:e.data("first_day")},date=t.datepicker.parseDate("yymmdd",i.val()),a.datepicker(args).datepicker("setDate",date).on("blur",function(){t(this).val()||i.val("")})}},acfQuickedit.timepicker={init:function(e){var i=e.find('[type="hidden"]'),a=e.find('[type="text"]'),n={timeFormat:e.data("time_format"),altTimeFormat:"HH:mm:ss",altField:i,altFieldTimeOnly:!1,showButtonPanel:!0,controlType:"select",oneLine:!0},d=t.datepicker.parseTime("HH:mm:ss",i.val());a.timepicker(n).on("blur",function(){t(this).val()||i.val("")}),i.val()&&a.val(t.datepicker.formatTime(e.data("time_format"),d))}},acfQuickedit.datetimepicker={init:function(e){var i=e.find('[type="hidden"]'),a=e.find('[type="text"]');altTimeFormat="HH:mm:ss",args={altField:i,dateFormat:e.data("date_format"),altFormat:"yy-mm-dd",timeFormat:e.data("time_format"),altTimeFormat:altTimeFormat,altFieldTimeOnly:!1,changeYear:!0,yearRange:"-100:+100",changeMonth:!0,showButtonPanel:!0,firstDay:e.data("first_day"),controlType:"select",oneLine:!0},datetime=t.datepicker.parseDateTime("yy-mm-dd",altTimeFormat,i.val()),a.datetimepicker(args).datepicker("setDate",datetime).on("blur",function(){t(this).val()||i.val("")})}},"undefined"!=typeof inlineEditPost){var n=inlineEditPost.edit;inlineEditPost.edit=function(a){var d,c;n.apply(this,arguments),d=0,"object"==typeof a&&(d=parseInt(this.getId(a))),c=t("#edit-"+d),e(d,t("#edit-"+d)),i(c.find("button.save"),d)}}if("undefined"!=typeof inlineEditTax){var d=inlineEditTax.edit;inlineEditTax.edit=function(a){var n,c,o=t('input[name="taxonomy"]').val();d.apply(this,arguments),n=0,"object"==typeof a&&(n=parseInt(this.getId(a))),c=t("#edit-"+n),e(o+"_"+n,c),i(c.find("button.save"),n)}}acf.validation.error_class="form-invalid",t(document).on("click",".bulkactions .button.action",function(i){var a=[];t("#bulk-edit #bulk-titles").children().each(function(){a.push(t(this).attr("id").replace(/^(ttle)/i,""))}),e(a,t("#bulk-edit"))}).on("change",'.acf-radio-list.other input[type="radio"]',function(e){var i=t(this),a=i.closest(".acf-radio-list"),n="other"==i.val(),d=a.find('[type="text"]').prop("disabled",!n);!!n&&d.focus()}).on("change mousemove",'.acf-range-wrap input[type="range"]',function(e){t(this).next('[type="number"]').val(t(this).val())}).on("change keyup",'.acf-range-wrap input[type="number"]',function(e){t(this).prev('[type="range"]').val(t(this).val())}).on("change",'[data-is-do-not-change="true"]',function(){var e,i=t(this),a=i.attr("name"),n=i.closest(".acf-checkbox-list");e=n.length?n.find('[type="checkbox"]:not([data-is-do-not-change])'):i.closest(".acf-field").find('[name="'+a+'"]:not([data-is-do-not-change])'),console.log(e),e.prop("disabled",i.prop("checked"))}).on("click",".inline-edit-col .select-media",function(e){var i,n=this,d=t(n).parent(".acf-input-wrap").find('[type="hidden"]'),c=t(this).closest(".acf-field"),o=acf.get("post_id");i={field:d.attr("data-acf-field-key"),multiple:!1,post_id:o,library:d.attr("data-library"),mode:"select",select:function(e,i){if(e){var a=t(n).parent(".acf-input-wrap").find('[type="hidden"]'),d=e.get("id");a.val(d)}}},e.preventDefault(),d.data("mime_types")&&(i.mime_types=d.data("mime_types")),c.is('[data-field-type="image"]')?i.type="image":i.type="",a=acf.media.popup(i),acf.isset(window,"wp","media","view","settings","post")&&t.isNumeric(o)&&(wp.media.view.settings.post.id=o)}).on("click",".inline-edit-col .remove-media",function(e){e.preventDefault();var i=t(this).parent().find('[type="hidden"]');i.val(""),console.log(i)})}(jQuery);
!function(e){e(".acf-qef-gallery-col").on("mousemove",function(n){var t=(e(this),e(this).find("img"));x=n.offsetX,num=t.length,step=e(this).width()/num,t.each(function(n,t){x>=step*n?e(t).show():e(t).hide()})})}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFjZi1xdWlja2VkaXQuanMiLCJ0aHVtYm5haWwtY29sLmpzIl0sIm5hbWVzIjpbImFjZlF1aWNrZWRpdCIsIiQiLCJnZXRfYWNmX3Bvc3RfZGF0YSIsInBvc3RfaWQiLCIkcGFyZW50IiwicmVxX2RhdGEiLCJhY3Rpb24iLCJhY2ZfZmllbGRfa2V5cyIsImZpbmQiLCJlYWNoIiwicHVzaCIsInRoaXMiLCJhdHRyIiwicHJvcCIsImlzIiwicGFyZW50IiwibmV4dCIsInZhbCIsInBvc3QiLCJhamF4dXJsIiwicmVzdWx0IiwiaSIsImtleSIsInZhbHVlIiwiJHRyIiwiJGZpZWxkIiwic2VsZWN0ZWQiLCJrZXlzIiwiY2xvc2VzdCIsImRhdGEiLCJpbmRleE9mIiwibGVuZ3RoIiwiaXNBcnJheSIsImlkeCIsIm9uIiwiZXZlbnQiLCJ3aGljaCIsInN0b3BQcm9wYWdhdGlvbiIsIiRvcHQiLCJjaGlsZHJlbiIsInNvcnQiLCJhIiwiYiIsImRldGFjaCIsImFwcGVuZFRvIiwiZWwiLCJ3cENvbG9yUGlja2VyIiwiZGF0ZXBpY2tlciIsImluaXQiLCJ0aW1lcGlja2VyIiwiZGF0ZXRpbWVwaWNrZXIiLCJ3cmFwIiwiYmluZFZhbGlkYXRpb24iLCIkYnV0dG9uIiwib2JqZWN0X2lkIiwiJGZvcm0iLCJhY2YiLCJ1cGRhdGUiLCJjbGljayIsImUiLCJ2YWxpZGF0aW9uIiwiYWN0aXZlIiwiaWdub3JlIiwicHJldmVudERlZmF1bHQiLCJzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24iLCIkdHJpZ2dlciIsImZldGNoIiwicmV2ZXJzZSIsIm1lZGlhX2ZyYW1lIiwiJHdyYXAiLCIkaGlkZGVuIiwiJGlucHV0IiwiYXJncyIsImRhdGVGb3JtYXQiLCJhbHRGb3JtYXQiLCJhbHRGaWVsZCIsImNoYW5nZVllYXIiLCJ5ZWFyUmFuZ2UiLCJjaGFuZ2VNb250aCIsInNob3dCdXR0b25QYW5lbCIsImZpcnN0RGF5IiwiZGF0ZSIsInBhcnNlRGF0ZSIsInRpbWVGb3JtYXQiLCJhbHRUaW1lRm9ybWF0IiwiYWx0RmllbGRUaW1lT25seSIsImNvbnRyb2xUeXBlIiwib25lTGluZSIsInRpbWUiLCJwYXJzZVRpbWUiLCJmb3JtYXRUaW1lIiwiZGF0ZXRpbWUiLCJwYXJzZURhdGVUaW1lIiwiaW5saW5lRWRpdFBvc3QiLCJfd3BfaW5saW5lX2VkaXRfcG9zdCIsImVkaXQiLCJpZCIsImFwcGx5IiwiYXJndW1lbnRzIiwicGFyc2VJbnQiLCJnZXRJZCIsImlubGluZUVkaXRUYXgiLCJfd3BfaW5saW5lX2VkaXRfdGF4IiwidGF4IiwiZXJyb3JfY2xhc3MiLCJkb2N1bWVudCIsInBvc3RfaWRzIiwicmVwbGFjZSIsIiR0aGlzIiwiJGxpc3QiLCJpc19vdGhlciIsIiRvdGhlciIsImZvY3VzIiwicHJldiIsIiRpdGVtcyIsIiRzZWxmIiwibmFtZSIsImNvbnNvbGUiLCJsb2ciLCJtZWRpYUZyYW1lT3B0cyIsInNlbGYiLCJnZXQiLCJmaWVsZCIsIm11bHRpcGxlIiwibGlicmFyeSIsIm1vZGUiLCJzZWxlY3QiLCJhdHRhY2htZW50IiwibWVkaWFfaWQiLCJtaW1lX3R5cGVzIiwidHlwZSIsIm1lZGlhIiwicG9wdXAiLCJpc3NldCIsIndpbmRvdyIsImlzTnVtZXJpYyIsIndwIiwidmlldyIsInNldHRpbmdzIiwialF1ZXJ5IiwiJGltZyIsIngiLCJvZmZzZXRYIiwibnVtIiwic3RlcCIsIndpZHRoIiwic2hvdyIsImhpZGUiXSwibWFwcGluZ3MiOiJBQUFBLEdBQUlBLGtCQUVKLFNBQVVDLEdBSVQsUUFBU0MsR0FBbUJDLEVBQVVDLEdBSXJDLEdBQUlDLElBQ0hDLE9BQVcsb0JBQ1hILFFBQVlBLEVBQ1pJLGtCQUdESCxHQUFRSSxLQUFLLHdCQUF3QkMsS0FBSyxXQUV6Q0osRUFBU0UsZUFBZUcsS0FBTVQsRUFBRVUsTUFBTUMsS0FBSyx1QkFFM0NYLEVBQUVVLE1BQU1FLEtBQU0sWUFBWSxHQUVuQlosRUFBRVUsTUFBTUcsR0FBRyxvQ0FDWmIsRUFBRVUsTUFBTUcsR0FBRyxvQ0FDZmIs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VSxNQUNOVixFQUFFVSxNQUFNSCxLQUFLLE9BQ3BCcUksR0FBS2xGLEVBQUVtRixRQUNQQyxJQUFPSCxFQUFLN0csT0FDWmlILEtBQU8vSSxFQUFFVSxNQUFNc0ksUUFBVUYsSUFFMUJILEVBQUtuSSxLQUFNLFNBQVNZLEVBQUV3QixHQUNqQmdHLEdBQUtHLEtBQUszSCxFQUNicEIsRUFBRTRDLEdBQUlxRyxPQUVOakosRUFBRTRDLEdBQUlzRyxZQUlQUiIsImZpbGUiOiJhY2YtcXVpY2tlZGl0Lm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBhY2ZRdWlja2VkaXQgPSB7fTtcblxuKGZ1bmN0aW9uKCQpIHtcblxuXHR2YXIgbWVkaWFfZnJhbWU7XG5cblx0ZnVuY3Rpb24gZ2V0X2FjZl9wb3N0X2RhdGEoIHBvc3RfaWQgLCAkcGFyZW50ICkge1xuXHRcdC8vXG5cdFx0Ly8gTG9hZCBGaWVsZCBWYWx1ZXNcblx0XHQvL1xuXHRcdHZhciByZXFfZGF0YSA9IHtcblx0XHRcdCdhY3Rpb24nIDogJ2dldF9hY2ZfcG9zdF9tZXRhJyxcblx0XHRcdCdwb3N0X2lkJyA6IHBvc3RfaWQsXG5cdFx0XHQnYWNmX2ZpZWxkX2tleXMnIDogW11cblx0XHR9O1xuXHRcdC8vIC4uLiBnYXRoZXIgZmllbGRzIC4uLlxuXHRcdCRwYXJlbnQuZmluZCgnW2RhdGEtYWNmLWZpZWxkLWtleV0nKS5lYWNoKGZ1bmN0aW9uKCl7XG5cblx0XHRcdHJlcV9kYXRhLmFjZl9maWVsZF9rZXlzLnB1c2goICQodGhpcykuYXR0cignZGF0YS1hY2YtZmllbGQta2V5JykgKTtcblxuXHRcdFx0JCh0aGlzKS5wcm9wKCAncmVhZG9ubHknLCB0cnVlICk7XG5cblx0XHRcdGlmICggISAkKHRoaXMpLmlzKCdbZGF0YS1pcy1kby1ub3QtY2hhbmdlPVwidHJ1ZVwiXScgKSApIHtcblx0XHRcdFx0aWYgKCAkKHRoaXMpLmlzKCdbdHlwZT1cInJhZGlvXCJdLFt0eXBlPVwiY2hlY2tib3hcIl0nKSApIHtcblx0XHRcdFx0XHQkKHRoaXMpLnByb3AoICdjaGVja2VkJywgZmFsc2UgKTtcblx0XHRcdFx0fSBlbHNlIGlmICggJCh0aGlzKS5wYXJlbnQoKS5pcygnLmFjZi1xdWljay1lZGl0LWRhdGVfcGlja2VyLCAuYWNmLXF1aWNrLWVkaXQtdGltZV9waWNrZXIsIC5hY2YtcXVpY2stZWRpdC1kYXRlX3RpbWVfcGlja2VyJyApICkge1xuXHRcdFx0XHRcdCQodGhpcykubmV4dCgnW3R5cGU9XCJ0ZXh0XCJdJykucHJvcCggJ3JlYWRvbmx5JywgdHJ1ZSApO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdCQodGhpcykudmFsKCcnKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0Ly8gLi4uIHNlbmQgYSByZXF1ZXN0IC4uLlxuXHRcdCQucG9zdCggYWpheHVybCwgcmVxX2RhdGEsIGZ1bmN0aW9uKCByZXN1bHQgKSB7XG5cdFx0XHR2YXIgaSwga2V5LCB2YWx1ZSwgJHRyLCAkZmllbGQsXG5cdFx0XHRcdHNlbGVjdGVkO1xuXG5cdFx0XHR2YXIga2V5cyA9IFtdO1xuXHRcdFx0Ly8gb25seSBrZWVwIGtleXMgdGhhdCBoYXZlIGZpZWxkc1xuXHRcdFx0JHBhcmVudC5maW5kKCdbZGF0YS1hY2YtZmllbGQta2V5XScpLmVhY2goZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBrZXk7XG5cdFx0XHRcdCEkdHIgJiYgKCR0ciA9ICQodGhpcykuY2xvc2VzdCgndHIuaW5saW5lLWVkaXQtcG9zdCcpKTtcblx0XHRcdFx0a2V5ID0gJCh0aGlzKS5kYXRhKCdhY2YtZmllbGQta2V5Jyk7XG5cdFx0XHRcdGlmICgga2V5cy5pbmRleE9mKCBrZXkgKSA9PT0gLTEgKSB7XG5cdFx0XHRcdFx0a2V5cy5wdXNoKGtleSk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXG5cdFx0XHRmb3IgKCBpPTA7IGk8a2V5cy5sZW5ndGg7IGkrKykge1xuXG5cdFx0XHRcdGtleSA9IGtleXNbaV0sIHZhbHVlID0gcmVzdWx0WyBrZXkgXTtcblxuXHRcdFx0XHQkZmllbGQgPSAkKCdbZGF0YS1hY2YtZmllbGQta2V5PVwiJytrZXkrJ1wiXTp2aXNpYmxlJyk7XG5cblx0XHRcdFx0Ly8gY29udmVydCBib29sIHRvIGludFxuXHRcdFx0XHRpZiAodHlwZW9mKHZhbHVlKSA9PT0gJ2Jvb2xlYW4nKSB7XG5cdFx0XHRcdFx0dmFsdWUgKj0gMTtcblx0XHRcdFx0fVxuXG5cblx0XHRcdFx0aWYgKCAkZmllbGQuaXMoICcuYWNmLWNoZWNrYm94LWxpc3QsIC5hY2YtcmFkaW8tbGlzdCcgKSApIHtcblx0XHRcdFx0XHRzZWxlY3RlZCA9IDA7XG5cdFx0XHRcdFx0aWYgKCAkLmlzQXJyYXkoIHZhbHVlICkgKSB7XG5cdFx0XHRcdFx0XHQkLmVhY2goIHZhbHVlLCBmdW5jdGlvbiggaWR4LCB2YWwgKSB7XG5cdFx0XHRcdFx0XHRcdHNlbGVjdGVkICs9ICRmaWVsZC5maW5kKCAnW3ZhbHVlPVwiJyt2YWwrJ1wiXScgKS5wcm9wKCAnY2hlY2tlZCcsdHJ1ZSkubGVuZ3RoO1xuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHNlbGVjdGVkICs9ICRmaWVsZC5maW5kKCAnW3ZhbHVlPVwiJyt2YWx1ZSsnXCJdJyApLnByb3AoICdjaGVja2VkJyx0cnVlKS5sZW5ndGg7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmICggJGZpZWxkLmlzKCcub3RoZXInKSAmJiAhIHNlbGVjdGVkICkge1xuXHRcdFx0XHRcdFx0aWYgKCAhISB2YWx1ZSApIHtcblx0XHRcdFx0XHRcdFx0JGZpZWxkLmZpbmQoJ1t2YWx1ZT1cIm90aGVyXCJdJykucHJvcCggJ2NoZWNrZWQnLCB0cnVlICk7XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHQkZmllbGQuZmluZCgnW3R5cGU9XCJ0ZXh0XCJdJykudmFsKCcnKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0fSBlbHNlIGlmICggISAkZmllbGQuaXMoICdbdHlwZT1cInJhZGlvXCJdLFt0eXBlPVwiY2hlY2tib3hcIl0nICkgKSB7XG5cdFx0XHRcdFx0JGZpZWxkLnZhbCggdmFsdWUgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmICggISAkZmllbGQuaXMoICdbdHlwZT1cInBhc3N3b3JkXCJdJyApICkge1xuXHRcdFx0XHRcdCRmaWVsZC5wcm9wKCAncmVhZG9ubHknLCBmYWxzZSApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKCAkZmllbGQuaXMoXCJ0ZXh0YXJlYVwiKSApIHtcblx0XHRcdFx0XHQkZmllbGQub24oJ2tleWRvd24ga2V5dXAnLCBmdW5jdGlvbihldmVudCkge1xuXHRcdFx0XHRcdFx0aWYgKCBldmVudC53aGljaCA9PSAxMyApIHtcblx0XHRcdFx0XHRcdFx0ZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoICRmaWVsZC5pcyhcInNlbGVjdFttdWx0aXBsZV0udWlcIikgKSB7XG5cdFx0XHRcdFx0dmFyICRvcHQgPSAkZmllbGQuY2hpbGRyZW4oKTtcblxuXHRcdFx0XHRcdCRvcHQuc29ydChmdW5jdGlvbihhLGIpIHtcblx0XHRcdFx0XHRcdHJldHVybiB2YWx1ZS5pbmRleE9mKCAkKGEpLmF0dHIoJ3ZhbHVlJykgKSAtIHZhbHVlLmluZGV4T2YoICQoYikuYXR0cigndmFsdWUnKSApO1xuXHRcdFx0XHRcdH0pXG5cdFx0XHRcdFx0JG9wdC5kZXRhY2goKS5hcHBlbmRUbyggJGZpZWxkICk7XG5cblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmICggJGZpZWxkLnBhcmVudCgpLmlzKCcuYWNmLXF1aWNrLWVkaXQtZGF0ZV9waWNrZXIsIC5hY2YtcXVpY2stZWRpdC10aW1lX3BpY2tlciwgLmFjZi1xdWljay1lZGl0LWRhdGVfdGltZV9waWNrZXInICkgKSB7XG5cdFx0XHRcdFx0JGZpZWxkLm5leHQoJ1t0eXBlPVwidGV4dFwiXScpLnByb3AoICdyZWFkb25seScsIGZhbHNlICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0fVxuXG5cdFx0XHQvLyBpbml0IGNvbG9ycGlja2VyXG5cdFx0XHQkcGFyZW50LmZpbmQoJ2lucHV0LmFjZi1xdWljay1lZGl0LWNvbG9yX3BpY2tlcicpLmVhY2goIGZ1bmN0aW9uKCBpLCBlbCApIHtcblx0XHRcdFx0JChlbCkud3BDb2xvclBpY2tlcigpO1xuXHRcdFx0fSlcblxuXHRcdFx0Ly8gaW5pdCBkYXRlcGlja2VyXG5cdFx0XHQkcGFyZW50LmZpbmQoJy5hY2YtcXVpY2stZWRpdC1kYXRlX3BpY2tlcicpLmVhY2goIGZ1bmN0aW9uKCBpLCBlbCApIHtcblxuXHRcdFx0XHRhY2ZRdWlja2VkaXQuZGF0ZXBpY2tlci5pbml0KCAkKGVsKSApO1xuXG5cdFx0XHR9KTtcblxuXHRcdFx0Ly8gaW5pdCB0aW1lcGlja2VyXG5cdFx0XHQkcGFyZW50LmZpbmQoJy5hY2YtcXVpY2stZWRpdC10aW1lX3BpY2tlcicpLmVhY2goIGZ1bmN0aW9uKCBpLCBlbCApIHtcblxuXHRcdFx0XHRhY2ZRdWlja2VkaXQudGltZXBpY2tlci5pbml0KCAkKGVsKSApO1xuXG5cdFx0XHR9KTtcblxuXHRcdFx0Ly8gaW5pdCBkYXRldGltcGlja2VyXG5cdFx0XHQkcGFyZW50LmZpbmQoJy5hY2YtcXVpY2stZWRpdC1kYXRlX3RpbWVfcGlja2VyJykuZWFjaCggZnVuY3Rpb24oIGksIGVsICkge1xuXG5cdFx0XHRcdGFjZlF1aWNrZWRpdC5kYXRldGltZXBpY2tlci5pbml0KCAkKGVsKSApO1xuXG5cdFx0XHR9KTtcblxuXHRcdFx0aWYoICQoJ2JvZHkgPiAjdWktZGF0ZXBpY2tlci1kaXYnKS5sZW5ndGggPiAwICkge1xuXHRcdFx0XHQkKCdib2R5ID4gI3VpLWRhdGVwaWNrZXItZGl2Jykud3JhcCgnPGRpdiBjbGFzcz1cImFjZi11aS1kYXRlcGlja2VyXCIgLz4nKTtcblx0XHRcdH1cblx0XHR9KTtcblx0fVxuXG5cdGFjZlF1aWNrZWRpdC5kYXRlcGlja2VyID0ge1xuXHRcdGluaXQ6IGZ1bmN0aW9uKCAkd3JhcCApIHtcblx0XHRcdHZhciAkaGlkZGVuXHRcdD0gJHdyYXAuZmluZCggJ1t0eXBlPVwiaGlkZGVuXCJdJyApLFxuXHRcdFx0XHQkaW5wdXRcdFx0PSAkd3JhcC5maW5kKCAnW3R5cGU9XCJ0ZXh0XCJdJyApLFxuXHRcdFx0XHRhbHRGb3JtYXRcdD0gJ3l5bW1kZCdcblx0XHRcdFx0YXJnc1x0XHQ9IHtcblx0XHRcdFx0XHRkYXRlRm9ybWF0XHRcdDogJHdyYXAuZGF0YSgnZGF0ZV9mb3JtYXQnKSxcblx0XHRcdFx0XHRhbHRGb3JtYXRcdFx0OiBhbHRGb3JtYXQsXG5cdFx0XHRcdFx0YWx0RmllbGRcdFx0OiAkaGlkZGVuLFxuXHRcdFx0XHRcdGNoYW5nZVllYXJcdFx0OiB0cnVlLFxuXHRcdFx0XHRcdHllYXJSYW5nZVx0XHQ6IFwiLTEwMDorMTAwXCIsXG5cdFx0XHRcdFx0Y2hhbmdlTW9udGhcdFx0OiB0cnVlLFxuXHRcdFx0XHRcdHNob3dCdXR0b25QYW5lbFx0OiB0cnVlLFxuXHRcdFx0XHRcdGZpcnN0RGF5XHRcdDogJHdyYXAuZGF0YSgnZmlyc3RfZGF5Jylcblx0XHRcdFx0fSxcblx0XHRcdFx0ZGF0ZVx0XHQ9ICQuZGF0ZXBpY2tlci5wYXJzZURhdGUoIGFsdEZvcm1hdCwgJGhpZGRlbi52YWwoKSAgKTtcblxuXHRcdFx0JGlucHV0LmRhdGVwaWNrZXIoIGFyZ3MgKS5kYXRlcGlja2VyKCAnc2V0RGF0ZScsIGRhdGUgKS5vbignYmx1cicsZnVuY3Rpb24oKXtcblx0XHRcdFx0aWYgKCAhICQodGhpcykudmFsKCkgKSB7XG5cdFx0XHRcdFx0JGhpZGRlbi52YWwoJycpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9LFxuXHR9O1xuXG5cdGFjZlF1aWNrZWRpdC50aW1lcGlja2VyID0ge1xuXHRcdGluaXQ6IGZ1bmN0aW9uKCAkd3JhcCApIHtcblx0XHRcdHZhciAkaGlkZGVuXHRcdFx0PSAkd3JhcC5maW5kKCAnW3R5cGU9XCJoaWRkZW5cIl0nICksXG5cdFx0XHRcdCRpbnB1dFx0XHRcdD0gJHdyYXAuZmluZCggJ1t0eXBlPVwidGV4dFwiXScgKSxcblx0XHRcdFx0YWx0VGltZUZvcm1hdFx0PSAnSEg6bW06c3MnLFxuXHRcdFx0XHRhcmdzXHRcdFx0PSB7XG5cdFx0XHRcdFx0dGltZUZvcm1hdFx0XHRcdDogJHdyYXAuZGF0YSgndGltZV9mb3JtYXQnKSxcblx0XHRcdFx0XHRhbHRUaW1lRm9ybWF0XHRcdDogYWx0VGltZUZvcm1hdCxcblx0XHRcdFx0XHRhbHRGaWVsZFx0XHRcdDogJGhpZGRlbixcblx0XHRcdFx0XHRhbHRGaWVsZFRpbWVPbmx5XHQ6IGZhbHNlLFxuXHRcdFx0XHRcdHNob3dCdXR0b25QYW5lbFx0XHQ6IHRydWUsXG5cdFx0XHRcdFx0Y29udHJvbFR5cGVcdFx0XHQ6ICdzZWxlY3QnLFxuXHRcdFx0XHRcdG9uZUxpbmVcdFx0XHRcdDogdHJ1ZVxuXHRcdFx0XHR9LFxuXHRcdFx0XHR0aW1lIFx0XHRcdD0gJC5kYXRlcGlja2VyLnBhcnNlVGltZSggYWx0VGltZUZvcm1hdCwgJGhpZGRlbi52YWwoKSApO1xuXG5cdFx0XHQkaW5wdXQudGltZXBpY2tlciggYXJncyApLm9uKCdibHVyJyxmdW5jdGlvbigpe1xuXHRcdFx0XHRpZiAoICEgJCh0aGlzKS52YWwoKSApIHtcblx0XHRcdFx0XHQkaGlkZGVuLnZhbCgnJyk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdFx0aWYgKCAkaGlkZGVuLnZhbCgpICkge1xuXHRcdFx0XHQkaW5wdXQudmFsKCAkLmRhdGVwaWNrZXIuZm9ybWF0VGltZSggJHdyYXAuZGF0YSgndGltZV9mb3JtYXQnKSwgdGltZSApIClcblx0XHRcdH1cblx0XHR9LFxuXG5cdH07XG5cblxuXHRhY2ZRdWlja2VkaXQuZGF0ZXRpbWVwaWNrZXIgPSB7XG5cdFx0aW5pdDogZnVuY3Rpb24oICR3cmFwICkge1xuXHRcdFx0dmFyICRoaWRkZW5cdFx0XHQ9ICR3cmFwLmZpbmQoICdbdHlwZT1cImhpZGRlblwiXScgKSxcblx0XHRcdFx0JGlucHV0XHRcdFx0PSAkd3JhcC5maW5kKCAnW3R5cGU9XCJ0ZXh0XCJdJyApLFxuXHRcdFx0XHRhbHRGb3JtYXRcdFx0PSAneXktbW0tZGQnXG5cdFx0XHRcdGFsdFRpbWVGb3JtYXRcdD0gJ0hIOm1tOnNzJyxcblx0XHRcdFx0YXJnc1x0XHRcdD0ge1xuXHRcdFx0XHRcdGFsdEZpZWxkXHRcdFx0OiAkaGlkZGVuLFxuXHRcdFx0XHRcdGRhdGVGb3JtYXRcdFx0XHQ6ICR3cmFwLmRhdGEoJ2RhdGVfZm9ybWF0JyksXG5cdFx0XHRcdFx0YWx0Rm9ybWF0XHRcdFx0OiBhbHRGb3JtYXQsXG5cdFx0XHRcdFx0dGltZUZvcm1hdFx0XHRcdDogJHdyYXAuZGF0YSgndGltZV9mb3JtYXQnKSxcblx0XHRcdFx0XHRhbHRUaW1lRm9ybWF0XHRcdDogYWx0VGltZUZvcm1hdCxcblx0XHRcdFx0XHRhbHRGaWVsZFRpbWVPbmx5XHQ6IGZhbHNlLFxuXHRcdFx0XHRcdGNoYW5nZVllYXJcdFx0XHQ6IHRydWUsXG5cdFx0XHRcdFx0eWVhclJhbmdlXHRcdFx0OiBcIi0xMDA6KzEwMFwiLFxuXHRcdFx0XHRcdGNoYW5nZU1vbnRoXHRcdFx0OiB0cnVlLFxuXHRcdFx0XHRcdHNob3dCdXR0b25QYW5lbFx0XHQ6IHRydWUsXG5cdFx0XHRcdFx0Zmlyc3REYXlcdFx0XHQ6ICR3cmFwLmRhdGEoJ2ZpcnN0X2RheScpLFxuXHRcdFx0XHRcdGNvbnRyb2xUeXBlXHRcdFx0OiAnc2VsZWN0Jyxcblx0XHRcdFx0XHRvbmVMaW5lXHRcdFx0XHQ6IHRydWVcblx0XHRcdFx0fSxcblx0XHRcdFx0ZGF0ZXRpbWUgXHRcdFx0PSAkLmRhdGVwaWNrZXIucGFyc2VEYXRlVGltZSggYWx0Rm9ybWF0LCBhbHRUaW1lRm9ybWF0LCAkaGlkZGVuLnZhbCgpICk7XG5cblx0XHRcdCRpbnB1dC5kYXRldGltZXBpY2tlciggYXJncyApLmRhdGVwaWNrZXIoICdzZXREYXRlJywgZGF0ZXRpbWUgKS5vbignYmx1cicsZnVuY3Rpb24oKXtcblx0XHRcdFx0aWYgKCAhICQodGhpcykudmFsKCkgKSB7XG5cdFx0XHRcdFx0JGhpZGRlbi52YWwoJycpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9LFxuXG5cdH07XG5cblxuXHRpZiAoICd1bmRlZmluZWQnICE9PSB0eXBlb2YgaW5saW5lRWRpdFBvc3QgKSB7XG5cdFx0Ly8gd2UgY3JlYXRlIGEgY29weSBvZiB0aGUgV1AgaW5saW5lIGVkaXQgcG9zdCBmdW5jdGlvblxuXHRcdHZhciBfd3BfaW5saW5lX2VkaXRfcG9zdCA9IGlubGluZUVkaXRQb3N0LmVkaXQ7XG5cdFx0Ly8gYW5kIHRoZW4gd2Ugb3ZlcndyaXRlIHRoZSBmdW5jdGlvbiB3aXRoIG91ciBvd24gY29kZVxuXHRcdGlubGluZUVkaXRQb3N0LmVkaXQgPSBmdW5jdGlvbiggaWQgKSB7XG5cdFx0XHR2YXIgb2JqZWN0X2lkLCAkdHI7XG5cdFx0XHQvLyBcImNhbGxcIiB0aGUgb3JpZ2luYWwgV1AgZWRpdCBmdW5jdGlvblxuXHRcdFx0Ly8gd2UgZG9uJ3Qgd2FudCB0byBsZWF2ZSBXb3JkUHJlc3MgaGFuZ2luZ1xuXHRcdFx0X3dwX2lubGluZV9lZGl0X3Bvc3QuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuXG5cdFx0XHQvLyBnZXQgdGhlIHBvc3QgSURcblx0XHRcdG9iamVjdF9pZCA9IDA7XG5cdFx0XHRpZiAoIHR5cGVvZiggaWQgKSA9PT0gJ29iamVjdCcgKSB7XG5cdFx0XHRcdG9iamVjdF9pZCA9IHBhcnNlSW50KCB0aGlzLmdldElkKCBpZCApICk7XG5cdFx0XHR9XG5cdFx0XHQkdHIgPSAkKCcjZWRpdC0nICsgb2JqZWN0X2lkICk7XG5cdFx0XHRnZXRfYWNmX3Bvc3RfZGF0YSggb2JqZWN0X2lkICwgJCgnI2VkaXQtJyArIG9iamVjdF9pZCApICk7XG5cblx0XHRcdGJpbmRWYWxpZGF0aW9uKCAkdHIuZmluZCgnYnV0dG9uLnNhdmUnKSwgb2JqZWN0X2lkICk7XG5cdFx0fTtcblx0fVxuXG5cdGlmICggJ3VuZGVmaW5lZCcgIT09IHR5cGVvZiBpbmxpbmVFZGl0VGF4ICkge1xuXG5cdFx0dmFyIF93cF9pbmxpbmVfZWRpdF90YXggPSBpbmxpbmVFZGl0VGF4LmVkaXQ7XG5cblx0XHRpbmxpbmVFZGl0VGF4LmVkaXQgPSBmdW5jdGlvbiggaWQgKSB7XG5cdFx0XHR2YXIgb2JqZWN0X2lkLCAkdHIsXG5cdFx0XHRcdHRheCA9ICQoJ2lucHV0W25hbWU9XCJ0YXhvbm9teVwiXScpLnZhbCgpO1xuXG5cdFx0XHRfd3BfaW5saW5lX2VkaXRfdGF4LmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcblxuXHRcdFx0Ly8gZ2V0IHRoZSBwb3N0IElEXG5cdFx0XHRvYmplY3RfaWQgPSAwO1xuXHRcdFx0aWYgKCB0eXBlb2YoIGlkICkgPT09ICdvYmplY3QnICkge1xuXHRcdFx0XHRvYmplY3RfaWQgPSBwYXJzZUludCggdGhpcy5nZXRJZCggaWQgKSApO1xuXHRcdFx0fVxuXHRcdFx0JHRyID0gJCgnI2VkaXQtJyArIG9iamVjdF9pZCApO1xuXHRcdFx0Z2V0X2FjZl9wb3N0X2RhdGEoIHRheCArICdfJyArIG9iamVjdF9pZCAsICR0ciApO1xuXG5cdFx0XHRiaW5kVmFsaWRhdGlvbiggJHRyLmZpbmQoJ2J1dHRvbi5zYXZlJyksIG9iamVjdF9pZCApO1xuXHRcdH07XG5cdH1cblxuXHRhY2YudmFsaWRhdGlvbi5lcnJvcl9jbGFzcyA9ICdmb3JtLWludmFsaWQnO1xuXG5cdGZ1bmN0aW9uIGJpbmRWYWxpZGF0aW9uKCAkYnV0dG9uLCBvYmplY3RfaWQgKSB7XG5cdFx0dmFyICRmb3JtID0gJGJ1dHRvbi5jbG9zZXN0KCdmb3JtJyk7XG5cbi8vIFx0XHRhY2YudXBkYXRlKCdhamF4dXJsJywgYWpheHVybCApO1xuLy8gXHRcdGFjZi51cGRhdGUoJ25vbmNlJywgJGZvcm0uZmluZCgnW25hbWU9XCJub25jZVwiXScpLnZhbCgpICk7XG4gXHRcdGFjZi51cGRhdGUoJ3Bvc3RfaWQnLCBvYmplY3RfaWQgKTtcblxuXHRcdCRidXR0b24uY2xpY2soIGZ1bmN0aW9uKGUpIHtcblxuXHRcdFx0Ly8gYmFpbCBlYXJseSBpZiBub3QgYWN0aXZlXG5cdFx0XHRpZiggIWFjZi52YWxpZGF0aW9uLmFjdGl2ZSApIHtcblxuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblxuXHRcdFx0fVxuXG5cdFx0XHQvLyBpZ25vcmUgdmFsaWRhdGlvbiAob25seSBpZ25vcmUgb25jZSlcblx0XHRcdGlmKCBhY2YudmFsaWRhdGlvbi5pZ25vcmUgKSB7XG5cdFx0XHRcdGFjZi52YWxpZGF0aW9uLmlnbm9yZSA9IDA7XG5cdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBzdG9wIFdQIEpTIHZhbGlkYXRpb25cblx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdFx0XHRlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xuXG5cblx0XHRcdC8vIHN0b3JlIHN1Ym1pdCB0cmlnZ2VyIHNvIGl0IHdpbGwgYmUgY2xpY2tlZCBpZiB2YWxpZGF0aW9uIGlzIHBhc3NlZFxuXHRcdFx0YWNmLnZhbGlkYXRpb24uJHRyaWdnZXIgPSAkKHRoaXMpO1xuXG5cdFx0XHQvLyBydW4gdmFsaWRhdGlvblxuXHRcdFx0YWNmLnZhbGlkYXRpb24uZmV0Y2goICRmb3JtICk7XG5cblx0XHRcdC8vIHN0b3AgYWxsIG90aGVyIGNsaWNrIGV2ZW50cyBvbiB0aGlzIGlucHV0XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fSk7XG5cblx0XHQkYnV0dG9uLmRhdGEoJ2V2ZW50cycpLmNsaWNrLnJldmVyc2UoKTtcblx0fVxuXG5cdCQoZG9jdW1lbnQpLm9uKCAnY2xpY2snICwgJy5idWxrYWN0aW9ucyAuYnV0dG9uLmFjdGlvbicgLCBmdW5jdGlvbiggZSApIHtcblx0XHR2YXIgcG9zdF9pZHMgPSBbXTtcblxuXHRcdCQoICcjYnVsay1lZGl0ICNidWxrLXRpdGxlcycgKS5jaGlsZHJlbigpLmVhY2goIGZ1bmN0aW9uKCkge1xuXG5cdFx0XHRwb3N0X2lkcy5wdXNoKCAkKCB0aGlzICkuYXR0ciggJ2lkJyApLnJlcGxhY2UoIC9eKHR0bGUpL2ksICcnICkgKTtcblxuXHRcdH0pO1xuXG5cdFx0Z2V0X2FjZl9wb3N0X2RhdGEoIHBvc3RfaWRzICwgJCggJyNidWxrLWVkaXQnICkgKTtcblxuXHR9KVxuXHQub24oJ2NoYW5nZScsICcuYWNmLXJhZGlvLWxpc3Qub3RoZXIgaW5wdXRbdHlwZT1cInJhZGlvXCJdJywgZnVuY3Rpb24oZSkge1xuXG5cdFx0dmFyICR0aGlzID0gJCh0aGlzKSxcblx0XHRcdCRsaXN0ID0gJHRoaXMuY2xvc2VzdCgnLmFjZi1yYWRpby1saXN0JyksXG5cdFx0XHRpc19vdGhlciA9ICR0aGlzLnZhbCgpID09ICdvdGhlcicsXG5cdFx0XHQkb3RoZXIgPSAkbGlzdC5maW5kKCdbdHlwZT1cInRleHRcIl0nKS5wcm9wKCdkaXNhYmxlZCcsICEgaXNfb3RoZXIgKTtcblxuXHRcdCEhIGlzX290aGVyICYmICRvdGhlci5mb2N1cygpO1xuXG5cdH0pXG5cdC5vbignY2hhbmdlIG1vdXNlbW92ZScsICcuYWNmLXJhbmdlLXdyYXAgaW5wdXRbdHlwZT1cInJhbmdlXCJdJywgZnVuY3Rpb24oZSkge1xuXG5cdFx0JCh0aGlzKS5uZXh0KCdbdHlwZT1cIm51bWJlclwiXScpLnZhbCggJCh0aGlzKS52YWwoKSApO1xuXG5cdH0pXG5cdC5vbignY2hhbmdlIGtleXVwJywgJy5hY2YtcmFuZ2Utd3JhcCBpbnB1dFt0eXBlPVwibnVtYmVyXCJdJywgZnVuY3Rpb24oZSkge1xuXG5cdFx0JCh0aGlzKS5wcmV2KCdbdHlwZT1cInJhbmdlXCJdJykudmFsKCAkKHRoaXMpLnZhbCgpICk7XG5cblx0fSlcblx0Lm9uKCAnY2hhbmdlJywgJ1tkYXRhLWlzLWRvLW5vdC1jaGFuZ2U9XCJ0cnVlXCJdJywgZnVuY3Rpb24oKXtcblx0XHR2YXIgJHNlbGYgPSAkKHRoaXMpLFxuXHRcdFx0bmFtZSA9ICRzZWxmLmF0dHIoJ25hbWUnKSxcblx0XHRcdCRsaXN0ID0gJHNlbGYuY2xvc2VzdCgnLmFjZi1jaGVja2JveC1saXN0JyksXG5cdFx0XHQkaXRlbXM7XG5cdFx0aWYgKCAkbGlzdC5sZW5ndGggKSB7XG5cdFx0XHQkaXRlbXMgPSAkbGlzdC5maW5kKCdbdHlwZT1cImNoZWNrYm94XCJdOm5vdChbZGF0YS1pcy1kby1ub3QtY2hhbmdlXSknKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0JGl0ZW1zID0gJHNlbGYuY2xvc2VzdCgnLmFjZi1maWVsZCcpLmZpbmQoJ1tuYW1lPVwiJytuYW1lKydcIl06bm90KFtkYXRhLWlzLWRvLW5vdC1jaGFuZ2VdKScpXG5cdFx0fVxuXG5jb25zb2xlLmxvZygkaXRlbXMpO1xuXHRcdCRpdGVtcy5wcm9wKCAnZGlzYWJsZWQnLCAkc2VsZi5wcm9wKCdjaGVja2VkJykgKTtcblx0fSlcblx0Lm9uKCAnY2xpY2snLCAnLmlubGluZS1lZGl0LWNvbCAuc2VsZWN0LW1lZGlhJywgZnVuY3Rpb24oZSkge1xuXHRcdHZhciBzZWxmID0gdGhpcyxcblx0XHRcdCRoaWRkZW4gPSAkKHNlbGYpLnBhcmVudCgnLmFjZi1pbnB1dC13cmFwJykuZmluZCgnW3R5cGU9XCJoaWRkZW5cIl0nKSxcblx0XHRcdCRmaWVsZCA9ICQodGhpcykuY2xvc2VzdCgnLmFjZi1maWVsZCcpLFxuXHRcdFx0cG9zdF9pZCA9IGFjZi5nZXQoJ3Bvc3RfaWQnKSxcblx0XHRcdG1lZGlhRnJhbWVPcHRzO1xuXG5cdFx0bWVkaWFGcmFtZU9wdHMgPSB7XG5cdFx0XHRmaWVsZFx0XHQ6ICRoaWRkZW4uYXR0cignZGF0YS1hY2YtZmllbGQta2V5JyksXG5cdFx0XHRtdWx0aXBsZVx0OiBmYWxzZSxcblx0XHRcdHBvc3RfaWRcdFx0OiBwb3N0X2lkLFxuXHRcdFx0bGlicmFyeVx0XHQ6ICRoaWRkZW4uYXR0cignZGF0YS1saWJyYXJ5JyksXG5cdFx0XHRtb2RlXHRcdDonc2VsZWN0Jyxcblx0XHRcdHNlbGVjdFx0XHQ6IGZ1bmN0aW9uICggYXR0YWNobWVudCwgaSApIHtcblx0XHRcdFx0aWYgKCAhIGF0dGFjaG1lbnQgKSB7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHZhciAkaGlkZGVuID0gJChzZWxmKS5wYXJlbnQoJy5hY2YtaW5wdXQtd3JhcCcpLmZpbmQoJ1t0eXBlPVwiaGlkZGVuXCJdJyksXG5cdFx0XHRcdFx0bWVkaWFfaWQgPSBhdHRhY2htZW50LmdldCgnaWQnKTtcblxuXHRcdFx0XHQkaGlkZGVuLnZhbCggbWVkaWFfaWQgKTtcblx0XHRcdH1cblx0XHR9O1xuXG5cblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cblxuXHRcdGlmICggJGhpZGRlbi5kYXRhKCdtaW1lX3R5cGVzJykgKSB7XG5cdFx0XHRtZWRpYUZyYW1lT3B0cy5taW1lX3R5cGVzID0gJGhpZGRlbi5kYXRhKCdtaW1lX3R5cGVzJyk7XG5cdFx0fVxuXHRcdGlmICggJGZpZWxkLmlzKCdbZGF0YS1maWVsZC10eXBlPVwiaW1hZ2VcIl0nKSApIHtcblx0XHRcdG1lZGlhRnJhbWVPcHRzLnR5cGUgPSAnaW1hZ2UnO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRtZWRpYUZyYW1lT3B0cy50eXBlID0gJyc7XG5cdFx0fVxuXG5cdFx0Ly8gQ3JlYXRlIGEgbmV3IG1lZGlhIGZyYW1lXG5cdFx0bWVkaWFfZnJhbWUgPSBhY2YubWVkaWEucG9wdXAoIG1lZGlhRnJhbWVPcHRzICk7XG5cblxuXHRcdC8vIHNldCBwb3N0IGlkLCBzbyBuZXcgdXBsb2FkcyBhcmUgYXR0YWNoZWQgdG8gZWRpdGVkIHBvc3Rcblx0XHRpZiAoIGFjZi5pc3NldCh3aW5kb3csJ3dwJywnbWVkaWEnLCd2aWV3Jywnc2V0dGluZ3MnLCdwb3N0JykgJiYgJC5pc051bWVyaWMocG9zdF9pZCkgKSB7XG5cblx0XHRcdHdwLm1lZGlhLnZpZXcuc2V0dGluZ3MucG9zdC5pZCA9IHBvc3RfaWQ7XG5cblx0XHR9XG5cblx0fSlcblx0Lm9uKCAnY2xpY2snLCAnLmlubGluZS1lZGl0LWNvbCAucmVtb3ZlLW1lZGlhJywgZnVuY3Rpb24oZSkge1xuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHR2YXIgJGhpZGRlbiA9ICQodGhpcykucGFyZW50KCkuZmluZCgnW3R5cGU9XCJoaWRkZW5cIl0nKTtcblx0XHQkaGlkZGVuLnZhbCgnJyk7XG5cdFx0Y29uc29sZS5sb2coJGhpZGRlbik7XG5cdH0pO1xufSkoalF1ZXJ5KTtcbiIsIihmdW5jdGlvbigkKSB7XG5cdCQoJy5hY2YtcWVmLWdhbGxlcnktY29sJykub24oJ21vdXNlbW92ZScsZnVuY3Rpb24oZSl7XG5cdFx0dmFyICR0aGlzXHQ9ICQodGhpcyksXG5cdFx0XHQkaW1nXHQ9ICQodGhpcykuZmluZCgnaW1nJylcblx0XHRcdHhcdFx0PSBlLm9mZnNldFgsXG5cdFx0XHRudW1cdFx0PSAkaW1nLmxlbmd0aCxcblx0XHRcdHN0ZXBcdD0gJCh0aGlzKS53aWR0aCgpIC8gbnVtO1xuXG5cdFx0JGltZy5lYWNoKCBmdW5jdGlvbihpLGVsKSB7XG5cdFx0XHRpZiAoeCA+PSBzdGVwKmkpIHtcblx0XHRcdFx0JChlbCkuc2hvdygpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0JChlbCkuaGlkZSgpO1xuXHRcdFx0fVxuXHRcdH0gKTtcblx0fSk7XG59KShqUXVlcnkpOyJdfQ==
