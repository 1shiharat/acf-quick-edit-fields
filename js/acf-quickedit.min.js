var acfQuickedit={};!function(t){function e(e,i){var a={action:"get_acf_post_meta",post_id:e,acf_field_keys:[]};i.find("[data-acf-field-key]").each(function(){a.acf_field_keys.push(t(this).attr("data-acf-field-key")),t(this).prop("readonly",!0),t(this).is('[data-is-do-not-change="true"]')||(t(this).is('[type="radio"],[type="checkbox"]')?t(this).prop("checked",!1):t(this).parent().is(".acf-quick-edit-date_picker, .acf-quick-edit-time_picker, .acf-quick-edit-date_time_picker")?t(this).next('[type="text"]').prop("readonly",!0):t(this).val(""))}),t.post(ajaxurl,a,function(e){var a,n,d,c,o,r,p=[];for(i.find("[data-acf-field-key]").each(function(){var e;!c&&(c=t(this).closest("tr.inline-edit-post")),e=t(this).data("acf-field-key"),-1===p.indexOf(e)&&p.push(e)}),a=0;a<p.length;a++){if(n=p[a],d=e[n],o=t('[data-acf-field-key="'+n+'"]:visible'),"boolean"==typeof d&&(d*=1),o.is(".acf-checkbox-list, .acf-radio-list")?(r=0,t.isArray(d)?t.each(d,function(t,e){r+=o.find('[value="'+e+'"]').prop("checked",!0).length}):r+=o.find('[value="'+d+'"]').prop("checked",!0).length,o.is(".other")&&!r&&(d?o.find('[value="other"]').prop("checked",!0):o.find('[type="text"]').val(""))):o.is('[type="radio"],[type="checkbox"]')||o.val(d),o.is('[type="password"]')||o.prop("readonly",!1),o.is("textarea")&&o.on("keydown keyup",function(t){13==t.which&&t.stopPropagation()}),o.is("select[multiple].ui")){var f=o.children();f.sort(function(e,i){return d.indexOf(t(e).attr("value"))-d.indexOf(t(i).attr("value"))}),f.detach().appendTo(o)}o.parent().is(".acf-quick-edit-date_picker, .acf-quick-edit-time_picker, .acf-quick-edit-date_time_picker")&&o.next('[type="text"]').prop("readonly",!1)}i.find("input.acf-quick-edit-color_picker").each(function(e,i){t(i).wpColorPicker()}),i.find(".acf-quick-edit-date_picker").each(function(e,i){acfQuickedit.datepicker.init(t(i))}),i.find(".acf-quick-edit-time_picker").each(function(e,i){acfQuickedit.timepicker.init(t(i))}),i.find(".acf-quick-edit-date_time_picker").each(function(e,i){acfQuickedit.datetimepicker.init(t(i))}),t("body > #ui-datepicker-div").length>0&&t("body > #ui-datepicker-div").wrap('<div class="acf-ui-datepicker" />'),t('[data-is-do-not-change="true"]').trigger("change")})}function i(e,i){var a=e.closest("form");acf.update("post_id",i),e.click(function(e){return!acf.validation.active||(acf.validation.ignore?(acf.validation.ignore=0,!0):(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),acf.validation.$trigger=t(this),acf.validation.fetch(a),!1))}),e.data("events").click.reverse()}var a;if(acfQuickedit.datepicker={init:function(e){var i=e.find('[type="hidden"]'),a=e.find('[type="text"]');args={dateFormat:e.data("date_format"),altFormat:"yymmdd",altField:i,changeYear:!0,yearRange:"-100:+100",changeMonth:!0,showButtonPanel:!0,firstDay:e.data("first_day")},date=t.datepicker.parseDate("yymmdd",i.val()),a.datepicker(args).datepicker("setDate",date).on("blur",function(){t(this).val()||i.val("")})}},acfQuickedit.timepicker={init:function(e){var i=e.find('[type="hidden"]'),a=e.find('[type="text"]'),n={timeFormat:e.data("time_format"),altTimeFormat:"HH:mm:ss",altField:i,altFieldTimeOnly:!1,showButtonPanel:!0,controlType:"select",oneLine:!0},d=t.datepicker.parseTime("HH:mm:ss",i.val());a.timepicker(n).on("blur",function(){t(this).val()||i.val("")}),i.val()&&a.val(t.datepicker.formatTime(e.data("time_format"),d))}},acfQuickedit.datetimepicker={init:function(e){var i=e.find('[type="hidden"]'),a=e.find('[type="text"]');altTimeFormat="HH:mm:ss",args={altField:i,dateFormat:e.data("date_format"),altFormat:"yy-mm-dd",timeFormat:e.data("time_format"),altTimeFormat:altTimeFormat,altFieldTimeOnly:!1,changeYear:!0,yearRange:"-100:+100",changeMonth:!0,showButtonPanel:!0,firstDay:e.data("first_day"),controlType:"select",oneLine:!0},datetime=t.datepicker.parseDateTime("yy-mm-dd",altTimeFormat,i.val()),a.datetimepicker(args).datepicker("setDate",datetime).on("blur",function(){t(this).val()||i.val("")})}},"undefined"!=typeof inlineEditPost){var n=inlineEditPost.edit;inlineEditPost.edit=function(a){var d,c;n.apply(this,arguments),d=0,"object"==typeof a&&(d=parseInt(this.getId(a))),c=t("#edit-"+d),e(d,t("#edit-"+d)),i(c.find("button.save"),d)}}if("undefined"!=typeof inlineEditTax){var d=inlineEditTax.edit;inlineEditTax.edit=function(a){var n,c,o=t('input[name="taxonomy"]').val();d.apply(this,arguments),n=0,"object"==typeof a&&(n=parseInt(this.getId(a))),c=t("#edit-"+n),e(o+"_"+n,c),i(c.find("button.save"),n)}}acf.validation.error_class="form-invalid",t(document).on("click",".bulkactions .button.action",function(i){var a=[];t("#bulk-edit #bulk-titles").children().each(function(){a.push(t(this).attr("id").replace(/^(ttle)/i,""))}),e(a,t("#bulk-edit"))}).on("change",'.acf-radio-list.other input[type="radio"]',function(e){var i=t(this),a=i.closest(".acf-radio-list"),n="other"==i.val(),d=a.find('[type="text"]').prop("disabled",!n);!!n&&d.focus()}).on("change mousemove",'.acf-range-wrap input[type="range"]',function(e){t(this).next('[type="number"]').val(t(this).val())}).on("change keyup",'.acf-range-wrap input[type="number"]',function(e){t(this).prev('[type="range"]').val(t(this).val())}).on("change",'[data-is-do-not-change="true"]',function(){var e,i=t(this),a=i.attr("name"),n=i.closest(".acf-checkbox-list");e=n.length?n.find('[type="checkbox"]:not([data-is-do-not-change])'):i.closest(".acf-field").find('input,select,[name="'+a+'"]').not(this),e.prop("disabled",i.prop("checked"))}).on("click",".inline-edit-col .select-media",function(e){var i,n=this,d=t(n).parent(".acf-input-wrap").find('[type="hidden"]'),c=t(this).closest(".acf-field"),o=acf.get("post_id");i={field:d.attr("data-acf-field-key"),multiple:!1,post_id:o,library:d.attr("data-library"),mode:"select",select:function(e,i){if(e){var a=t(n).parent(".acf-input-wrap").find('[type="hidden"]'),d=e.get("id");a.val(d)}}},e.preventDefault(),d.data("mime_types")&&(i.mime_types=d.data("mime_types")),c.is('[data-field-type="image"]')?i.type="image":i.type="",a=acf.media.popup(i),acf.isset(window,"wp","media","view","settings","post")&&t.isNumeric(o)&&(wp.media.view.settings.post.id=o)}).on("click",".inline-edit-col .remove-media",function(e){e.preventDefault();var i=t(this).parent().find('[type="hidden"]');i.val(""),console.log(i)})}(jQuery);
!function(e){e(".acf-qef-gallery-col").on("mousemove",function(n){var t=(e(this),e(this).find("img"));x=n.offsetX,num=t.length,step=e(this).width()/num,t.each(function(n,t){x>=step*n?e(t).show():e(t).hide()})})}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFjZi1xdWlja2VkaXQuanMiLCJ0aHVtYm5haWwtY29sLmpzIl0sIm5hbWVzIjpbImFjZlF1aWNrZWRpdCIsIiQiLCJnZXRfYWNmX3Bvc3RfZGF0YSIsInBvc3RfaWQiLCIkcGFyZW50IiwicmVxX2RhdGEiLCJhY3Rpb24iLCJhY2ZfZmllbGRfa2V5cyIsImZpbmQiLCJlYWNoIiwicHVzaCIsInRoaXMiLCJhdHRyIiwicHJvcCIsImlzIiwicGFyZW50IiwibmV4dCIsInZhbCIsInBvc3QiLCJhamF4dXJsIiwicmVzdWx0IiwiaSIsImtleSIsInZhbHVlIiwiJHRyIiwiJGZpZWxkIiwic2VsZWN0ZWQiLCJrZXlzIiwiY2xvc2VzdCIsImRhdGEiLCJpbmRleE9mIiwibGVuZ3RoIiwiaXNBcnJheSIsImlkeCIsIm9uIiwiZXZlbnQiLCJ3aGljaCIsInN0b3BQcm9wYWdhdGlvbiIsIiRvcHQiLCJjaGlsZHJlbiIsInNvcnQiLCJhIiwiYiIsImRldGFjaCIsImFwcGVuZFRvIiwiZWwiLCJ3cENvbG9yUGlja2VyIiwiZGF0ZXBpY2tlciIsImluaXQiLCJ0aW1lcGlja2VyIiwiZGF0ZXRpbWVwaWNrZXIiLCJ3cmFwIiwidHJpZ2dlciIsImJpbmRWYWxpZGF0aW9uIiwiJGJ1dHRvbiIsIm9iamVjdF9pZCIsIiRmb3JtIiwiYWNmIiwidXBkYXRlIiwiY2xpY2siLCJlIiwidmFsaWRhdGlvbiIsImFjdGl2ZSIsImlnbm9yZSIsInByZXZlbnREZWZhdWx0Iiwic3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uIiwiJHRyaWdnZXIiLCJmZXRjaCIsInJldmVyc2UiLCJtZWRpYV9mcmFtZSIsIiR3cmFwIiwiJGhpZGRlbiIsIiRpbnB1dCIsImFyZ3MiLCJkYXRlRm9ybWF0IiwiYWx0Rm9ybWF0IiwiYWx0RmllbGQiLCJjaGFuZ2VZZWFyIiwieWVhclJhbmdlIiwiY2hhbmdlTW9udGgiLCJzaG93QnV0dG9uUGFuZWwiLCJmaXJzdERheSIsImRhdGUiLCJwYXJzZURhdGUiLCJ0aW1lRm9ybWF0IiwiYWx0VGltZUZvcm1hdCIsImFsdEZpZWxkVGltZU9ubHkiLCJjb250cm9sVHlwZSIsIm9uZUxpbmUiLCJ0aW1lIiwicGFyc2VUaW1lIiwiZm9ybWF0VGltZSIsImRhdGV0aW1lIiwicGFyc2VEYXRlVGltZSIsImlubGluZUVkaXRQb3N0IiwiX3dwX2lubGluZV9lZGl0X3Bvc3QiLCJlZGl0IiwiaWQiLCJhcHBseSIsImFyZ3VtZW50cyIsInBhcnNlSW50IiwiZ2V0SWQiLCJpbmxpbmVFZGl0VGF4IiwiX3dwX2lubGluZV9lZGl0X3RheCIsInRheCIsImVycm9yX2NsYXNzIiwiZG9jdW1lbnQiLCJwb3N0X2lkcyIsInJlcGxhY2UiLCIkdGhpcyIsIiRsaXN0IiwiaXNfb3RoZXIiLCIkb3RoZXIiLCJmb2N1cyIsInByZXYiLCIkaXRlbXMiLCIkc2VsZiIsIm5hbWUiLCJub3QiLCJtZWRpYUZyYW1lT3B0cyIsInNlbGYiLCJnZXQiLCJmaWVsZCIsIm11bHRpcGxlIiwibGlicmFyeSIsIm1vZGUiLCJzZWxlY3QiLCJhdHRhY2htZW50IiwibWVkaWFfaWQiLCJtaW1lX3R5cGVzIiwidHlwZSIsIm1lZGlhIiwicG9wdXAiLCJpc3NldCIsIndpbmRvdyIsImlzTnVtZXJpYyIsIndwIiwidmlldyIsInNldHRpbmdzIiwiY29uc29sZSIsImxvZyIsImpRdWVyeSIsIiRpbWciLCJ4Iiwib2Zmc2V0WCIsIm51bSIsInN0ZXAiLCJ3aWR0aCIsInNob3ciLCJoaWRlIl0sIm1hcHBpbmdzIjoiQUFBQSxHQUFJQSxrQkFFSixTQUFVQyxHQUlULFFBQVNDLEdBQW1CQyxFQUFVQyxHQUlyQyxHQUFJQyxJQUNIQyxPQUFXLG9CQUNYSCxRQUFZQSxFQUNaSSxrQkFHREgsR0FBUUksS0FBSyx3QkFBd0JDLEtBQUssV0FFekNKLEVBQVNFLGVBQWVHLEtBQU1ULEVBQUVVLE1BQU1DLEtBQUssdUJBRTNDWCxFQUFFVSxNQUFNRSxLQUFNLFlBQVksR0FFbkJaLEVBQUVVLE1BQU1HLEdBQUcsb0NBQ1piLEVBQUVVLE1B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QUFHLFlBQVksU0FBUzBCLEdBQ2pELEdBQ0NrRixJQURXN0ksRUFBRVUsTUFDTlYsRUFBRVUsTUFBTUgsS0FBSyxPQUNwQnVJLEdBQUtuRixFQUFFb0YsUUFDUEMsSUFBT0gsRUFBSy9HLE9BQ1ptSCxLQUFPakosRUFBRVUsTUFBTXdJLFFBQVVGLElBRTFCSCxFQUFLckksS0FBTSxTQUFTWSxFQUFFd0IsR0FDakJrRyxHQUFLRyxLQUFLN0gsRUFDYnBCLEVBQUU0QyxHQUFJdUcsT0FFTm5KLEVBQUU0QyxHQUFJd0csWUFJUFIiLCJmaWxlIjoiYWNmLXF1aWNrZWRpdC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgYWNmUXVpY2tlZGl0ID0ge307XG5cbihmdW5jdGlvbigkKSB7XG5cblx0dmFyIG1lZGlhX2ZyYW1lO1xuXG5cdGZ1bmN0aW9uIGdldF9hY2ZfcG9zdF9kYXRhKCBwb3N0X2lkICwgJHBhcmVudCApIHtcblx0XHQvL1xuXHRcdC8vIExvYWQgRmllbGQgVmFsdWVzXG5cdFx0Ly9cblx0XHR2YXIgcmVxX2RhdGEgPSB7XG5cdFx0XHQnYWN0aW9uJyA6ICdnZXRfYWNmX3Bvc3RfbWV0YScsXG5cdFx0XHQncG9zdF9pZCcgOiBwb3N0X2lkLFxuXHRcdFx0J2FjZl9maWVsZF9rZXlzJyA6IFtdXG5cdFx0fTtcblx0XHQvLyAuLi4gZ2F0aGVyIGZpZWxkcyAuLi5cblx0XHQkcGFyZW50LmZpbmQoJ1tkYXRhLWFjZi1maWVsZC1rZXldJykuZWFjaChmdW5jdGlvbigpe1xuXG5cdFx0XHRyZXFfZGF0YS5hY2ZfZmllbGRfa2V5cy5wdXNoKCAkKHRoaXMpLmF0dHIoJ2RhdGEtYWNmLWZpZWxkLWtleScpICk7XG5cblx0XHRcdCQodGhpcykucHJvcCggJ3JlYWRvbmx5JywgdHJ1ZSApO1xuXG5cdFx0XHRpZiAoICEgJCh0aGlzKS5pcygnW2RhdGEtaXMtZG8tbm90LWNoYW5nZT1cInRydWVcIl0nICkgKSB7XG5cdFx0XHRcdGlmICggJCh0aGlzKS5pcygnW3R5cGU9XCJyYWRpb1wiXSxbdHlwZT1cImNoZWNrYm94XCJdJykgKSB7XG5cdFx0XHRcdFx0JCh0aGlzKS5wcm9wKCAnY2hlY2tlZCcsIGZhbHNlICk7XG5cdFx0XHRcdH0gZWxzZSBpZiAoICQodGhpcykucGFyZW50KCkuaXMoJy5hY2YtcXVpY2stZWRpdC1kYXRlX3BpY2tlciwgLmFjZi1xdWljay1lZGl0LXRpbWVfcGlja2VyLCAuYWNmLXF1aWNrLWVkaXQtZGF0ZV90aW1lX3BpY2tlcicgKSApIHtcblx0XHRcdFx0XHQkKHRoaXMpLm5leHQoJ1t0eXBlPVwidGV4dFwiXScpLnByb3AoICdyZWFkb25seScsIHRydWUgKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHQkKHRoaXMpLnZhbCgnJyk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdC8vIC4uLiBzZW5kIGEgcmVxdWVzdCAuLi5cblx0XHQkLnBvc3QoIGFqYXh1cmwsIHJlcV9kYXRhLCBmdW5jdGlvbiggcmVzdWx0ICkge1xuXHRcdFx0dmFyIGksIGtleSwgdmFsdWUsICR0ciwgJGZpZWxkLFxuXHRcdFx0XHRzZWxlY3RlZDtcblxuXHRcdFx0dmFyIGtleXMgPSBbXTtcblx0XHRcdC8vIG9ubHkga2VlcCBrZXlzIHRoYXQgaGF2ZSBmaWVsZHNcblx0XHRcdCRwYXJlbnQuZmluZCgnW2RhdGEtYWNmLWZpZWxkLWtleV0nKS5lYWNoKGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIga2V5O1xuXHRcdFx0XHQhJHRyICYmICgkdHIgPSAkKHRoaXMpLmNsb3Nlc3QoJ3RyLmlubGluZS1lZGl0LXBvc3QnKSk7XG5cdFx0XHRcdGtleSA9ICQodGhpcykuZGF0YSgnYWNmLWZpZWxkLWtleScpO1xuXHRcdFx0XHRpZiAoIGtleXMuaW5kZXhPZigga2V5ICkgPT09IC0xICkge1xuXHRcdFx0XHRcdGtleXMucHVzaChrZXkpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblxuXHRcdFx0Zm9yICggaT0wOyBpPGtleXMubGVuZ3RoOyBpKyspIHtcblxuXHRcdFx0XHRrZXkgPSBrZXlzW2ldLCB2YWx1ZSA9IHJlc3VsdFsga2V5IF07XG5cblx0XHRcdFx0JGZpZWxkID0gJCgnW2RhdGEtYWNmLWZpZWxkLWtleT1cIicra2V5KydcIl06dmlzaWJsZScpO1xuXG5cdFx0XHRcdC8vIGNvbnZlcnQgYm9vbCB0byBpbnRcblx0XHRcdFx0aWYgKHR5cGVvZih2YWx1ZSkgPT09ICdib29sZWFuJykge1xuXHRcdFx0XHRcdHZhbHVlICo9IDE7XG5cdFx0XHRcdH1cblxuXG5cdFx0XHRcdGlmICggJGZpZWxkLmlzKCAnLmFjZi1jaGVja2JveC1saXN0LCAuYWNmLXJhZGlvLWxpc3QnICkgKSB7XG5cdFx0XHRcdFx0c2VsZWN0ZWQgPSAwO1xuXHRcdFx0XHRcdGlmICggJC5pc0FycmF5KCB2YWx1ZSApICkge1xuXHRcdFx0XHRcdFx0JC5lYWNoKCB2YWx1ZSwgZnVuY3Rpb24oIGlkeCwgdmFsICkge1xuXHRcdFx0XHRcdFx0XHRzZWxlY3RlZCArPSAkZmllbGQuZmluZCggJ1t2YWx1ZT1cIicrdmFsKydcIl0nICkucHJvcCggJ2NoZWNrZWQnLHRydWUpLmxlbmd0aDtcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRzZWxlY3RlZCArPSAkZmllbGQuZmluZCggJ1t2YWx1ZT1cIicrdmFsdWUrJ1wiXScgKS5wcm9wKCAnY2hlY2tlZCcsdHJ1ZSkubGVuZ3RoO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRpZiAoICRmaWVsZC5pcygnLm90aGVyJykgJiYgISBzZWxlY3RlZCApIHtcblx0XHRcdFx0XHRcdGlmICggISEgdmFsdWUgKSB7XG5cdFx0XHRcdFx0XHRcdCRmaWVsZC5maW5kKCdbdmFsdWU9XCJvdGhlclwiXScpLnByb3AoICdjaGVja2VkJywgdHJ1ZSApO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0JGZpZWxkLmZpbmQoJ1t0eXBlPVwidGV4dFwiXScpLnZhbCgnJyk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdH0gZWxzZSBpZiAoICEgJGZpZWxkLmlzKCAnW3R5cGU9XCJyYWRpb1wiXSxbdHlwZT1cImNoZWNrYm94XCJdJyApICkge1xuXHRcdFx0XHRcdCRmaWVsZC52YWwoIHZhbHVlICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoICEgJGZpZWxkLmlzKCAnW3R5cGU9XCJwYXNzd29yZFwiXScgKSApIHtcblx0XHRcdFx0XHQkZmllbGQucHJvcCggJ3JlYWRvbmx5JywgZmFsc2UgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmICggJGZpZWxkLmlzKFwidGV4dGFyZWFcIikgKSB7XG5cdFx0XHRcdFx0JGZpZWxkLm9uKCdrZXlkb3duIGtleXVwJywgZnVuY3Rpb24oZXZlbnQpIHtcblx0XHRcdFx0XHRcdGlmICggZXZlbnQud2hpY2ggPT0gMTMgKSB7XG5cdFx0XHRcdFx0XHRcdGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKCAkZmllbGQuaXMoXCJzZWxlY3RbbXVsdGlwbGVdLnVpXCIpICkge1xuXHRcdFx0XHRcdHZhciAkb3B0ID0gJGZpZWxkLmNoaWxkcmVuKCk7XG5cblx0XHRcdFx0XHQkb3B0LnNvcnQoZnVuY3Rpb24oYSxiKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gdmFsdWUuaW5kZXhPZiggJChhKS5hdHRyKCd2YWx1ZScpICkgLSB2YWx1ZS5pbmRleE9mKCAkKGIpLmF0dHIoJ3ZhbHVlJykgKTtcblx0XHRcdFx0XHR9KVxuXHRcdFx0XHRcdCRvcHQuZGV0YWNoKCkuYXBwZW5kVG8oICRmaWVsZCApO1xuXG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoICRmaWVsZC5wYXJlbnQoKS5pcygnLmFjZi1xdWljay1lZGl0LWRhdGVfcGlja2VyLCAuYWNmLXF1aWNrLWVkaXQtdGltZV9waWNrZXIsIC5hY2YtcXVpY2stZWRpdC1kYXRlX3RpbWVfcGlja2VyJyApICkge1xuXHRcdFx0XHRcdCRmaWVsZC5uZXh0KCdbdHlwZT1cInRleHRcIl0nKS5wcm9wKCAncmVhZG9ubHknLCBmYWxzZSApO1xuXHRcdFx0XHR9XG5cblx0XHRcdH1cblxuXHRcdFx0Ly8gaW5pdCBjb2xvcnBpY2tlclxuXHRcdFx0JHBhcmVudC5maW5kKCdpbnB1dC5hY2YtcXVpY2stZWRpdC1jb2xvcl9waWNrZXInKS5lYWNoKCBmdW5jdGlvbiggaSwgZWwgKSB7XG5cdFx0XHRcdCQoZWwpLndwQ29sb3JQaWNrZXIoKTtcblx0XHRcdH0pXG5cblx0XHRcdC8vIGluaXQgZGF0ZXBpY2tlclxuXHRcdFx0JHBhcmVudC5maW5kKCcuYWNmLXF1aWNrLWVkaXQtZGF0ZV9waWNrZXInKS5lYWNoKCBmdW5jdGlvbiggaSwgZWwgKSB7XG5cblx0XHRcdFx0YWNmUXVpY2tlZGl0LmRhdGVwaWNrZXIuaW5pdCggJChlbCkgKTtcblxuXHRcdFx0fSk7XG5cblx0XHRcdC8vIGluaXQgdGltZXBpY2tlclxuXHRcdFx0JHBhcmVudC5maW5kKCcuYWNmLXF1aWNrLWVkaXQtdGltZV9waWNrZXInKS5lYWNoKCBmdW5jdGlvbiggaSwgZWwgKSB7XG5cblx0XHRcdFx0YWNmUXVpY2tlZGl0LnRpbWVwaWNrZXIuaW5pdCggJChlbCkgKTtcblxuXHRcdFx0fSk7XG5cblx0XHRcdC8vIGluaXQgZGF0ZXRpbXBpY2tlclxuXHRcdFx0JHBhcmVudC5maW5kKCcuYWNmLXF1aWNrLWVkaXQtZGF0ZV90aW1lX3BpY2tlcicpLmVhY2goIGZ1bmN0aW9uKCBpLCBlbCApIHtcblxuXHRcdFx0XHRhY2ZRdWlja2VkaXQuZGF0ZXRpbWVwaWNrZXIuaW5pdCggJChlbCkgKTtcblxuXHRcdFx0fSk7XG5cblx0XHRcdGlmKCAkKCdib2R5ID4gI3VpLWRhdGVwaWNrZXItZGl2JykubGVuZ3RoID4gMCApIHtcblx0XHRcdFx0JCgnYm9keSA+ICN1aS1kYXRlcGlja2VyLWRpdicpLndyYXAoJzxkaXYgY2xhc3M9XCJhY2YtdWktZGF0ZXBpY2tlclwiIC8+Jyk7XG5cdFx0XHR9XG5cblx0XHRcdCQoJ1tkYXRhLWlzLWRvLW5vdC1jaGFuZ2U9XCJ0cnVlXCJdJykudHJpZ2dlcignY2hhbmdlJyk7XG5cdFx0fSk7XG5cdH1cblxuXHRhY2ZRdWlja2VkaXQuZGF0ZXBpY2tlciA9IHtcblx0XHRpbml0OiBmdW5jdGlvbiggJHdyYXAgKSB7XG5cdFx0XHR2YXIgJGhpZGRlblx0XHQ9ICR3cmFwLmZpbmQoICdbdHlwZT1cImhpZGRlblwiXScgKSxcblx0XHRcdFx0JGlucHV0XHRcdD0gJHdyYXAuZmluZCggJ1t0eXBlPVwidGV4dFwiXScgKSxcblx0XHRcdFx0YWx0Rm9ybWF0XHQ9ICd5eW1tZGQnXG5cdFx0XHRcdGFyZ3NcdFx0PSB7XG5cdFx0XHRcdFx0ZGF0ZUZvcm1hdFx0XHQ6ICR3cmFwLmRhdGEoJ2RhdGVfZm9ybWF0JyksXG5cdFx0XHRcdFx0YWx0Rm9ybWF0XHRcdDogYWx0Rm9ybWF0LFxuXHRcdFx0XHRcdGFsdEZpZWxkXHRcdDogJGhpZGRlbixcblx0XHRcdFx0XHRjaGFuZ2VZZWFyXHRcdDogdHJ1ZSxcblx0XHRcdFx0XHR5ZWFyUmFuZ2VcdFx0OiBcIi0xMDA6KzEwMFwiLFxuXHRcdFx0XHRcdGNoYW5nZU1vbnRoXHRcdDogdHJ1ZSxcblx0XHRcdFx0XHRzaG93QnV0dG9uUGFuZWxcdDogdHJ1ZSxcblx0XHRcdFx0XHRmaXJzdERheVx0XHQ6ICR3cmFwLmRhdGEoJ2ZpcnN0X2RheScpXG5cdFx0XHRcdH0sXG5cdFx0XHRcdGRhdGVcdFx0PSAkLmRhdGVwaWNrZXIucGFyc2VEYXRlKCBhbHRGb3JtYXQsICRoaWRkZW4udmFsKCkgICk7XG5cblx0XHRcdCRpbnB1dC5kYXRlcGlja2VyKCBhcmdzICkuZGF0ZXBpY2tlciggJ3NldERhdGUnLCBkYXRlICkub24oJ2JsdXInLGZ1bmN0aW9uKCl7XG5cdFx0XHRcdGlmICggISAkKHRoaXMpLnZhbCgpICkge1xuXHRcdFx0XHRcdCRoaWRkZW4udmFsKCcnKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fSxcblx0fTtcblxuXHRhY2ZRdWlja2VkaXQudGltZXBpY2tlciA9IHtcblx0XHRpbml0OiBmdW5jdGlvbiggJHdyYXAgKSB7XG5cdFx0XHR2YXIgJGhpZGRlblx0XHRcdD0gJHdyYXAuZmluZCggJ1t0eXBlPVwiaGlkZGVuXCJdJyApLFxuXHRcdFx0XHQkaW5wdXRcdFx0XHQ9ICR3cmFwLmZpbmQoICdbdHlwZT1cInRleHRcIl0nICksXG5cdFx0XHRcdGFsdFRpbWVGb3JtYXRcdD0gJ0hIOm1tOnNzJyxcblx0XHRcdFx0YXJnc1x0XHRcdD0ge1xuXHRcdFx0XHRcdHRpbWVGb3JtYXRcdFx0XHQ6ICR3cmFwLmRhdGEoJ3RpbWVfZm9ybWF0JyksXG5cdFx0XHRcdFx0YWx0VGltZUZvcm1hdFx0XHQ6IGFsdFRpbWVGb3JtYXQsXG5cdFx0XHRcdFx0YWx0RmllbGRcdFx0XHQ6ICRoaWRkZW4sXG5cdFx0XHRcdFx0YWx0RmllbGRUaW1lT25seVx0OiBmYWxzZSxcblx0XHRcdFx0XHRzaG93QnV0dG9uUGFuZWxcdFx0OiB0cnVlLFxuXHRcdFx0XHRcdGNvbnRyb2xUeXBlXHRcdFx0OiAnc2VsZWN0Jyxcblx0XHRcdFx0XHRvbmVMaW5lXHRcdFx0XHQ6IHRydWVcblx0XHRcdFx0fSxcblx0XHRcdFx0dGltZSBcdFx0XHQ9ICQuZGF0ZXBpY2tlci5wYXJzZVRpbWUoIGFsdFRpbWVGb3JtYXQsICRoaWRkZW4udmFsKCkgKTtcblxuXHRcdFx0JGlucHV0LnRpbWVwaWNrZXIoIGFyZ3MgKS5vbignYmx1cicsZnVuY3Rpb24oKXtcblx0XHRcdFx0aWYgKCAhICQodGhpcykudmFsKCkgKSB7XG5cdFx0XHRcdFx0JGhpZGRlbi52YWwoJycpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHRcdGlmICggJGhpZGRlbi52YWwoKSApIHtcblx0XHRcdFx0JGlucHV0LnZhbCggJC5kYXRlcGlja2VyLmZvcm1hdFRpbWUoICR3cmFwLmRhdGEoJ3RpbWVfZm9ybWF0JyksIHRpbWUgKSApXG5cdFx0XHR9XG5cdFx0fSxcblxuXHR9O1xuXG5cblx0YWNmUXVpY2tlZGl0LmRhdGV0aW1lcGlja2VyID0ge1xuXHRcdGluaXQ6IGZ1bmN0aW9uKCAkd3JhcCApIHtcblx0XHRcdHZhciAkaGlkZGVuXHRcdFx0PSAkd3JhcC5maW5kKCAnW3R5cGU9XCJoaWRkZW5cIl0nICksXG5cdFx0XHRcdCRpbnB1dFx0XHRcdD0gJHdyYXAuZmluZCggJ1t0eXBlPVwidGV4dFwiXScgKSxcblx0XHRcdFx0YWx0Rm9ybWF0XHRcdD0gJ3l5LW1tLWRkJ1xuXHRcdFx0XHRhbHRUaW1lRm9ybWF0XHQ9ICdISDptbTpzcycsXG5cdFx0XHRcdGFyZ3NcdFx0XHQ9IHtcblx0XHRcdFx0XHRhbHRGaWVsZFx0XHRcdDogJGhpZGRlbixcblx0XHRcdFx0XHRkYXRlRm9ybWF0XHRcdFx0OiAkd3JhcC5kYXRhKCdkYXRlX2Zvcm1hdCcpLFxuXHRcdFx0XHRcdGFsdEZvcm1hdFx0XHRcdDogYWx0Rm9ybWF0LFxuXHRcdFx0XHRcdHRpbWVGb3JtYXRcdFx0XHQ6ICR3cmFwLmRhdGEoJ3RpbWVfZm9ybWF0JyksXG5cdFx0XHRcdFx0YWx0VGltZUZvcm1hdFx0XHQ6IGFsdFRpbWVGb3JtYXQsXG5cdFx0XHRcdFx0YWx0RmllbGRUaW1lT25seVx0OiBmYWxzZSxcblx0XHRcdFx0XHRjaGFuZ2VZZWFyXHRcdFx0OiB0cnVlLFxuXHRcdFx0XHRcdHllYXJSYW5nZVx0XHRcdDogXCItMTAwOisxMDBcIixcblx0XHRcdFx0XHRjaGFuZ2VNb250aFx0XHRcdDogdHJ1ZSxcblx0XHRcdFx0XHRzaG93QnV0dG9uUGFuZWxcdFx0OiB0cnVlLFxuXHRcdFx0XHRcdGZpcnN0RGF5XHRcdFx0OiAkd3JhcC5kYXRhKCdmaXJzdF9kYXknKSxcblx0XHRcdFx0XHRjb250cm9sVHlwZVx0XHRcdDogJ3NlbGVjdCcsXG5cdFx0XHRcdFx0b25lTGluZVx0XHRcdFx0OiB0cnVlXG5cdFx0XHRcdH0sXG5cdFx0XHRcdGRhdGV0aW1lIFx0XHRcdD0gJC5kYXRlcGlja2VyLnBhcnNlRGF0ZVRpbWUoIGFsdEZvcm1hdCwgYWx0VGltZUZvcm1hdCwgJGhpZGRlbi52YWwoKSApO1xuXG5cdFx0XHQkaW5wdXQuZGF0ZXRpbWVwaWNrZXIoIGFyZ3MgKS5kYXRlcGlja2VyKCAnc2V0RGF0ZScsIGRhdGV0aW1lICkub24oJ2JsdXInLGZ1bmN0aW9uKCl7XG5cdFx0XHRcdGlmICggISAkKHRoaXMpLnZhbCgpICkge1xuXHRcdFx0XHRcdCRoaWRkZW4udmFsKCcnKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fSxcblxuXHR9O1xuXG5cblx0aWYgKCAndW5kZWZpbmVkJyAhPT0gdHlwZW9mIGlubGluZUVkaXRQb3N0ICkge1xuXHRcdC8vIHdlIGNyZWF0ZSBhIGNvcHkgb2YgdGhlIFdQIGlubGluZSBlZGl0IHBvc3QgZnVuY3Rpb25cblx0XHR2YXIgX3dwX2lubGluZV9lZGl0X3Bvc3QgPSBpbmxpbmVFZGl0UG9zdC5lZGl0O1xuXHRcdC8vIGFuZCB0aGVuIHdlIG92ZXJ3cml0ZSB0aGUgZnVuY3Rpb24gd2l0aCBvdXIgb3duIGNvZGVcblx0XHRpbmxpbmVFZGl0UG9zdC5lZGl0ID0gZnVuY3Rpb24oIGlkICkge1xuXHRcdFx0dmFyIG9iamVjdF9pZCwgJHRyO1xuXHRcdFx0Ly8gXCJjYWxsXCIgdGhlIG9yaWdpbmFsIFdQIGVkaXQgZnVuY3Rpb25cblx0XHRcdC8vIHdlIGRvbid0IHdhbnQgdG8gbGVhdmUgV29yZFByZXNzIGhhbmdpbmdcblx0XHRcdF93cF9pbmxpbmVfZWRpdF9wb3N0LmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcblxuXHRcdFx0Ly8gZ2V0IHRoZSBwb3N0IElEXG5cdFx0XHRvYmplY3RfaWQgPSAwO1xuXHRcdFx0aWYgKCB0eXBlb2YoIGlkICkgPT09ICdvYmplY3QnICkge1xuXHRcdFx0XHRvYmplY3RfaWQgPSBwYXJzZUludCggdGhpcy5nZXRJZCggaWQgKSApO1xuXHRcdFx0fVxuXHRcdFx0JHRyID0gJCgnI2VkaXQtJyArIG9iamVjdF9pZCApO1xuXHRcdFx0Z2V0X2FjZl9wb3N0X2RhdGEoIG9iamVjdF9pZCAsICQoJyNlZGl0LScgKyBvYmplY3RfaWQgKSApO1xuXG5cdFx0XHRiaW5kVmFsaWRhdGlvbiggJHRyLmZpbmQoJ2J1dHRvbi5zYXZlJyksIG9iamVjdF9pZCApO1xuXHRcdH07XG5cdH1cblxuXHRpZiAoICd1bmRlZmluZWQnICE9PSB0eXBlb2YgaW5saW5lRWRpdFRheCApIHtcblxuXHRcdHZhciBfd3BfaW5saW5lX2VkaXRfdGF4ID0gaW5saW5lRWRpdFRheC5lZGl0O1xuXG5cdFx0aW5saW5lRWRpdFRheC5lZGl0ID0gZnVuY3Rpb24oIGlkICkge1xuXHRcdFx0dmFyIG9iamVjdF9pZCwgJHRyLFxuXHRcdFx0XHR0YXggPSAkKCdpbnB1dFtuYW1lPVwidGF4b25vbXlcIl0nKS52YWwoKTtcblxuXHRcdFx0X3dwX2lubGluZV9lZGl0X3RheC5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cblx0XHRcdC8vIGdldCB0aGUgcG9zdCBJRFxuXHRcdFx0b2JqZWN0X2lkID0gMDtcblx0XHRcdGlmICggdHlwZW9mKCBpZCApID09PSAnb2JqZWN0JyApIHtcblx0XHRcdFx0b2JqZWN0X2lkID0gcGFyc2VJbnQoIHRoaXMuZ2V0SWQoIGlkICkgKTtcblx0XHRcdH1cblx0XHRcdCR0ciA9ICQoJyNlZGl0LScgKyBvYmplY3RfaWQgKTtcblx0XHRcdGdldF9hY2ZfcG9zdF9kYXRhKCB0YXggKyAnXycgKyBvYmplY3RfaWQgLCAkdHIgKTtcblxuXHRcdFx0YmluZFZhbGlkYXRpb24oICR0ci5maW5kKCdidXR0b24uc2F2ZScpLCBvYmplY3RfaWQgKTtcblx0XHR9O1xuXHR9XG5cblx0YWNmLnZhbGlkYXRpb24uZXJyb3JfY2xhc3MgPSAnZm9ybS1pbnZhbGlkJztcblxuXHRmdW5jdGlvbiBiaW5kVmFsaWRhdGlvbiggJGJ1dHRvbiwgb2JqZWN0X2lkICkge1xuXHRcdHZhciAkZm9ybSA9ICRidXR0b24uY2xvc2VzdCgnZm9ybScpO1xuXG4vLyBcdFx0YWNmLnVwZGF0ZSgnYWpheHVybCcsIGFqYXh1cmwgKTtcbi8vIFx0XHRhY2YudXBkYXRlKCdub25jZScsICRmb3JtLmZpbmQoJ1tuYW1lPVwibm9uY2VcIl0nKS52YWwoKSApO1xuIFx0XHRhY2YudXBkYXRlKCdwb3N0X2lkJywgb2JqZWN0X2lkICk7XG5cblx0XHQkYnV0dG9uLmNsaWNrKCBmdW5jdGlvbihlKSB7XG5cblx0XHRcdC8vIGJhaWwgZWFybHkgaWYgbm90IGFjdGl2ZVxuXHRcdFx0aWYoICFhY2YudmFsaWRhdGlvbi5hY3RpdmUgKSB7XG5cblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cblx0XHRcdH1cblxuXHRcdFx0Ly8gaWdub3JlIHZhbGlkYXRpb24gKG9ubHkgaWdub3JlIG9uY2UpXG5cdFx0XHRpZiggYWNmLnZhbGlkYXRpb24uaWdub3JlICkge1xuXHRcdFx0XHRhY2YudmFsaWRhdGlvbi5pZ25vcmUgPSAwO1xuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gc3RvcCBXUCBKUyB2YWxpZGF0aW9uXG5cdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRlLnN0b3BQcm9wYWdhdGlvbigpO1xuXHRcdFx0ZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcblxuXG5cdFx0XHQvLyBzdG9yZSBzdWJtaXQgdHJpZ2dlciBzbyBpdCB3aWxsIGJlIGNsaWNrZWQgaWYgdmFsaWRhdGlvbiBpcyBwYXNzZWRcblx0XHRcdGFjZi52YWxpZGF0aW9uLiR0cmlnZ2VyID0gJCh0aGlzKTtcblxuXHRcdFx0Ly8gcnVuIHZhbGlkYXRpb25cblx0XHRcdGFjZi52YWxpZGF0aW9uLmZldGNoKCAkZm9ybSApO1xuXG5cdFx0XHQvLyBzdG9wIGFsbCBvdGhlciBjbGljayBldmVudHMgb24gdGhpcyBpbnB1dFxuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH0pO1xuXG5cdFx0JGJ1dHRvbi5kYXRhKCdldmVudHMnKS5jbGljay5yZXZlcnNlKCk7XG5cdH1cblxuXHQkKGRvY3VtZW50KS5vbiggJ2NsaWNrJyAsICcuYnVsa2FjdGlvbnMgLmJ1dHRvbi5hY3Rpb24nICwgZnVuY3Rpb24oIGUgKSB7XG5cdFx0dmFyIHBvc3RfaWRzID0gW107XG5cblx0XHQkKCAnI2J1bGstZWRpdCAjYnVsay10aXRsZXMnICkuY2hpbGRyZW4oKS5lYWNoKCBmdW5jdGlvbigpIHtcblxuXHRcdFx0cG9zdF9pZHMucHVzaCggJCggdGhpcyApLmF0dHIoICdpZCcgKS5yZXBsYWNlKCAvXih0dGxlKS9pLCAnJyApICk7XG5cblx0XHR9KTtcblxuXHRcdGdldF9hY2ZfcG9zdF9kYXRhKCBwb3N0X2lkcyAsICQoICcjYnVsay1lZGl0JyApICk7XG5cblx0fSlcblx0Lm9uKCdjaGFuZ2UnLCAnLmFjZi1yYWRpby1saXN0Lm90aGVyIGlucHV0W3R5cGU9XCJyYWRpb1wiXScsIGZ1bmN0aW9uKGUpIHtcblxuXHRcdHZhciAkdGhpcyA9ICQodGhpcyksXG5cdFx0XHQkbGlzdCA9ICR0aGlzLmNsb3Nlc3QoJy5hY2YtcmFkaW8tbGlzdCcpLFxuXHRcdFx0aXNfb3RoZXIgPSAkdGhpcy52YWwoKSA9PSAnb3RoZXInLFxuXHRcdFx0JG90aGVyID0gJGxpc3QuZmluZCgnW3R5cGU9XCJ0ZXh0XCJdJykucHJvcCgnZGlzYWJsZWQnLCAhIGlzX290aGVyICk7XG5cblx0XHQhISBpc19vdGhlciAmJiAkb3RoZXIuZm9jdXMoKTtcblxuXHR9KVxuXHQub24oJ2NoYW5nZSBtb3VzZW1vdmUnLCAnLmFjZi1yYW5nZS13cmFwIGlucHV0W3R5cGU9XCJyYW5nZVwiXScsIGZ1bmN0aW9uKGUpIHtcblxuXHRcdCQodGhpcykubmV4dCgnW3R5cGU9XCJudW1iZXJcIl0nKS52YWwoICQodGhpcykudmFsKCkgKTtcblxuXHR9KVxuXHQub24oJ2NoYW5nZSBrZXl1cCcsICcuYWNmLXJhbmdlLXdyYXAgaW5wdXRbdHlwZT1cIm51bWJlclwiXScsIGZ1bmN0aW9uKGUpIHtcblxuXHRcdCQodGhpcykucHJldignW3R5cGU9XCJyYW5nZVwiXScpLnZhbCggJCh0aGlzKS52YWwoKSApO1xuXG5cdH0pXG5cdC5vbiggJ2NoYW5nZScsICdbZGF0YS1pcy1kby1ub3QtY2hhbmdlPVwidHJ1ZVwiXScsIGZ1bmN0aW9uKCl7XG5cdFx0dmFyICRzZWxmID0gJCh0aGlzKSxcblx0XHRcdG5hbWUgPSAkc2VsZi5hdHRyKCduYW1lJyksXG5cdFx0XHQkbGlzdCA9ICRzZWxmLmNsb3Nlc3QoJy5hY2YtY2hlY2tib3gtbGlzdCcpLFxuXHRcdFx0JGl0ZW1zO1xuXHRcdGlmICggJGxpc3QubGVuZ3RoICkge1xuXHRcdFx0JGl0ZW1zID0gJGxpc3QuZmluZCgnW3R5cGU9XCJjaGVja2JveFwiXTpub3QoW2RhdGEtaXMtZG8tbm90LWNoYW5nZV0pJyk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdCRpdGVtcyA9ICRzZWxmLmNsb3Nlc3QoJy5hY2YtZmllbGQnKS5maW5kKCdpbnB1dCxzZWxlY3QsW25hbWU9XCInK25hbWUrJ1wiXScpLm5vdCh0aGlzKVxuXHRcdH1cblxuXHRcdCRpdGVtcy5wcm9wKCAnZGlzYWJsZWQnLCAkc2VsZi5wcm9wKCdjaGVja2VkJykgKTtcblx0fSlcblx0Lm9uKCAnY2xpY2snLCAnLmlubGluZS1lZGl0LWNvbCAuc2VsZWN0LW1lZGlhJywgZnVuY3Rpb24oZSkge1xuXHRcdHZhciBzZWxmID0gdGhpcyxcblx0XHRcdCRoaWRkZW4gPSAkKHNlbGYpLnBhcmVudCgnLmFjZi1pbnB1dC13cmFwJykuZmluZCgnW3R5cGU9XCJoaWRkZW5cIl0nKSxcblx0XHRcdCRmaWVsZCA9ICQodGhpcykuY2xvc2VzdCgnLmFjZi1maWVsZCcpLFxuXHRcdFx0cG9zdF9pZCA9IGFjZi5nZXQoJ3Bvc3RfaWQnKSxcblx0XHRcdG1lZGlhRnJhbWVPcHRzO1xuXG5cdFx0bWVkaWFGcmFtZU9wdHMgPSB7XG5cdFx0XHRmaWVsZFx0XHQ6ICRoaWRkZW4uYXR0cignZGF0YS1hY2YtZmllbGQta2V5JyksXG5cdFx0XHRtdWx0aXBsZVx0OiBmYWxzZSxcblx0XHRcdHBvc3RfaWRcdFx0OiBwb3N0X2lkLFxuXHRcdFx0bGlicmFyeVx0XHQ6ICRoaWRkZW4uYXR0cignZGF0YS1saWJyYXJ5JyksXG5cdFx0XHRtb2RlXHRcdDonc2VsZWN0Jyxcblx0XHRcdHNlbGVjdFx0XHQ6IGZ1bmN0aW9uICggYXR0YWNobWVudCwgaSApIHtcblx0XHRcdFx0aWYgKCAhIGF0dGFjaG1lbnQgKSB7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHZhciAkaGlkZGVuID0gJChzZWxmKS5wYXJlbnQoJy5hY2YtaW5wdXQtd3JhcCcpLmZpbmQoJ1t0eXBlPVwiaGlkZGVuXCJdJyksXG5cdFx0XHRcdFx0bWVkaWFfaWQgPSBhdHRhY2htZW50LmdldCgnaWQnKTtcblxuXHRcdFx0XHQkaGlkZGVuLnZhbCggbWVkaWFfaWQgKTtcblx0XHRcdH1cblx0XHR9O1xuXG5cblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cblxuXHRcdGlmICggJGhpZGRlbi5kYXRhKCdtaW1lX3R5cGVzJykgKSB7XG5cdFx0XHRtZWRpYUZyYW1lT3B0cy5taW1lX3R5cGVzID0gJGhpZGRlbi5kYXRhKCdtaW1lX3R5cGVzJyk7XG5cdFx0fVxuXHRcdGlmICggJGZpZWxkLmlzKCdbZGF0YS1maWVsZC10eXBlPVwiaW1hZ2VcIl0nKSApIHtcblx0XHRcdG1lZGlhRnJhbWVPcHRzLnR5cGUgPSAnaW1hZ2UnO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRtZWRpYUZyYW1lT3B0cy50eXBlID0gJyc7XG5cdFx0fVxuXG5cdFx0Ly8gQ3JlYXRlIGEgbmV3IG1lZGlhIGZyYW1lXG5cdFx0bWVkaWFfZnJhbWUgPSBhY2YubWVkaWEucG9wdXAoIG1lZGlhRnJhbWVPcHRzICk7XG5cblxuXHRcdC8vIHNldCBwb3N0IGlkLCBzbyBuZXcgdXBsb2FkcyBhcmUgYXR0YWNoZWQgdG8gZWRpdGVkIHBvc3Rcblx0XHRpZiAoIGFjZi5pc3NldCh3aW5kb3csJ3dwJywnbWVkaWEnLCd2aWV3Jywnc2V0dGluZ3MnLCdwb3N0JykgJiYgJC5pc051bWVyaWMocG9zdF9pZCkgKSB7XG5cblx0XHRcdHdwLm1lZGlhLnZpZXcuc2V0dGluZ3MucG9zdC5pZCA9IHBvc3RfaWQ7XG5cblx0XHR9XG5cblx0fSlcblx0Lm9uKCAnY2xpY2snLCAnLmlubGluZS1lZGl0LWNvbCAucmVtb3ZlLW1lZGlhJywgZnVuY3Rpb24oZSkge1xuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHR2YXIgJGhpZGRlbiA9ICQodGhpcykucGFyZW50KCkuZmluZCgnW3R5cGU9XCJoaWRkZW5cIl0nKTtcblx0XHQkaGlkZGVuLnZhbCgnJyk7XG5cdFx0Y29uc29sZS5sb2coJGhpZGRlbik7XG5cdH0pO1xufSkoalF1ZXJ5KTtcbiIsIihmdW5jdGlvbigkKSB7XG5cdCQoJy5hY2YtcWVmLWdhbGxlcnktY29sJykub24oJ21vdXNlbW92ZScsZnVuY3Rpb24oZSl7XG5cdFx0dmFyICR0aGlzXHQ9ICQodGhpcyksXG5cdFx0XHQkaW1nXHQ9ICQodGhpcykuZmluZCgnaW1nJylcblx0XHRcdHhcdFx0PSBlLm9mZnNldFgsXG5cdFx0XHRudW1cdFx0PSAkaW1nLmxlbmd0aCxcblx0XHRcdHN0ZXBcdD0gJCh0aGlzKS53aWR0aCgpIC8gbnVtO1xuXG5cdFx0JGltZy5lYWNoKCBmdW5jdGlvbihpLGVsKSB7XG5cdFx0XHRpZiAoeCA+PSBzdGVwKmkpIHtcblx0XHRcdFx0JChlbCkuc2hvdygpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0JChlbCkuaGlkZSgpO1xuXHRcdFx0fVxuXHRcdH0gKTtcblx0fSk7XG59KShqUXVlcnkpOyJdfQ==
