var acfQuickedit={};!function(t){function e(e,i){var a={action:"get_acf_post_meta",post_id:e,acf_field_keys:[]};i.find("[data-acf-field-key]").each(function(){a.acf_field_keys.push(t(this).attr("data-acf-field-key")),t(this).prop("readonly",!0),t(this).is('[data-is-do-not-change="true"]')||(t(this).is('[type="radio"],[type="checkbox"]')?t(this).prop("checked",!1):t(this).val(""))}),t.post(ajaxurl,a,function(e){var a,n,d,c,o,r,l=[];for(i.find("[data-acf-field-key]").each(function(){var e;!c&&(c=t(this).closest("tr.inline-edit-post")),e=t(this).data("acf-field-key"),-1===l.indexOf(e)&&l.push(e)}),a=0;a<l.length;a++)n=l[a],d=e[n],o=t('[data-acf-field-key="'+n+'"]'),"boolean"==typeof d&&(d*=1),o.is(".acf-checkbox-list, .acf-radio-list")?(r=0,t.isArray(d)?t.each(d,function(t,e){r+=o.find('[value="'+e+'"]').prop("checked",!0).length}):r+=o.find('[value="'+d+'"]').prop("checked",!0).length,o.is(".other")&&!r&&(d?o.find('[value="other"]').prop("checked",!0):o.find('[type="text"]').val(""))):o.is('[type="radio"],[type="checkbox"]')||o.val(d),o.is('[type="password"]')||o.prop("readonly",!1),o.is("textarea")&&o.on("keydown keyup",function(t){13==t.which&&t.stopPropagation()});i.find("input.acf-quick-edit-color_picker").each(function(e,i){t(i).wpColorPicker()}),i.find(".acf-quick-edit-date_picker").each(function(e,i){acfQuickedit.datepicker.init(t(i))}),i.find(".acf-quick-edit-time_picker").each(function(e,i){acfQuickedit.timepicker.init(t(i))}),i.find(".acf-quick-edit-date_time_picker").each(function(e,i){acfQuickedit.datetimepicker.init(t(i))}),t("body > #ui-datepicker-div").length>0&&t("body > #ui-datepicker-div").wrap('<div class="acf-ui-datepicker" />')})}function i(e,i){var a=e.closest("form");acf.update("post_id",i),e.click(function(e){return!acf.validation.active||(acf.validation.ignore?(acf.validation.ignore=0,!0):(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),acf.validation.$trigger=t(this),acf.validation.fetch(a),!1))}),e.data("events").click.reverse()}var a;if(acfQuickedit.datepicker={init:function(e){var i=e.find('[type="hidden"]'),a=e.find('[type="text"]');args={dateFormat:e.data("date_format"),altFormat:"yymmdd",altField:i,changeYear:!0,yearRange:"-100:+100",changeMonth:!0,showButtonPanel:!0,firstDay:e.data("first_day")},date=t.datepicker.parseDate("yymmdd",i.val()),a.datepicker(args).datepicker("setDate",date).on("blur",function(){t(this).val()||i.val("")})}},acfQuickedit.timepicker={init:function(e){var i=e.find('[type="hidden"]'),a=e.find('[type="text"]'),n={timeFormat:e.data("time_format"),altTimeFormat:"HH:mm:ss",altField:i,altFieldTimeOnly:!1,showButtonPanel:!0,controlType:"select",oneLine:!0},d=t.datepicker.parseTime("HH:mm:ss",i.val());a.timepicker(n).on("blur",function(){t(this).val()||i.val("")}),i.val()&&a.val(t.datepicker.formatTime(e.data("time_format"),d))}},acfQuickedit.datetimepicker={init:function(e){var i=e.find('[type="hidden"]'),a=e.find('[type="text"]');altTimeFormat="HH:mm:ss",args={altField:i,dateFormat:e.data("date_format"),altFormat:"yy-mm-dd",timeFormat:e.data("time_format"),altTimeFormat:altTimeFormat,altFieldTimeOnly:!1,changeYear:!0,yearRange:"-100:+100",changeMonth:!0,showButtonPanel:!0,firstDay:e.data("first_day"),controlType:"select",oneLine:!0},datetime=t.datepicker.parseDateTime("yy-mm-dd",altTimeFormat,i.val()),a.datetimepicker(args).datepicker("setDate",datetime).on("blur",function(){t(this).val()||i.val("")})}},"undefined"!=typeof inlineEditPost){var n=inlineEditPost.edit;inlineEditPost.edit=function(a){var d,c;n.apply(this,arguments),d=0,"object"==typeof a&&(d=parseInt(this.getId(a))),c=t("#edit-"+d),e(d,t("#edit-"+d)),i(c.find("button.save"),d)}}if("undefined"!=typeof inlineEditTax){var d=inlineEditTax.edit;inlineEditTax.edit=function(a){var n,c,o=t('input[name="taxonomy"]').val();d.apply(this,arguments),n=0,"object"==typeof a&&(n=parseInt(this.getId(a))),c=t("#edit-"+n),e(o+"_"+n,c),i(c.find("button.save"),n)}}acf.validation.error_class="form-invalid",t(document).on("click",".bulkactions .button.action",function(i){var a=[];t("#bulk-edit #bulk-titles").children().each(function(){a.push(t(this).attr("id").replace(/^(ttle)/i,""))}),e(a,t("#bulk-edit"))}).on("change",'.acf-radio-list.other input[type="radio"]',function(e){var i=t(this),a=i.closest(".acf-radio-list"),n="other"==i.val(),d=a.find('[type="text"]').prop("disabled",!n);!!n&&d.focus()}).on("change",'[data-is-do-not-change="true"]',function(){var e,i=t(this),a=i.attr("name"),n=i.closest(".acf-checkbox-list");e=n.length?n.find('[type="checkbox"]:not([data-is-do-not-change])'):i.closest(".acf-field").find('[name="'+a+'"]:not([data-is-do-not-change])'),console.log(e),e.prop("disabled",i.prop("checked"))}).on("click",".inline-edit-col .select-media",function(e){var i,n=this,d=t(n).parent(".acf-input-wrap").find('[type="hidden"]'),c=t(this).closest(".acf-field"),o=acf.get("post_id");i={field:d.attr("data-acf-field-key"),multiple:!1,post_id:o,library:d.attr("data-library"),mode:"select",select:function(e,i){if(e){var a=t(n).parent(".acf-input-wrap").find('[type="hidden"]'),d=e.get("id");a.val(d)}}},e.preventDefault(),d.data("mime_types")&&(i.mime_types=d.data("mime_types")),c.is('[data-field-type="image"]')?i.type="image":i.type="",a=acf.media.popup(i),acf.isset(window,"wp","media","view","settings","post")&&t.isNumeric(o)&&(wp.media.view.settings.post.id=o)}).on("click",".inline-edit-col .remove-media",function(e){e.preventDefault();var i=t(this).parent().find('[type="hidden"]');i.val(""),console.log(i)})}(jQuery);
!function(e){e(".acf-qef-gallery-col").on("mousemove",function(n){var t=(e(this),e(this).find("img"));x=n.offsetX,num=t.length,step=e(this).width()/num,t.each(function(n,t){x>=step*n?e(t).show():e(t).hide()})})}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFjZi1xdWlja2VkaXQuanMiLCJ0aHVtYm5haWwtY29sLmpzIl0sIm5hbWVzIjpbImFjZlF1aWNrZWRpdCIsIiQiLCJnZXRfYWNmX3Bvc3RfZGF0YSIsInBvc3RfaWQiLCIkcGFyZW50IiwicmVxX2RhdGEiLCJhY3Rpb24iLCJhY2ZfZmllbGRfa2V5cyIsImZpbmQiLCJlYWNoIiwicHVzaCIsInRoaXMiLCJhdHRyIiwicHJvcCIsImlzIiwidmFsIiwicG9zdCIsImFqYXh1cmwiLCJyZXN1bHQiLCJpIiwia2V5IiwidmFsdWUiLCIkdHIiLCIkZmllbGQiLCJzZWxlY3RlZCIsImtleXMiLCJjbG9zZXN0IiwiZGF0YSIsImluZGV4T2YiLCJsZW5ndGgiLCJpc0FycmF5IiwiaWR4Iiwib24iLCJldmVudCIsIndoaWNoIiwic3RvcFByb3BhZ2F0aW9uIiwiZWwiLCJ3cENvbG9yUGlja2VyIiwiZGF0ZXBpY2tlciIsImluaXQiLCJ0aW1lcGlja2VyIiwiZGF0ZXRpbWVwaWNrZXIiLCJ3cmFwIiwiYmluZFZhbGlkYXRpb24iLCIkYnV0dG9uIiwib2JqZWN0X2lkIiwiJGZvcm0iLCJhY2YiLCJ1cGRhdGUiLCJjbGljayIsImUiLCJ2YWxpZGF0aW9uIiwiYWN0aXZlIiwiaWdub3JlIiwicHJldmVudERlZmF1bHQiLCJzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24iLCIkdHJpZ2dlciIsImZldGNoIiwicmV2ZXJzZSIsIm1lZGlhX2ZyYW1lIiwiJHdyYXAiLCIkaGlkZGVuIiwiJGlucHV0IiwiYXJncyIsImRhdGVGb3JtYXQiLCJhbHRGb3JtYXQiLCJhbHRGaWVsZCIsImNoYW5nZVllYXIiLCJ5ZWFyUmFuZ2UiLCJjaGFuZ2VNb250aCIsInNob3dCdXR0b25QYW5lbCIsImZpcnN0RGF5IiwiZGF0ZSIsInBhcnNlRGF0ZSIsInRpbWVGb3JtYXQiLCJhbHRUaW1lRm9ybWF0IiwiYWx0RmllbGRUaW1lT25seSIsImNvbnRyb2xUeXBlIiwib25lTGluZSIsInRpbWUiLCJwYXJzZVRpbWUiLCJmb3JtYXRUaW1lIiwiZGF0ZXRpbWUiLCJwYXJzZURhdGVUaW1lIiwiaW5saW5lRWRpdFBvc3QiLCJfd3BfaW5saW5lX2VkaXRfcG9zdCIsImVkaXQiLCJpZCIsImFwcGx5IiwiYXJndW1lbnRzIiwicGFyc2VJbnQiLCJnZXRJZCIsImlubGluZUVkaXRUYXgiLCJfd3BfaW5saW5lX2VkaXRfdGF4IiwidGF4IiwiZXJyb3JfY2xhc3MiLCJkb2N1bWVudCIsInBvc3RfaWRzIiwiY2hpbGRyZW4iLCJyZXBsYWNlIiwiJHRoaXMiLCIkbGlzdCIsImlzX290aGVyIiwiJG90aGVyIiwiZm9jdXMiLCIkaXRlbXMiLCIkc2VsZiIsIm5hbWUiLCJjb25zb2xlIiwibG9nIiwibWVkaWFGcmFtZU9wdHMiLCJzZWxmIiwicGFyZW50IiwiZ2V0IiwiZmllbGQiLCJtdWx0aXBsZSIsImxpYnJhcnkiLCJtb2RlIiwic2VsZWN0IiwiYXR0YWNobWVudCIsIm1lZGlhX2lkIiwibWltZV90eXBlcyIsInR5cGUiLCJtZWRpYSIsInBvcHVwIiwiaXNzZXQiLCJ3aW5kb3ciLCJpc051bWVyaWMiLCJ3cCIsInZpZXciLCJzZXR0aW5ncyIsImpRdWVyeSIsIiRpbWciLCJ4Iiwib2Zmc2V0WCIsIm51bSIsInN0ZXAiLCJ3aWR0aCIsInNob3ciLCJoaWRlIl0sIm1hcHBpbmdzIjoiQUFBQSxHQUFJQSxrQkFFSixTQUFVQyxHQUlULFFBQVNDLEdBQW1CQyxFQUFVQyxHQUNyQyxHQUFJQyxJQUNIQyxPQUFXLG9CQUNYSCxRQUFZQSxFQUNaSSxrQkFFREgsR0FBUUksS0FBSyx3QkFBd0JDLEtBQUssV0FFekNKLEVBQVNFLGVBQWVHLEtBQU1ULEVBQUVVLE1BQU1DLEtBQUssdUJBRTNDWCxFQUFFVSxNQUFNRSxLQUFNLFlBQVksR0FFbkJaLEVBQUVVLE1BQU1HLEdBQUcsb0NBQ1piLEVBQUVVLE1BQU1HLEdBQUcsb0NBQ2ZiLEVBQUVVLE1BQU1FLEtBQUssV0FBVSxHQUV2QlosRUFBRVUsTUFBTUksSUFBSSxPQUtmZCxFQUFF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MUIvRCxJQUFJOEUsTUFBTUMsT0FBTyxLQUFLLFFBQVEsT0FBTyxXQUFXLFNBQVc3SCxFQUFFOEgsVUFBVTVILEtBRTNFNkgsR0FBR0wsTUFBTU0sS0FBS0MsU0FBU2xILEtBQUt1RSxHQUFLcEYsS0FLbEM2QixHQUFJLFFBQVMsaUNBQWtDLFNBQVNrQixHQUN4REEsRUFBRUksZ0JBQ0YsSUFBSU8sR0FBVTVELEVBQUVVLE1BQU1xRyxTQUFTeEcsS0FBSyxrQkFDcENxRCxHQUFROUMsSUFBSSxJQUNaNkYsUUFBUUMsSUFBSWhELE1BRVhzRTtDQ2xZSCxTQUFVbEksR0FDVEEsRUFBRSx3QkFBd0IrQixHQUFHLFlBQVksU0FBU2tCLEdBQ2pELEdBQ0NrRixJQURXbkksRUFBRVUsTUFDTlYsRUFBRVUsTUFBTUgsS0FBSyxPQUNwQjZILEdBQUtuRixFQUFFb0YsUUFDUEMsSUFBT0gsRUFBS3ZHLE9BQ1oyRyxLQUFPdkksRUFBRVUsTUFBTThILFFBQVVGLElBRTFCSCxFQUFLM0gsS0FBTSxTQUFTVSxFQUFFaUIsR0FDakJpRyxHQUFLRyxLQUFLckgsRUFDYmxCLEVBQUVtQyxHQUFJc0csT0FFTnpJLEVBQUVtQyxHQUFJdUcsWUFJUFIiLCJmaWxlIjoiYWNmLXF1aWNrZWRpdC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgYWNmUXVpY2tlZGl0ID0ge307XG5cbihmdW5jdGlvbigkKSB7XG5cblx0dmFyIG1lZGlhX2ZyYW1lO1xuXG5cdGZ1bmN0aW9uIGdldF9hY2ZfcG9zdF9kYXRhKCBwb3N0X2lkICwgJHBhcmVudCApIHtcblx0XHR2YXIgcmVxX2RhdGEgPSB7XG5cdFx0XHQnYWN0aW9uJyA6ICdnZXRfYWNmX3Bvc3RfbWV0YScsXG5cdFx0XHQncG9zdF9pZCcgOiBwb3N0X2lkLFxuXHRcdFx0J2FjZl9maWVsZF9rZXlzJyA6IFtdXG5cdFx0fTtcblx0XHQkcGFyZW50LmZpbmQoJ1tkYXRhLWFjZi1maWVsZC1rZXldJykuZWFjaChmdW5jdGlvbigpe1xuXG5cdFx0XHRyZXFfZGF0YS5hY2ZfZmllbGRfa2V5cy5wdXNoKCAkKHRoaXMpLmF0dHIoJ2RhdGEtYWNmLWZpZWxkLWtleScpICk7XG5cblx0XHRcdCQodGhpcykucHJvcCggJ3JlYWRvbmx5JywgdHJ1ZSApO1xuXG5cdFx0XHRpZiAoICEgJCh0aGlzKS5pcygnW2RhdGEtaXMtZG8tbm90LWNoYW5nZT1cInRydWVcIl0nICkgKSB7XG5cdFx0XHRcdGlmICggJCh0aGlzKS5pcygnW3R5cGU9XCJyYWRpb1wiXSxbdHlwZT1cImNoZWNrYm94XCJdJykgKSB7XG5cdFx0XHRcdFx0JCh0aGlzKS5wcm9wKCdjaGVja2VkJyxmYWxzZSk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0JCh0aGlzKS52YWwoJycpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHQkLnBvc3QoIGFqYXh1cmwsIHJlcV9kYXRhLCBmdW5jdGlvbiggcmVzdWx0ICkge1xuXHRcdFx0dmFyIGksIGtleSwgdmFsdWUsICR0ciwgJGZpZWxkLFxuXHRcdFx0XHRzZWxlY3RlZDtcblxuXHRcdFx0dmFyIGtleXMgPSBbXTtcblx0XHRcdC8vIG9ubHkga2VlcCBrZXlzIHRoYXQgaGF2ZSBmaWVsZHNcblx0XHRcdCRwYXJlbnQuZmluZCgnW2RhdGEtYWNmLWZpZWxkLWtleV0nKS5lYWNoKGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIga2V5O1xuXHRcdFx0XHQhJHRyICYmICgkdHIgPSAkKHRoaXMpLmNsb3Nlc3QoJ3RyLmlubGluZS1lZGl0LXBvc3QnKSk7XG5cdFx0XHRcdGtleSA9ICQodGhpcykuZGF0YSgnYWNmLWZpZWxkLWtleScpO1xuXHRcdFx0XHRpZiAoIGtleXMuaW5kZXhPZigga2V5ICkgPT09IC0xICkge1xuXHRcdFx0XHRcdGtleXMucHVzaChrZXkpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblxuXHRcdFx0Zm9yICggaT0wOyBpPGtleXMubGVuZ3RoOyBpKyspIHtcblxuXHRcdFx0XHRrZXkgPSBrZXlzW2ldLCB2YWx1ZSA9IHJlc3VsdFsga2V5IF07XG5cblx0XHRcdFx0JGZpZWxkID0gJCgnW2RhdGEtYWNmLWZpZWxkLWtleT1cIicra2V5KydcIl0nKTtcblxuXHRcdFx0XHQvLyBjb252ZXJ0IGJvb2wgdG8gaW50XG5cdFx0XHRcdGlmICh0eXBlb2YodmFsdWUpID09PSAnYm9vbGVhbicpIHtcblx0XHRcdFx0XHR2YWx1ZSAqPSAxO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0XG5cdFx0XHRcdGlmICggJGZpZWxkLmlzKCAnLmFjZi1jaGVja2JveC1saXN0LCAuYWNmLXJhZGlvLWxpc3QnICkgKSB7XG5cdFx0XHRcdFx0c2VsZWN0ZWQgPSAwO1xuXHRcdFx0XHRcdGlmICggJC5pc0FycmF5KCB2YWx1ZSApICkge1xuXHRcdFx0XHRcdFx0JC5lYWNoKCB2YWx1ZSwgZnVuY3Rpb24oIGlkeCwgdmFsICkge1xuXHRcdFx0XHRcdFx0XHRzZWxlY3RlZCArPSAkZmllbGQuZmluZCggJ1t2YWx1ZT1cIicrdmFsKydcIl0nICkucHJvcCggJ2NoZWNrZWQnLHRydWUpLmxlbmd0aDtcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRzZWxlY3RlZCArPSAkZmllbGQuZmluZCggJ1t2YWx1ZT1cIicrdmFsdWUrJ1wiXScgKS5wcm9wKCAnY2hlY2tlZCcsdHJ1ZSkubGVuZ3RoO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRpZiAoICRmaWVsZC5pcygnLm90aGVyJykgJiYgISBzZWxlY3RlZCApIHtcblx0XHRcdFx0XHRcdGlmICggISEgdmFsdWUgKSB7XG5cdFx0XHRcdFx0XHRcdCRmaWVsZC5maW5kKCdbdmFsdWU9XCJvdGhlclwiXScpLnByb3AoICdjaGVja2VkJywgdHJ1ZSApO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0JGZpZWxkLmZpbmQoJ1t0eXBlPVwidGV4dFwiXScpLnZhbCgnJyk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcblx0XHRcdFx0fSBlbHNlIGlmICggISAkZmllbGQuaXMoICdbdHlwZT1cInJhZGlvXCJdLFt0eXBlPVwiY2hlY2tib3hcIl0nICkgKSB7XG5cdFx0XHRcdFx0JGZpZWxkLnZhbCggdmFsdWUgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmICggISAkZmllbGQuaXMoICdbdHlwZT1cInBhc3N3b3JkXCJdJyApICkge1xuXHRcdFx0XHRcdCRmaWVsZC5wcm9wKCAncmVhZG9ubHknLCBmYWxzZSApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKCAkZmllbGQuaXMoXCJ0ZXh0YXJlYVwiKSApIHtcblx0XHRcdFx0XHQkZmllbGQub24oJ2tleWRvd24ga2V5dXAnLCBmdW5jdGlvbihldmVudCkge1xuXHRcdFx0XHRcdFx0aWYgKCBldmVudC53aGljaCA9PSAxMyApIHtcblx0XHRcdFx0XHRcdFx0ZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH1cblxuXHRcdFx0fVxuXG5cdFx0XHQvLyBpbml0IGNvbG9ycGlja2VyXG5cdFx0XHQkcGFyZW50LmZpbmQoJ2lucHV0LmFjZi1xdWljay1lZGl0LWNvbG9yX3BpY2tlcicpLmVhY2goIGZ1bmN0aW9uKCBpLCBlbCApIHtcblx0XHRcdFx0JChlbCkud3BDb2xvclBpY2tlcigpO1xuXHRcdFx0fSlcblx0XHRcdFxuXHRcdFx0Ly8gaW5pdCBkYXRlcGlja2VyXG5cdFx0XHQkcGFyZW50LmZpbmQoJy5hY2YtcXVpY2stZWRpdC1kYXRlX3BpY2tlcicpLmVhY2goIGZ1bmN0aW9uKCBpLCBlbCApIHtcblxuXHRcdFx0XHRhY2ZRdWlja2VkaXQuZGF0ZXBpY2tlci5pbml0KCAkKGVsKSApO1xuXG5cdFx0XHR9KTtcblxuXHRcdFx0Ly8gaW5pdCB0aW1lcGlja2VyXG5cdFx0XHQkcGFyZW50LmZpbmQoJy5hY2YtcXVpY2stZWRpdC10aW1lX3BpY2tlcicpLmVhY2goIGZ1bmN0aW9uKCBpLCBlbCApIHtcblxuXHRcdFx0XHRhY2ZRdWlja2VkaXQudGltZXBpY2tlci5pbml0KCAkKGVsKSApO1xuXG5cdFx0XHR9KTtcblxuXHRcdFx0Ly8gaW5pdCBkYXRldGltcGlja2VyXG5cdFx0XHQkcGFyZW50LmZpbmQoJy5hY2YtcXVpY2stZWRpdC1kYXRlX3RpbWVfcGlja2VyJykuZWFjaCggZnVuY3Rpb24oIGksIGVsICkge1xuXG5cdFx0XHRcdGFjZlF1aWNrZWRpdC5kYXRldGltZXBpY2tlci5pbml0KCAkKGVsKSApO1xuXG5cdFx0XHR9KTtcblxuXHRcdFx0aWYoICQoJ2JvZHkgPiAjdWktZGF0ZXBpY2tlci1kaXYnKS5sZW5ndGggPiAwICkge1xuXHRcdFx0XHQkKCdib2R5ID4gI3VpLWRhdGVwaWNrZXItZGl2Jykud3JhcCgnPGRpdiBjbGFzcz1cImFjZi11aS1kYXRlcGlja2VyXCIgLz4nKTtcblx0XHRcdH1cblx0XHR9KTtcblx0fVxuXHRcblx0YWNmUXVpY2tlZGl0LmRhdGVwaWNrZXIgPSB7XG5cdFx0aW5pdDogZnVuY3Rpb24oICR3cmFwICkge1xuXHRcdFx0dmFyICRoaWRkZW5cdFx0PSAkd3JhcC5maW5kKCAnW3R5cGU9XCJoaWRkZW5cIl0nICksXG5cdFx0XHRcdCRpbnB1dFx0XHQ9ICR3cmFwLmZpbmQoICdbdHlwZT1cInRleHRcIl0nICksXG5cdFx0XHRcdGFsdEZvcm1hdFx0PSAneXltbWRkJ1xuXHRcdFx0XHRhcmdzXHRcdD0ge1xuXHRcdFx0XHRcdGRhdGVGb3JtYXRcdFx0OiAkd3JhcC5kYXRhKCdkYXRlX2Zvcm1hdCcpLFxuXHRcdFx0XHRcdGFsdEZvcm1hdFx0XHQ6IGFsdEZvcm1hdCxcblx0XHRcdFx0XHRhbHRGaWVsZFx0XHQ6ICRoaWRkZW4sXG5cdFx0XHRcdFx0Y2hhbmdlWWVhclx0XHQ6IHRydWUsXG5cdFx0XHRcdFx0eWVhclJhbmdlXHRcdDogXCItMTAwOisxMDBcIixcblx0XHRcdFx0XHRjaGFuZ2VNb250aFx0XHQ6IHRydWUsXG5cdFx0XHRcdFx0c2hvd0J1dHRvblBhbmVsXHQ6IHRydWUsXG5cdFx0XHRcdFx0Zmlyc3REYXlcdFx0OiAkd3JhcC5kYXRhKCdmaXJzdF9kYXknKVxuXHRcdFx0XHR9LFxuXHRcdFx0XHRkYXRlXHRcdD0gJC5kYXRlcGlja2VyLnBhcnNlRGF0ZSggYWx0Rm9ybWF0LCAkaGlkZGVuLnZhbCgpICApO1xuXG5cdFx0XHQkaW5wdXQuZGF0ZXBpY2tlciggYXJncyApLmRhdGVwaWNrZXIoICdzZXREYXRlJywgZGF0ZSApLm9uKCdibHVyJyxmdW5jdGlvbigpe1xuXHRcdFx0XHRpZiAoICEgJCh0aGlzKS52YWwoKSApIHtcblx0XHRcdFx0XHQkaGlkZGVuLnZhbCgnJyk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH0sXG5cdH07XG5cblx0YWNmUXVpY2tlZGl0LnRpbWVwaWNrZXIgPSB7XG5cdFx0aW5pdDogZnVuY3Rpb24oICR3cmFwICkge1xuXHRcdFx0dmFyICRoaWRkZW5cdFx0XHQ9ICR3cmFwLmZpbmQoICdbdHlwZT1cImhpZGRlblwiXScgKSxcblx0XHRcdFx0JGlucHV0XHRcdFx0PSAkd3JhcC5maW5kKCAnW3R5cGU9XCJ0ZXh0XCJdJyApLFxuXHRcdFx0XHRhbHRUaW1lRm9ybWF0XHQ9ICdISDptbTpzcycsXG5cdFx0XHRcdGFyZ3NcdFx0XHQ9IHtcblx0XHRcdFx0XHR0aW1lRm9ybWF0XHRcdFx0OiAkd3JhcC5kYXRhKCd0aW1lX2Zvcm1hdCcpLFxuXHRcdFx0XHRcdGFsdFRpbWVGb3JtYXRcdFx0OiBhbHRUaW1lRm9ybWF0LFxuXHRcdFx0XHRcdGFsdEZpZWxkXHRcdFx0OiAkaGlkZGVuLFxuXHRcdFx0XHRcdGFsdEZpZWxkVGltZU9ubHlcdDogZmFsc2UsXG5cdFx0XHRcdFx0c2hvd0J1dHRvblBhbmVsXHRcdDogdHJ1ZSxcblx0XHRcdFx0XHRjb250cm9sVHlwZVx0XHRcdDogJ3NlbGVjdCcsXG5cdFx0XHRcdFx0b25lTGluZVx0XHRcdFx0OiB0cnVlXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHRpbWUgXHRcdFx0PSAkLmRhdGVwaWNrZXIucGFyc2VUaW1lKCBhbHRUaW1lRm9ybWF0LCAkaGlkZGVuLnZhbCgpICk7XG5cblx0XHRcdCRpbnB1dC50aW1lcGlja2VyKCBhcmdzICkub24oJ2JsdXInLGZ1bmN0aW9uKCl7XG5cdFx0XHRcdGlmICggISAkKHRoaXMpLnZhbCgpICkge1xuXHRcdFx0XHRcdCRoaWRkZW4udmFsKCcnKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0XHRpZiAoICRoaWRkZW4udmFsKCkgKSB7XG5cdFx0XHRcdCRpbnB1dC52YWwoICQuZGF0ZXBpY2tlci5mb3JtYXRUaW1lKCAkd3JhcC5kYXRhKCd0aW1lX2Zvcm1hdCcpLCB0aW1lICkgKVxuXHRcdFx0fVxuXHRcdH0sXG5cdFxuXHR9O1xuXG5cdFxuXHRhY2ZRdWlja2VkaXQuZGF0ZXRpbWVwaWNrZXIgPSB7XG5cdFx0aW5pdDogZnVuY3Rpb24oICR3cmFwICkge1xuXHRcdFx0dmFyICRoaWRkZW5cdFx0XHQ9ICR3cmFwLmZpbmQoICdbdHlwZT1cImhpZGRlblwiXScgKSxcblx0XHRcdFx0JGlucHV0XHRcdFx0PSAkd3JhcC5maW5kKCAnW3R5cGU9XCJ0ZXh0XCJdJyApLFxuXHRcdFx0XHRhbHRGb3JtYXRcdFx0PSAneXktbW0tZGQnXG5cdFx0XHRcdGFsdFRpbWVGb3JtYXRcdD0gJ0hIOm1tOnNzJyxcblx0XHRcdFx0YXJnc1x0XHRcdD0ge1xuXHRcdFx0XHRcdGFsdEZpZWxkXHRcdFx0OiAkaGlkZGVuLFxuXHRcdFx0XHRcdGRhdGVGb3JtYXRcdFx0XHQ6ICR3cmFwLmRhdGEoJ2RhdGVfZm9ybWF0JyksXG5cdFx0XHRcdFx0YWx0Rm9ybWF0XHRcdFx0OiBhbHRGb3JtYXQsXG5cdFx0XHRcdFx0dGltZUZvcm1hdFx0XHRcdDogJHdyYXAuZGF0YSgndGltZV9mb3JtYXQnKSxcblx0XHRcdFx0XHRhbHRUaW1lRm9ybWF0XHRcdDogYWx0VGltZUZvcm1hdCxcblx0XHRcdFx0XHRhbHRGaWVsZFRpbWVPbmx5XHQ6IGZhbHNlLFxuXHRcdFx0XHRcdGNoYW5nZVllYXJcdFx0XHQ6IHRydWUsXG5cdFx0XHRcdFx0eWVhclJhbmdlXHRcdFx0OiBcIi0xMDA6KzEwMFwiLFxuXHRcdFx0XHRcdGNoYW5nZU1vbnRoXHRcdFx0OiB0cnVlLFxuXHRcdFx0XHRcdHNob3dCdXR0b25QYW5lbFx0XHQ6IHRydWUsXG5cdFx0XHRcdFx0Zmlyc3REYXlcdFx0XHQ6ICR3cmFwLmRhdGEoJ2ZpcnN0X2RheScpLFxuXHRcdFx0XHRcdGNvbnRyb2xUeXBlXHRcdFx0OiAnc2VsZWN0Jyxcblx0XHRcdFx0XHRvbmVMaW5lXHRcdFx0XHQ6IHRydWVcblx0XHRcdFx0fSxcblx0XHRcdFx0ZGF0ZXRpbWUgXHRcdFx0PSAkLmRhdGVwaWNrZXIucGFyc2VEYXRlVGltZSggYWx0Rm9ybWF0LCBhbHRUaW1lRm9ybWF0LCAkaGlkZGVuLnZhbCgpICk7XG5cblx0XHRcdCRpbnB1dC5kYXRldGltZXBpY2tlciggYXJncyApLmRhdGVwaWNrZXIoICdzZXREYXRlJywgZGF0ZXRpbWUgKS5vbignYmx1cicsZnVuY3Rpb24oKXtcblx0XHRcdFx0aWYgKCAhICQodGhpcykudmFsKCkgKSB7XG5cdFx0XHRcdFx0JGhpZGRlbi52YWwoJycpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9LFxuXHRcblx0fTtcblxuXHRcblx0aWYgKCAndW5kZWZpbmVkJyAhPT0gdHlwZW9mIGlubGluZUVkaXRQb3N0ICkge1xuXHRcdC8vIHdlIGNyZWF0ZSBhIGNvcHkgb2YgdGhlIFdQIGlubGluZSBlZGl0IHBvc3QgZnVuY3Rpb25cblx0XHR2YXIgX3dwX2lubGluZV9lZGl0X3Bvc3QgPSBpbmxpbmVFZGl0UG9zdC5lZGl0O1xuXHRcdC8vIGFuZCB0aGVuIHdlIG92ZXJ3cml0ZSB0aGUgZnVuY3Rpb24gd2l0aCBvdXIgb3duIGNvZGVcblx0XHRpbmxpbmVFZGl0UG9zdC5lZGl0ID0gZnVuY3Rpb24oIGlkICkge1xuXHRcdFx0dmFyIG9iamVjdF9pZCwgJHRyO1xuXHRcdFx0Ly8gXCJjYWxsXCIgdGhlIG9yaWdpbmFsIFdQIGVkaXQgZnVuY3Rpb25cblx0XHRcdC8vIHdlIGRvbid0IHdhbnQgdG8gbGVhdmUgV29yZFByZXNzIGhhbmdpbmdcblx0XHRcdF93cF9pbmxpbmVfZWRpdF9wb3N0LmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcblxuXHRcdFx0Ly8gZ2V0IHRoZSBwb3N0IElEXG5cdFx0XHRvYmplY3RfaWQgPSAwO1xuXHRcdFx0aWYgKCB0eXBlb2YoIGlkICkgPT09ICdvYmplY3QnICkge1xuXHRcdFx0XHRvYmplY3RfaWQgPSBwYXJzZUludCggdGhpcy5nZXRJZCggaWQgKSApO1xuXHRcdFx0fVxuXHRcdFx0JHRyID0gJCgnI2VkaXQtJyArIG9iamVjdF9pZCApO1xuXHRcdFx0Z2V0X2FjZl9wb3N0X2RhdGEoIG9iamVjdF9pZCAsICQoJyNlZGl0LScgKyBvYmplY3RfaWQgKSApO1xuXG5cdFx0XHRiaW5kVmFsaWRhdGlvbiggJHRyLmZpbmQoJ2J1dHRvbi5zYXZlJyksIG9iamVjdF9pZCApO1xuXHRcdH07XG5cdH1cblxuXHRpZiAoICd1bmRlZmluZWQnICE9PSB0eXBlb2YgaW5saW5lRWRpdFRheCApIHtcblxuXHRcdHZhciBfd3BfaW5saW5lX2VkaXRfdGF4ID0gaW5saW5lRWRpdFRheC5lZGl0O1xuXG5cdFx0aW5saW5lRWRpdFRheC5lZGl0ID0gZnVuY3Rpb24oIGlkICkge1xuXHRcdFx0dmFyIG9iamVjdF9pZCwgJHRyLFxuXHRcdFx0XHR0YXggPSAkKCdpbnB1dFtuYW1lPVwidGF4b25vbXlcIl0nKS52YWwoKTtcblxuXHRcdFx0X3dwX2lubGluZV9lZGl0X3RheC5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cblx0XHRcdC8vIGdldCB0aGUgcG9zdCBJRFxuXHRcdFx0b2JqZWN0X2lkID0gMDtcblx0XHRcdGlmICggdHlwZW9mKCBpZCApID09PSAnb2JqZWN0JyApIHtcblx0XHRcdFx0b2JqZWN0X2lkID0gcGFyc2VJbnQoIHRoaXMuZ2V0SWQoIGlkICkgKTtcblx0XHRcdH1cblx0XHRcdCR0ciA9ICQoJyNlZGl0LScgKyBvYmplY3RfaWQgKTtcblx0XHRcdGdldF9hY2ZfcG9zdF9kYXRhKCB0YXggKyAnXycgKyBvYmplY3RfaWQgLCAkdHIgKTtcblxuXHRcdFx0YmluZFZhbGlkYXRpb24oICR0ci5maW5kKCdidXR0b24uc2F2ZScpLCBvYmplY3RfaWQgKTtcblx0XHR9O1xuXHR9XG5cblx0YWNmLnZhbGlkYXRpb24uZXJyb3JfY2xhc3MgPSAnZm9ybS1pbnZhbGlkJztcblxuXHRmdW5jdGlvbiBiaW5kVmFsaWRhdGlvbiggJGJ1dHRvbiwgb2JqZWN0X2lkICkge1xuXHRcdHZhciAkZm9ybSA9ICRidXR0b24uY2xvc2VzdCgnZm9ybScpO1xuXG4vLyBcdFx0YWNmLnVwZGF0ZSgnYWpheHVybCcsIGFqYXh1cmwgKTtcbi8vIFx0XHRhY2YudXBkYXRlKCdub25jZScsICRmb3JtLmZpbmQoJ1tuYW1lPVwibm9uY2VcIl0nKS52YWwoKSApO1xuIFx0XHRhY2YudXBkYXRlKCdwb3N0X2lkJywgb2JqZWN0X2lkICk7XG5cblx0XHQkYnV0dG9uLmNsaWNrKCBmdW5jdGlvbihlKSB7XG5cblx0XHRcdC8vIGJhaWwgZWFybHkgaWYgbm90IGFjdGl2ZVxuXHRcdFx0aWYoICFhY2YudmFsaWRhdGlvbi5hY3RpdmUgKSB7XG5cdFx0XG5cdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XG5cdFx0XHR9XG5cblx0XHRcdC8vIGlnbm9yZSB2YWxpZGF0aW9uIChvbmx5IGlnbm9yZSBvbmNlKVxuXHRcdFx0aWYoIGFjZi52YWxpZGF0aW9uLmlnbm9yZSApIHtcblx0XHRcdFx0YWNmLnZhbGlkYXRpb24uaWdub3JlID0gMDtcblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9XG5cblx0XHRcdC8vIHN0b3AgV1AgSlMgdmFsaWRhdGlvblxuXHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0ZS5zdG9wUHJvcGFnYXRpb24oKTtcblx0XHRcdGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG5cdFx0XG5cblx0XHRcdC8vIHN0b3JlIHN1Ym1pdCB0cmlnZ2VyIHNvIGl0IHdpbGwgYmUgY2xpY2tlZCBpZiB2YWxpZGF0aW9uIGlzIHBhc3NlZFxuXHRcdFx0YWNmLnZhbGlkYXRpb24uJHRyaWdnZXIgPSAkKHRoaXMpO1xuXHRcdFx0XHRcdFxuXHRcdFx0Ly8gcnVuIHZhbGlkYXRpb25cblx0XHRcdGFjZi52YWxpZGF0aW9uLmZldGNoKCAkZm9ybSApO1xuXG5cdFx0XHQvLyBzdG9wIGFsbCBvdGhlciBjbGljayBldmVudHMgb24gdGhpcyBpbnB1dFxuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH0pO1xuXG5cdFx0JGJ1dHRvbi5kYXRhKCdldmVudHMnKS5jbGljay5yZXZlcnNlKCk7XG5cdH1cblxuXHQkKGRvY3VtZW50KS5vbiggJ2NsaWNrJyAsICcuYnVsa2FjdGlvbnMgLmJ1dHRvbi5hY3Rpb24nICwgZnVuY3Rpb24oIGUgKSB7XG5cdFx0dmFyIHBvc3RfaWRzID0gW107XG5cblx0XHQkKCAnI2J1bGstZWRpdCAjYnVsay10aXRsZXMnICkuY2hpbGRyZW4oKS5lYWNoKCBmdW5jdGlvbigpIHtcblxuXHRcdFx0cG9zdF9pZHMucHVzaCggJCggdGhpcyApLmF0dHIoICdpZCcgKS5yZXBsYWNlKCAvXih0dGxlKS9pLCAnJyApICk7XG5cblx0XHR9KTtcblxuXHRcdGdldF9hY2ZfcG9zdF9kYXRhKCBwb3N0X2lkcyAsICQoICcjYnVsay1lZGl0JyApICk7XG5cblx0fSlcblx0Lm9uKCdjaGFuZ2UnLCAnLmFjZi1yYWRpby1saXN0Lm90aGVyIGlucHV0W3R5cGU9XCJyYWRpb1wiXScsIGZ1bmN0aW9uKGUpIHtcblxuXHRcdHZhciAkdGhpcyA9ICQodGhpcyksIFxuXHRcdFx0JGxpc3QgPSAkdGhpcy5jbG9zZXN0KCcuYWNmLXJhZGlvLWxpc3QnKSwgXG5cdFx0XHRpc19vdGhlciA9ICR0aGlzLnZhbCgpID09ICdvdGhlcicsXG5cdFx0XHQkb3RoZXIgPSAkbGlzdC5maW5kKCdbdHlwZT1cInRleHRcIl0nKS5wcm9wKCdkaXNhYmxlZCcsICEgaXNfb3RoZXIgKTtcblxuXHRcdCEhIGlzX290aGVyICYmICRvdGhlci5mb2N1cygpO1xuXG5cdH0pXG5cdC5vbiggJ2NoYW5nZScsICdbZGF0YS1pcy1kby1ub3QtY2hhbmdlPVwidHJ1ZVwiXScsIGZ1bmN0aW9uKCl7XG5cdFx0dmFyICRzZWxmID0gJCh0aGlzKSxcblx0XHRcdG5hbWUgPSAkc2VsZi5hdHRyKCduYW1lJyksXG5cdFx0XHQkbGlzdCA9ICRzZWxmLmNsb3Nlc3QoJy5hY2YtY2hlY2tib3gtbGlzdCcpLFxuXHRcdFx0JGl0ZW1zO1xuXHRcdGlmICggJGxpc3QubGVuZ3RoICkge1xuXHRcdFx0JGl0ZW1zID0gJGxpc3QuZmluZCgnW3R5cGU9XCJjaGVja2JveFwiXTpub3QoW2RhdGEtaXMtZG8tbm90LWNoYW5nZV0pJyk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdCRpdGVtcyA9ICRzZWxmLmNsb3Nlc3QoJy5hY2YtZmllbGQnKS5maW5kKCdbbmFtZT1cIicrbmFtZSsnXCJdOm5vdChbZGF0YS1pcy1kby1ub3QtY2hhbmdlXSknKVxuXHRcdH1cblxuY29uc29sZS5sb2coJGl0ZW1zKTtcblx0XHQkaXRlbXMucHJvcCggJ2Rpc2FibGVkJywgJHNlbGYucHJvcCgnY2hlY2tlZCcpICk7XG5cdH0pXG5cdC5vbiggJ2NsaWNrJywgJy5pbmxpbmUtZWRpdC1jb2wgLnNlbGVjdC1tZWRpYScsIGZ1bmN0aW9uKGUpIHtcblx0XHR2YXIgc2VsZiA9IHRoaXMsXG5cdFx0XHQkaGlkZGVuID0gJChzZWxmKS5wYXJlbnQoJy5hY2YtaW5wdXQtd3JhcCcpLmZpbmQoJ1t0eXBlPVwiaGlkZGVuXCJdJyksXG5cdFx0XHQkZmllbGQgPSAkKHRoaXMpLmNsb3Nlc3QoJy5hY2YtZmllbGQnKSxcblx0XHRcdHBvc3RfaWQgPSBhY2YuZ2V0KCdwb3N0X2lkJyksXG5cdFx0XHRtZWRpYUZyYW1lT3B0cztcblxuXHRcdG1lZGlhRnJhbWVPcHRzID0ge1xuXHRcdFx0ZmllbGRcdFx0OiAkaGlkZGVuLmF0dHIoJ2RhdGEtYWNmLWZpZWxkLWtleScpLFxuXHRcdFx0bXVsdGlwbGVcdDogZmFsc2UsXG5cdFx0XHRwb3N0X2lkXHRcdDogcG9zdF9pZCxcblx0XHRcdGxpYnJhcnlcdFx0OiAkaGlkZGVuLmF0dHIoJ2RhdGEtbGlicmFyeScpLFxuXHRcdFx0bW9kZVx0XHQ6J3NlbGVjdCcsXG5cdFx0XHRzZWxlY3RcdFx0OiBmdW5jdGlvbiAoIGF0dGFjaG1lbnQsIGkgKSB7XG5cdFx0XHRcdGlmICggISBhdHRhY2htZW50ICkge1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXHRcdFx0XHR2YXIgJGhpZGRlbiA9ICQoc2VsZikucGFyZW50KCcuYWNmLWlucHV0LXdyYXAnKS5maW5kKCdbdHlwZT1cImhpZGRlblwiXScpLFxuXHRcdFx0XHRcdG1lZGlhX2lkID0gYXR0YWNobWVudC5nZXQoJ2lkJyk7XG5cblx0XHRcdFx0JGhpZGRlbi52YWwoIG1lZGlhX2lkICk7XG5cdFx0XHR9XG5cdFx0fTtcblxuXG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFxuXHRcdFxuXHRcdGlmICggJGhpZGRlbi5kYXRhKCdtaW1lX3R5cGVzJykgKSB7XG5cdFx0XHRtZWRpYUZyYW1lT3B0cy5taW1lX3R5cGVzID0gJGhpZGRlbi5kYXRhKCdtaW1lX3R5cGVzJyk7XG5cdFx0fVxuXHRcdGlmICggJGZpZWxkLmlzKCdbZGF0YS1maWVsZC10eXBlPVwiaW1hZ2VcIl0nKSApIHtcblx0XHRcdG1lZGlhRnJhbWVPcHRzLnR5cGUgPSAnaW1hZ2UnO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRtZWRpYUZyYW1lT3B0cy50eXBlID0gJyc7XG5cdFx0fVxuXG5cdFx0Ly8gQ3JlYXRlIGEgbmV3IG1lZGlhIGZyYW1lXG5cdFx0bWVkaWFfZnJhbWUgPSBhY2YubWVkaWEucG9wdXAoIG1lZGlhRnJhbWVPcHRzICk7XG5cblxuXHRcdC8vIHNldCBwb3N0IGlkLCBzbyBuZXcgdXBsb2FkcyBhcmUgYXR0YWNoZWQgdG8gZWRpdGVkIHBvc3Rcblx0XHRpZiAoIGFjZi5pc3NldCh3aW5kb3csJ3dwJywnbWVkaWEnLCd2aWV3Jywnc2V0dGluZ3MnLCdwb3N0JykgJiYgJC5pc051bWVyaWMocG9zdF9pZCkgKSB7XG5cdFx0XHRcblx0XHRcdHdwLm1lZGlhLnZpZXcuc2V0dGluZ3MucG9zdC5pZCA9IHBvc3RfaWQ7XG5cdFx0XHRcdFxuXHRcdH1cblxuXHR9KVxuXHQub24oICdjbGljaycsICcuaW5saW5lLWVkaXQtY29sIC5yZW1vdmUtbWVkaWEnLCBmdW5jdGlvbihlKSB7XG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdHZhciAkaGlkZGVuID0gJCh0aGlzKS5wYXJlbnQoKS5maW5kKCdbdHlwZT1cImhpZGRlblwiXScpO1xuXHRcdCRoaWRkZW4udmFsKCcnKTtcblx0XHRjb25zb2xlLmxvZygkaGlkZGVuKTtcblx0fSk7XG59KShqUXVlcnkpOyIsIihmdW5jdGlvbigkKSB7XG5cdCQoJy5hY2YtcWVmLWdhbGxlcnktY29sJykub24oJ21vdXNlbW92ZScsZnVuY3Rpb24oZSl7XG5cdFx0dmFyICR0aGlzXHQ9ICQodGhpcyksXG5cdFx0XHQkaW1nXHQ9ICQodGhpcykuZmluZCgnaW1nJylcblx0XHRcdHhcdFx0PSBlLm9mZnNldFgsXG5cdFx0XHRudW1cdFx0PSAkaW1nLmxlbmd0aCxcblx0XHRcdHN0ZXBcdD0gJCh0aGlzKS53aWR0aCgpIC8gbnVtO1xuXG5cdFx0JGltZy5lYWNoKCBmdW5jdGlvbihpLGVsKSB7XG5cdFx0XHRpZiAoeCA+PSBzdGVwKmkpIHtcblx0XHRcdFx0JChlbCkuc2hvdygpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0JChlbCkuaGlkZSgpO1xuXHRcdFx0fVxuXHRcdH0gKTtcblx0fSk7XG59KShqUXVlcnkpOyJdfQ==
