!function(t,e){e.acf_quickedit=qe={form:{},field:{_types:{},add_type:function(t){return qe.field._types[t.type]=qe.field.View.extend(t),qe.field._types[t.type]},factory:function(e,i){var a=t(e).attr("data-field-type"),n=qe.field._types;return field_class=a in n?n[a]:qe.field.View,new field_class({el:e,controller:i})}}},qe.form.View=Backbone.View.extend({initialize:function(){var t=this;this.options=arguments[0],Backbone.View.prototype.initialize.apply(this,arguments),this.fields={},this.$(".inline-edit-col-qed [data-key]").each(function(e,i){var a=qe.field.factory(i,this);t.fields[a.key]=a}),this.loadValues()},getFieldsToLoad:function(){var t=[];return _.each(this.fields,function(e,i){e.parent_key?t.push(e.parent_key):t.push(e.key)}),t},loadedValues:function(t){this._setValues(t),this.initValidation()},_setValues:function(t){var e=this;_.each(t,function(t,i){i in e.fields?e.fields[i].setValue(t):_.isObject(t)&&e._setValues(t)})},unload:function(t){_.each(this.fields,function(t){t.unload()})},validationComplete:function(t,e){var i=this;return t.valid||_.each(t.errors,function(t){var e=t.input.replace(/^acf\[([0-9a-z_]+)\]$/g,"$1");e in i.fields&&i.fields[e].setError(t.message)}),t},initValidation:function(){var e=this.$el.closest("form"),i=this.getSaveButton();acf.update("post_id",this.options.object_id),acf.add_filter("validation_complete",this.validationComplete,10,this),i.click(function(i){return!acf.validation.active||(acf.validation.ignore?(acf.validation.ignore=0,!0):(i.preventDefault(),i.stopPropagation(),i.stopImmediatePropagation(),acf.validation.$trigger=t(this),acf.validation.fetch(e),!1))}),t._data(i[0],"events").click.reverse()}}),qe.form.QuickEdit=qe.form.View.extend({loadValues:function(){var e=this;return t.post({url:ajaxurl,data:{action:"get_acf_post_meta",object_id:this.options.object_id,acf_field_keys:this.getFieldsToLoad()},success:function(t){e.loadedValues(t)}}),this},getSaveButton:function(){return this.$el.closest("form").find("button.save")}}),qe.form.BulkEdit=qe.form.View.extend({initialize:function(){qe.form.View.prototype.initialize.apply(this,arguments),acf.add_filter("prepare_for_ajax",this.prepareForAjax,null,this)},prepareForAjax:function(e){var i={};return t.each(e,function(t,e){"___do_not_change"!==e&&(i[t]=e)}),i},loadValues:function(){var e=[];t('[type="checkbox"][name="post[]"]:checked').each(function(){e.push(t(this).val())});var i=this;return t.post({url:ajaxurl,data:{action:"get_acf_post_meta",object_id:e,acf_field_keys:this.getFieldsToLoad()},success:function(t){i.loadedValues(t)}}),this},getSaveButton:function(){return this.$('[type="submit"]#bulk_edit')}}),qe.field.View=wp.media.View.extend({events:{'change [type="checkbox"][data-is-do-not-change="true"]':"dntChanged"},initialize:function(){var t=this;Backbone.View.prototype.initialize.apply(this,arguments),this.key=this.$el.attr("data-key"),this.parent_key=this.$el.attr("data-parent-key"),"false"===this.parent_key&&(this.parent_key=!1),this.$input||(this.$input=this.$('input:not([data-is-do-not-change="true"])')),this.setEditable(!1),this.$("*").on("change",function(){t.resetError()})},setValue:function(t){return this.dntChanged(),this.$input.val(t),this},dntChanged:function(){this.setEditable(!this.$('[type="checkbox"][data-is-do-not-change="true"]').is(":checked"))},setEditable:function(t){this.$input.prop("readonly",!t).prop("disabled",!t)},setError:function(t){return this.$el.attr("data-error-message",t),this},resetError:function(){return this.$el.removeAttr("data-error-message"),this},unload:function(){}})}(jQuery,window);
!function(t,e){var i={type:"file",mediaFrameType:"",events:{"click .select-media":"selectFile","click .remove-media":"removeFile",'change [type="checkbox"][value="___do_not_change"]':"dntChanged"},initialize:function(){this.$input=this.$("button"),this.$hidden=this.$('[type="hidden"]'),e.field.View.prototype.initialize.apply(this,arguments);var t=this,i=acf.get("post_id");this.mediaFrameOpts={field:this.key,multiple:!1,post_id:i,library:this.$hidden.attr("data-library"),mode:"select",type:this.mediaFrameType,select:function(e,i){e&&t.setValue(e.get("id"))}},this.$hidden.data("mime_types")&&(this.mediaFrameOpts.mime_types=this.$hidden.data("mime_types"))},selectFile:function(e){e.preventDefault();var i=acf.media.popup(this.mediaFrameOpts),a=this.$hidden.val();a&&i.on("open",function(){var t,e;t=i.state().get("selection"),e=wp.media.attachment(a),e.fetch(),t.add(e?[e]:[])}),acf.isset(window,"wp","media","view","settings","post")&&t.isNumeric(this.mediaFrameOpts.post_id)&&(wp.media.view.settings.post.id=this.mediaFrameOpts.post_id)},removeFile:function(t){t.preventDefault(),this.setValue("")},setValue:function(t){return this.dntChanged(),this.$hidden.val(t),this}};e.field.add_type(i),e.field.add_type(_.extend(i,{type:"image",mediaFrameType:"image"})),e.field.add_type(i),e.field.add_type({type:"range",events:{'change [type="range"]':"adaptNumber",'mousemove [type="range"]':"adaptNumber",'change [type="number"]':"adaptRange",'mousemove [type="number"]':"adaptRange",'change [type="checkbox"][value="___do_not_change"]':"dntChanged"},adaptNumber:function(){this.$('[type="number"]').val(this.$('[type="range"]').val())},adaptRange:function(){this.$('[type="range"]').val(this.$('[type="number"]').val())}}),e.field.add_type({type:"date_picker",initialize:function(){var i=this;return this.$input=this.$('[type="text"]'),this.$hidden=this.$('[type="hidden"]'),e.field.View.prototype.initialize.apply(this,arguments),t("body > #ui-datepicker-div").length>0&&t("body > #ui-datepicker-div").wrap('<div class="acf-ui-datepicker" />'),this.datePickerArgs={dateFormat:this.$("[data-date_format]").data("date_format"),altFormat:"yymmdd",altField:this.$hidden,changeYear:!0,yearRange:"-100:+100",changeMonth:!0,showButtonPanel:!0,firstDay:this.$("[data-first_day]").data("first_day")},this.$input.datepicker(this.datePickerArgs).on("blur",function(){t(this).val()||i.$hidden.val("")}),this},setValue:function(e){var i;this.dntChanged();try{i=t.datepicker.parseDate(this.datePickerArgs.altFormat,e)}catch(t){return this}return this.$input.datepicker("setDate",i),this}}),e.field.add_type({type:"date_time_picker",initialize:function(){var i=this;return this.$input=this.$('[type="text"]'),this.$hidden=this.$('[type="hidden"]'),e.field.View.prototype.initialize.apply(this,arguments),t("body > #ui-datepicker-div").length>0&&t("body > #ui-datepicker-div").wrap('<div class="acf-ui-datepicker" />'),this.datePickerArgs={altField:this.$hidden,dateFormat:this.$("[data-date_format]").data("date_format"),altFormat:"yy-mm-dd",timeFormat:this.$("[data-time_format]").data("time_format"),altTimeFormat:"HH:mm:ss",altFieldTimeOnly:!1,changeYear:!0,yearRange:"-100:+100",changeMonth:!0,showButtonPanel:!0,firstDay:this.$("[data-first_day]").data("first_day"),controlType:"select",oneLine:!0},this.$input.datetimepicker(this.datePickerArgs).on("blur",function(){t(this).val()||i.$hidden.val("")}),this},setValue:function(e){var i;this.dntChanged();try{i=t.datepicker.parseDateTime(this.datePickerArgs.altFormat,this.datePickerArgs.altTimeFormat,e)}catch(t){return this}if(i)return this.$hidden.val(i),this.$input.val(t.datepicker.formatDate(this.datePickerArgs.dateFormat,i)+" "+t.datepicker.formatTime(this.datePickerArgs.timeFormat,i)),this}}),e.field.add_type({type:"time_picker",initialize:function(){var i=this;return this.$input=this.$('[type="text"]'),this.$hidden=this.$('[type="hidden"]'),e.field.View.prototype.initialize.apply(this,arguments),t("body > #ui-datepicker-div").length>0&&t("body > #ui-datepicker-div").wrap('<div class="acf-ui-datepicker" />'),this.datePickerArgs={timeFormat:this.$("[data-time_format]").data("time_format"),altTimeFormat:"HH:mm:ss",altField:this.$hidden,altFieldTimeOnly:!1,showButtonPanel:!0,controlType:"select",oneLine:!0},this.$input.timepicker(this.datePickerArgs).on("blur",function(){t(this).val()||i.$hidden.val("")}),this},setValue:function(e){var i;this.dntChanged();try{i=t.datepicker.parseTime(this.datePickerArgs.altTimeFormat,e)}catch(t){return this}if(i)return this.$hidden.val(e),this.$input.val(t.datepicker.formatTime(this.datePickerArgs.timeFormat,i)),this}}),e.field.add_type({type:"color_picker",initialize:function(){this.$input=this.$('[type="text"]').first().wpColorPicker(),e.field.View.prototype.initialize.apply(this,arguments)},setValue:function(t){this.dntChanged(),this.$input.wpColorPicker("color",t)},unload:function(){t("body").off("click.wpcolorpicker")}}),e.field.add_type({type:"textarea",initialize:function(){this.$input=this.$("textarea").prop("readonly",!0),e.field.View.prototype.initialize.apply(this,arguments),this.$input.on("keydown keyup",function(t){13!=t.which&&27!=t.which||t.stopPropagation()})}}),e.field.add_type({type:"checkbox",events:{"click .add-choice":"addChoice",'change [type="checkbox"].custom':"removeChoice",'change [type="checkbox"][value="___do_not_change"]':"dntChanged"},initialize:function(){this.$input=this.$('[type="checkbox"]:not([value="___do_not_change"])'),this.$button=this.$("button.add-choice").prop("disabled",!0),e.field.View.prototype.initialize.apply(this,arguments)},setEditable:function(t){this.$input.prop("readonly",!t),this.$button.prop("disabled",!t)},setValue:function(e){var i=this;this.dntChanged(),t.isArray(e)?t.each(e,function(t,e){i.$('[type="checkbox"][value="'+e+'"]').prop("checked",!0)}):this.$('[type="checkbox"][value="'+e+'"]').prop("checked",!0)},addChoice:function(t){t.preventDefault();var e=wp.template("acf-qef-custom-choice-"+this.$el.attr("data-key"));this.$("ul").append(e())},removeChoice:function(e){t(e.target).closest("li").remove()}}),e.field.add_type({type:"radio",initialize:function(){var i,a;this.$input=this.$('[type="radio"]'),e.field.View.prototype.initialize.apply(this,arguments),this.$('[type="radio"]').prop("readonly",!0),this.$("ul.acf-radio-list.other").length&&(i=this.$('[type="text"]'),this.$('[type="radio"]').on("change",function(e){a=t(this).is('[value="other"]:checked'),i.prop("disabled",!a).prop("readonly",!a)}))},setValue:function(t){this.dntChanged(),this.$('[type="radio"][value="'+t+'"]').prop("checked",!0)}}),e.field.add_type({type:"select",initialize:function(){e.field.View.prototype.initialize.apply(this,arguments),this.$input=this.$("select").prop("readonly",!0)}}),e.field.add_type({type:"true_false",initialize:function(){e.field.View.prototype.initialize.apply(this,arguments),this.$('[type="radio"]').prop("readonly",!0)},setValue:function(t){this.dntChanged(),this.$('[type="radio"][value="'+t+'"]').prop("checked",!0)}})}(jQuery,acf_quickedit);
!function(i,t){if("undefined"!=typeof inlineEditPost){var e=inlineEditPost.edit,n=inlineEditPost.save,d=inlineEditPost.revert,o=inlineEditPost.setBulk;inlineEditPost.edit=function(n){var d,o;e.apply(this,arguments),d=0,"object"==typeof n&&(d=parseInt(this.getId(n))),o=i("#edit-"+d),this.acf_qed_form=new t.form.QuickEdit({el:o.get(0),object_id:d})},inlineEditPost.revert=function(){return!!this.acf_qed_form&&this.acf_qed_form.unload(),d.apply(this,arguments)},inlineEditPost.save=function(){return!!this.acf_qed_form&&this.acf_qed_form.unload(),n.apply(this,arguments)},inlineEditPost.setBulk=function(){var e=o.apply(this,arguments);return this.acf_qed_form=new t.form.BulkEdit({el:i("#bulk-edit").get(0)}),e}}if("undefined"!=typeof inlineEditTax){var a=inlineEditTax.edit,n=inlineEditTax.save,d=inlineEditTax.revert;inlineEditTax.edit=function(e){var n,d,o=i('input[name="taxonomy"]').val();a.apply(this,arguments),n=0,"object"==typeof e&&(n=parseInt(this.getId(e))),d=i("#edit-"+n),this.acf_qed_form=new t.form.QuickEdit({el:d.get(0),object_id:o+"_"+n})},inlineEditTax.revert=function(){return!!this.acf_qed_form&&this.acf_qed_form.unload(),d.apply(this,arguments)},inlineEditTax.save=function(){return!!this.acf_qed_form&&this.acf_qed_form.unload(),n.apply(this,arguments)}}}(jQuery,window.acf_quickedit);
!function(e){e(".acf-qef-gallery-col").on("mousemove",function(n){var t=(e(this),e(this).find("img"));x=n.offsetX,num=t.length,step=e(this).width()/num,t.each(function(n,t){x>=step*n?e(t).show():e(t).hide()})})}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFjZi1xdWlja2VkaXQtYmFzZS5qcyIsImFjZi1xdWlja2VkaXQtZmllbGRzLmpzIiwiYWNmLXF1aWNrZWRpdC5qcyIsInRodW1ibmFpbC1jb2wuanMiXSwibmFtZXMiOlsiJCIsImV4cG9ydHMiLCJhY2ZfcXVpY2tlZGl0IiwicWUiLCJmb3JtIiwiZmllbGQiLCJfdHlwZXMiLCJhZGRfdHlwZSIsImEiLCJ0eXBlIiwiVmlldyIsImV4dGVuZCIsImZhY3RvcnkiLCJlbCIsImNvbnRyb2xsZXIiLCJhdHRyIiwidHlwZXMiLCJmaWVsZF9jbGFzcyIsIkJhY2tib25lIiwiaW5pdGlhbGl6ZSIsInNlbGYiLCJ0aGlzIiwib3B0aW9ucyIsImFyZ3VtZW50cyIsInByb3RvdHlwZSIsImFwcGx5IiwiZmllbGRzIiwiZWFjaCIsImkiLCJrZXkiLCJsb2FkVmFsdWVzIiwiZ2V0RmllbGRzVG9Mb2FkIiwiXyIsInBhcmVudF9rZXkiLCJwdXNoIiwibG9hZGVkVmFsdWVzIiwidmFsdWVzIiwiX3NldFZhbHVlcyIsImluaXRWYWxpZGF0aW9uIiwidmFsIiwic2V0VmFsdWUiLCJpc09iamVjdCIsInVubG9hZCIsImUiLCJ2YWxpZGF0aW9uQ29tcGxldGUiLCJqc29uIiwiJGZvcm0iLCJ2YWxpZCIsImVycm9ycyIsImVyciIsImlucHV0IiwicmVwbGFjZSIsInNldEVycm9yIiwibWVzc2FnZSIsIiRlbCIsImNsb3Nlc3QiLCIkYnV0dG9uIiwiZ2V0U2F2ZUJ1dHRvbiIsImFjZiIsInVwZGF0ZSIsIm9iamVjdF9pZCIsImFkZF9maWx0ZXIiLCJjbGljayIsInZhbGlkYXRpb24iLCJhY3RpdmUiLCJpZ25vcmUiLCJwcmV2ZW50RGVmYXVsdCIsInN0b3BQcm9wYWdhdGlvbiIsInN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbiIsIiR0cmlnZ2VyIiwiZmV0Y2giLCJfZGF0YSIsInJldmVyc2UiLCJRdWlja0VkaXQiLCJwb3N0IiwidXJsIiwiYWpheHVybCIsImRhdGEiLCJhY3Rpb24iLCJhY2ZfZmllbGRfa2V5cyIsInN1Y2Nlc3MiLCJyZXNwb25zZSIsImZpbmQiLCJCdWxrRWRpdCIsInByZXBhcmVGb3JBamF4IiwicmV0IiwicG9zdF9pZHMiLCJ3cCIsIm1lZGlhIiwiZXZlbnRzIiwiY2hhbmdlIFt0eXBlPVwiY2hlY2tib3hcIl1bZGF0YS1pcy1kby1ub3QtY2hhbmdlPVwidHJ1ZVwiXSIsIiRpbnB1dCIsInNldEVkaXRhYmxlIiwib24iLCJyZXNldEVycm9yIiwidmFsdWUiLCJkbnRDaGFuZ2VkIiwiaXMiLCJlZGl0YWJsZSIsInByb3AiLCJyZW1vdmVBdHRyIiwialF1ZXJ5Iiwid2luZG93IiwiZmlsZV90eXBlIiwibWVkaWFGcmFtZVR5cGUiLCJjbGljayAuc2VsZWN0LW1lZGlhIiwiY2xpY2sgLnJlbW92ZS1tZWRpYSIsImNoYW5nZSBbdHlwZT1cImNoZWNrYm94XCJdW3ZhbHVlPVwiX19fZG9fbm90X2NoYW5nZVwiXSIsIiRoaWRkZW4iLCJwb3N0X2lkIiwiZ2V0IiwibWVkaWFGcmFtZU9wdHMiLCJtdWx0aXBsZSIsImxpYnJhcnkiLCJtb2RlIiwic2VsZWN0IiwiYXR0YWNobWVudCIsIm1pbWVfdHlwZXMiLCJzZWxlY3RGaWxlIiwibWVkaWFfZnJhbWUiLCJwb3B1cCIsIm1lZGlhX2lkIiwic2VsZWN0aW9uIiwic3RhdGUiLCJhZGQiLCJpc3NldCIsImlzTnVtZXJpYyIsInZpZXciLCJzZXR0aW5ncyIsImlkIiwicmVtb3ZlRmlsZSIsImNoYW5nZSBbdHlwZT1cInJhbmdlXCJdIiwibW91c2Vtb3ZlIFt0eXBlPVwicmFuZ2VcIl0iLCJjaGFuZ2UgW3R5cGU9XCJudW1iZXJcIl0iLCJtb3VzZW1vdmUgW3R5cGU9XCJudW1iZXJcIl0iLCJhZGFwdE51bWJlciIsImFkYXB0UmFuZ2UiLCJsZW5ndGgiLCJ3cmFwIiwiZGF0ZVBpY2tlckFyZ3MiLCJkYXRlRm9ybWF0IiwiYWx0Rm9ybWF0IiwiYWx0RmllbGQiLCJjaGFuZ2VZZWFyIiwieWVhclJhbmdlIiwiY2hhbmdlTW9udGgiLCJzaG93QnV0dG9uUGFuZWwiLCJmaXJzdERheSIsImRhdGVwaWNrZXIiLCJkYXRlIiwicGFyc2VEYXRlIiwidGltZUZvcm1hdCIsImFsdFRpbWVGb3JtYXQiLCJhbHRGaWVsZFRpbWVPbmx5IiwiY29udHJvbFR5cGUiLCJvbmVMaW5lIiwiZGF0ZXRpbWVwaWNrZXIiLCJwYXJzZURhdGVUaW1lIiwiZm9ybWF0RGF0ZSIsImZvcm1hdFRpbWUiLCJ0aW1lcGlja2VyIiwidGltZSIsInBhcnNlVGltZSIsImZpcnN0Iiwid3BDb2xvclBpY2tlciIsIm9mZiIsIndoaWNoIiwiY2xpY2sgLmFkZC1jaG9pY2UiLCJjaGFuZ2UgW3R5cGU9XCJjaGVja2JveFwiXS5jdXN0b20iLCJpc0FycmF5IiwiaWR4IiwiYWRkQ2hvaWNlIiwidHBsIiwidGVtcGxhdGUiLCJhcHBlbmQiLCJyZW1vdmVDaG9pY2UiLCJ0YXJnZXQiLCJyZW1vdmUiLCIkb3RoZXIiLCJpc19vdGhlciIsImlubGluZUVkaXRQb3N0IiwiX3dwX2lubGluZV9lZGl0X3Bvc3QiLCJlZGl0IiwiX3dwX2lubGluZV9lZGl0X3NhdmUiLCJzYXZlIiwiX3dwX2lubGluZV9lZGl0X3JldmVydCIsInJldmVydCIsIl93cF9pbmxpbmVfZWRpdF9idWxrIiwic2V0QnVsayIsIiR0ciIsInBhcnNlSW50IiwiZ2V0SWQiLCJhY2ZfcWVkX2Zvcm0iLCJpbmxpbmVFZGl0VGF4IiwiX3dwX2lubGluZV9lZGl0X3RheCIsInRheCIsIiRpbWciLCJ4Iiwib2Zmc2V0WCIsIm51bSIsInN0ZXAiLCJ3aWR0aCIsInNob3ciLCJoaWRlIl0sIm1hcHBpbmdzIjoiQ0FBQSxTQUFXQSxFQUFHQyxHQUViQSxFQUFRQyxjQUFnQkMsSUFDdkJDLFFBQ0FDLE9BQ0NDLFVBQ0FDLFNBQVMsU0FBU0MsR0FFakIsTUFEQUwsSUFBR0UsTUFBTUMsT0FBT0UsRUFBRUMsTUFBUU4sR0FBR0UsTUFBTUssS0FBS0MsT0FBT0gsR0FDeENMLEdBQUdFLE1BQU1DLE9BQU9FLEVBQUVDLE9BRTFCRyxR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QU0sSUFBTXZJLEtBSXpCcUksY0FBY1AsT0FBUyxXQUd0QixRQURHckssS0FBSzJLLGNBQWdCM0ssS0FBSzJLLGFBQWF0SixTQUNuQytJLEVBQXVCaEssTUFBT0osS0FBTUUsWUFFNUMwSyxjQUFjVCxLQUFPLFdBR3BCLFFBREduSyxLQUFLMkssY0FBZ0IzSyxLQUFLMkssYUFBYXRKLFNBQ25DNkksRUFBcUI5SixNQUFPSixLQUFNRSxjQUl4QzhFLE9BQVFDLE9BQU9wRztDQzlGbkIsU0FBVUYsR0FDVEEsRUFBRSx3QkFBd0I2RixHQUFHLFlBQVksU0FBU2xELEdBQ2pELEdBQ0N5SixJQURXcE0sRUFBRXFCLE1BQ05yQixFQUFFcUIsTUFBTTZELEtBQUssT0FDcEJtSCxHQUFLMUosRUFBRTJKLFFBQ1BDLElBQU9ILEVBQUszRCxPQUNaK0QsS0FBT3hNLEVBQUVxQixNQUFNb0wsUUFBVUYsSUFFMUJILEVBQUt6SyxLQUFNLFNBQVNDLEVBQUVmLEdBQ2pCd0wsR0FBS0csS0FBSzVLLEVBQ2I1QixFQUFFYSxHQUFJNkwsT0FFTjFNLEVBQUVhLEdBQUk4TCxZQUlQdEciLCJmaWxlIjoiYWNmLXF1aWNrZWRpdC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oICQsIGV4cG9ydHMgKXtcblxuXHRleHBvcnRzLmFjZl9xdWlja2VkaXQgPSBxZSA9IHtcblx0XHRmb3JtOnt9LFxuXHRcdGZpZWxkOiB7XG5cdFx0XHRfdHlwZXM6IHt9LC8vIGZpZWxkIHR5cGVzXG5cdFx0XHRhZGRfdHlwZTpmdW5jdGlvbihhKSB7XG5cdFx0XHRcdHFlLmZpZWxkLl90eXBlc1thLnR5cGVdID0gcWUuZmllbGQuVmlldy5leHRlbmQoYSk7XG5cdFx0XHRcdHJldHVybiBxZS5maWVsZC5fdHlwZXNbYS50eXBlXTtcblx0XHRcdH0sXG5cdFx0XHRmYWN0b3J5OmZ1bmN0aW9uKGVsLGNvbnRyb2xsZXIpe1xuXHRcdFx0XHR2YXIgdHlwZSA9ICQoZWwpLmF0dHIoJ2RhdGEtZmllbGQtdHlwZScpLFxuXHRcdFx0XHRcdHR5cGVzID0gcWUuZmllbGQuX3R5cGVzO1xuXG5cdFx0XHRcdGZpZWxkX2NsYXNzID0gdHlwZSBpbiB0eXBlcyA/IHR5cGVzW3R5cGVdIDogcWUuZmllbGQuVmlldztcblx0XHRcdFx0cmV0dXJuIG5ldyBmaWVsZF9jbGFzcyh7XG5cdFx0XHRcdFx0ZWw6XHRcdFx0ZWwsXG5cdFx0XHRcdFx0Y29udHJvbGxlcjpcdGNvbnRyb2xsZXIsXG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdH0sXG5cdH07XG5cblxuXG5cblx0cWUuZm9ybS5WaWV3ID0gQmFja2JvbmUuVmlldy5leHRlbmQoe1xuXHRcdGluaXRpYWxpemU6ZnVuY3Rpb24oKXtcblxuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXG5cdFx0XHR0aGlzLm9wdGlvbnMgPSBhcmd1bWVudHNbMF07XG5cblx0XHRcdEJhY2tib25lLlZpZXcucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuXG5cdFx0XHR0aGlzLmZpZWxkcyA9IHt9O1xuXG5cdFx0XHR0aGlzLiQoJy5pbmxpbmUtZWRpdC1jb2wtcWVkIFtkYXRhLWtleV0nKS5lYWNoKGZ1bmN0aW9uKGksZWwpe1xuXHRcdFx0XHR2YXIgZmllbGQgPSBxZS5maWVsZC5mYWN0b3J5KCBlbCwgdGhpcyApO1xuXHRcdFx0XHRzZWxmLmZpZWxkc1sgZmllbGQua2V5IF0gPSBmaWVsZDtcblx0XHRcdH0pO1xuXHRcdFx0Ly8gbG9hZCB2YWx1ZXNcblx0XHRcdHRoaXMubG9hZFZhbHVlcygpO1xuXG5cdFx0fSxcblx0XHRnZXRGaWVsZHNUb0xvYWQ6ZnVuY3Rpb24oKXtcblx0XHRcdHZhciBmaWVsZHMgPSBbXTtcblx0XHRcdF8uZWFjaCggdGhpcy5maWVsZHMsZnVuY3Rpb24oIGZpZWxkLCBrZXkgKSB7XG5cdFx0XHRcdGlmICggZmllbGQucGFyZW50X2tleSApIHtcblx0XHRcdFx0XHRmaWVsZHMucHVzaCggZmllbGQucGFyZW50X2tleSApO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGZpZWxkcy5wdXNoKCBmaWVsZC5rZXkgKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0XHRyZXR1cm4gZmllbGRzO1xuXHRcdH0sXG5cdFx0bG9hZGVkVmFsdWVzOmZ1bmN0aW9uKHZhbHVlcykge1xuXHRcdFx0dGhpcy5fc2V0VmFsdWVzKCB2YWx1ZXMgKTtcblx0XHRcdHRoaXMuaW5pdFZhbGlkYXRpb24oKTtcblx0XHR9LFxuXHRcdF9zZXRWYWx1ZXM6ZnVuY3Rpb24odmFsdWVzKSB7XG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cdFx0XHRfLmVhY2goIHZhbHVlcywgZnVuY3Rpb24oIHZhbCwga2V5ICl7XG5cdFx0XHRcdGlmICgga2V5IGluIHNlbGYuZmllbGRzICkge1xuXHRcdFx0XHRcdHNlbGYuZmllbGRzW2tleV0uc2V0VmFsdWUoIHZhbCApO1xuXHRcdFx0XHR9IGVsc2UgaWYoIF8uaXNPYmplY3QoIHZhbCApICkge1xuXHRcdFx0XHRcdHNlbGYuX3NldFZhbHVlcyh2YWwpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9LFxuXHRcdHVubG9hZDpmdW5jdGlvbihlKXtcblx0XHRcdF8uZWFjaCh0aGlzLmZpZWxkcyxmdW5jdGlvbihmaWVsZCl7XG5cdFx0XHRcdGZpZWxkLnVubG9hZCgpO1xuXHRcdFx0fSk7XG5cdFx0fSxcblx0XHR2YWxpZGF0aW9uQ29tcGxldGU6ZnVuY3Rpb24oIGpzb24sICRmb3JtICkge1xuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXG5cdFx0XHRpZiAoICEganNvbi52YWxpZCApIHtcblx0XHRcdFx0Xy5lYWNoKGpzb24uZXJyb3JzLGZ1bmN0aW9uKGVycil7XG5cdFx0XHRcdFx0Ly8gZXJyLmlucHV0IGlzIGluIGZvcm1hdCBgYWNmWzxGSUVMRF9LRVk+XWBcblx0XHRcdFx0XHR2YXIga2V5ID0gZXJyLmlucHV0LnJlcGxhY2UoL15hY2ZcXFsoWzAtOWEtel9dKylcXF0kL2csJyQxJyk7XG5cdFx0XHRcdFx0aWYgKCBrZXkgaW4gc2VsZi5maWVsZHMgKSB7XG5cdFx0XHRcdFx0XHRzZWxmLmZpZWxkc1trZXldLnNldEVycm9yKCBlcnIubWVzc2FnZSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4ganNvbjtcblx0XHR9LFxuXHRcdGluaXRWYWxpZGF0aW9uOmZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyICRmb3JtID0gdGhpcy4kZWwuY2xvc2VzdCgnZm9ybScpLFxuXHRcdFx0XHQkYnV0dG9uID0gdGhpcy5nZXRTYXZlQnV0dG9uKCk7XG5cblx0XHRcdGFjZi51cGRhdGUoJ3Bvc3RfaWQnLCB0aGlzLm9wdGlvbnMub2JqZWN0X2lkICk7XG5cblx0XHRcdGFjZi5hZGRfZmlsdGVyKCAndmFsaWRhdGlvbl9jb21wbGV0ZScsIHRoaXMudmFsaWRhdGlvbkNvbXBsZXRlLCAxMCwgdGhpcyApO1xuLy9cdFx0XHRhY2YuYWRkX2FjdGlvbigndmFsaWRhdGlvbl9mYWlsdXJlJywgdGhpcy52YWxpZGF0aW9uRmFpbHVyZSApO1xuXG5cdFx0XHQkYnV0dG9uLmNsaWNrKCBmdW5jdGlvbihlKSB7XG5cdFx0XHRcdC8vIGJhaWwgZWFybHkgaWYgbm90IGFjdGl2ZVxuXHRcdFx0XHRpZiggIWFjZi52YWxpZGF0aW9uLmFjdGl2ZSApIHtcblxuXHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBpZ25vcmUgdmFsaWRhdGlvbiAob25seSBpZ25vcmUgb25jZSlcblx0XHRcdFx0aWYoIGFjZi52YWxpZGF0aW9uLmlnbm9yZSApIHtcblx0XHRcdFx0XHRhY2YudmFsaWRhdGlvbi5pZ25vcmUgPSAwO1xuXHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gc3RvcCBXUCBKUyB2YWxpZGF0aW9uXG5cdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0ZS5zdG9wUHJvcGFnYXRpb24oKTtcblx0XHRcdFx0ZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcblxuXG5cdFx0XHRcdC8vIHN0b3JlIHN1Ym1pdCB0cmlnZ2VyIHNvIGl0IHdpbGwgYmUgY2xpY2tlZCBpZiB2YWxpZGF0aW9uIGlzIHBhc3NlZFxuXHRcdFx0XHRhY2YudmFsaWRhdGlvbi4kdHJpZ2dlciA9ICQodGhpcyk7XG5cblx0XHRcdFx0Ly8gcnVuIHZhbGlkYXRpb25cblx0XHRcdFx0YWNmLnZhbGlkYXRpb24uZmV0Y2goICRmb3JtICk7XG5cblx0XHRcdFx0Ly8gc3RvcCBhbGwgb3RoZXIgY2xpY2sgZXZlbnRzIG9uIHRoaXMgaW5wdXRcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fSk7XG5cdFx0XHQvLyBtb3ZlIG91ciBldmVudHMgaGFuZGxlciB0byBmcm9udFxuXHRcdFx0JC5fZGF0YSgkYnV0dG9uWzBdLCdldmVudHMnKS5jbGljay5yZXZlcnNlKClcblx0XHR9XG5cdH0pO1xuXHRxZS5mb3JtLlF1aWNrRWRpdCA9IHFlLmZvcm0uVmlldy5leHRlbmQoe1xuXHRcdGxvYWRWYWx1ZXM6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcdFx0JC5wb3N0KHtcblx0XHRcdFx0dXJsOmFqYXh1cmwsXG5cdFx0XHRcdGRhdGE6e1xuXHRcdFx0XHRcdCdhY3Rpb24nIDogJ2dldF9hY2ZfcG9zdF9tZXRhJyxcblx0XHRcdFx0XHQnb2JqZWN0X2lkJyA6IHRoaXMub3B0aW9ucy5vYmplY3RfaWQsXG5cdFx0XHRcdFx0J2FjZl9maWVsZF9rZXlzJyA6IHRoaXMuZ2V0RmllbGRzVG9Mb2FkKCksXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHN1Y2Nlc3M6ZnVuY3Rpb24ocmVzcG9uc2Upe1xuXHRcdFx0XHRcdHNlbGYubG9hZGVkVmFsdWVzKCByZXNwb25zZSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblxuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fSxcblx0XHRnZXRTYXZlQnV0dG9uOmZ1bmN0aW9uKCl7XG5cdFx0XHRyZXR1cm4gdGhpcy4kZWwuY2xvc2VzdCgnZm9ybScpLmZpbmQoJ2J1dHRvbi5zYXZlJylcblx0XHR9XG5cdH0pO1xuXG5cdHFlLmZvcm0uQnVsa0VkaXQgPSBxZS5mb3JtLlZpZXcuZXh0ZW5kKHtcblx0XHQvLyB0b2RvOiBkbyBub3QgY2hhbmdlXG5cdFx0aW5pdGlhbGl6ZTpmdW5jdGlvbigpe1xuXG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cblx0XHRcdHFlLmZvcm0uVmlldy5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cblx0XHRcdGFjZi5hZGRfZmlsdGVyKCAncHJlcGFyZV9mb3JfYWpheCcsIHRoaXMucHJlcGFyZUZvckFqYXgsIG51bGwsIHRoaXMgKTtcblxuXHRcdH0sXG5cdFx0cHJlcGFyZUZvckFqYXg6ZnVuY3Rpb24oZGF0YSl7XG5cdFx0XHR2YXIgcmV0ID0ge307XG5cdFx0XHQkLmVhY2goZGF0YSxmdW5jdGlvbihpLHZhbCl7XG5cdFx0XHRcdGlmICh2YWwgIT09ICdfX19kb19ub3RfY2hhbmdlJykge1xuXHRcdFx0XHRcdHJldFtpXSA9IHZhbDtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0XHRyZXR1cm4gcmV0O1xuXHRcdH0sXG5cdFx0bG9hZFZhbHVlczogZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgcG9zdF9pZHMgPSBbXTtcblx0XHRcdCQoJ1t0eXBlPVwiY2hlY2tib3hcIl1bbmFtZT1cInBvc3RbXVwiXTpjaGVja2VkJykuZWFjaChmdW5jdGlvbigpe1xuXHRcdFx0XHRwb3N0X2lkcy5wdXNoKCQodGhpcykudmFsKCkpXG5cdFx0XHR9KTtcblxuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcdFx0JC5wb3N0KHtcblx0XHRcdFx0dXJsOmFqYXh1cmwsXG5cdFx0XHRcdGRhdGE6e1xuXHRcdFx0XHRcdCdhY3Rpb24nIDogJ2dldF9hY2ZfcG9zdF9tZXRhJyxcblx0XHRcdFx0XHQnb2JqZWN0X2lkJyA6IHBvc3RfaWRzLFxuXHRcdFx0XHRcdCdhY2ZfZmllbGRfa2V5cycgOiB0aGlzLmdldEZpZWxkc1RvTG9hZCgpLFxuXHRcdFx0XHR9LFxuXHRcdFx0XHRzdWNjZXNzOmZ1bmN0aW9uKHJlc3BvbnNlKXtcblx0XHRcdFx0XHRzZWxmLmxvYWRlZFZhbHVlcyggcmVzcG9uc2UgKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH0sXG5cdFx0Z2V0U2F2ZUJ1dHRvbjpmdW5jdGlvbigpe1xuXHRcdFx0cmV0dXJuIHRoaXMuJCgnW3R5cGU9XCJzdWJtaXRcIl0jYnVsa19lZGl0Jyk7XG5cdFx0fVxuXHR9KTtcblxuXG5cblx0cWUuZmllbGQuVmlldyA9IHdwLm1lZGlhLlZpZXcuZXh0ZW5kKHtcblx0XHRldmVudHM6e1xuXHRcdFx0J2NoYW5nZSBbdHlwZT1cImNoZWNrYm94XCJdW2RhdGEtaXMtZG8tbm90LWNoYW5nZT1cInRydWVcIl0nIDogJ2RudENoYW5nZWQnLFxuXHRcdH0sXG5cdFx0aW5pdGlhbGl6ZTpmdW5jdGlvbigpe1xuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcdFx0QmFja2JvbmUuVmlldy5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cdFx0XHR0aGlzLmtleSA9IHRoaXMuJGVsLmF0dHIoJ2RhdGEta2V5Jyk7XG5cdFx0XHR0aGlzLnBhcmVudF9rZXkgPSB0aGlzLiRlbC5hdHRyKCdkYXRhLXBhcmVudC1rZXknKTtcblxuXHRcdFx0aWYoICdmYWxzZScgPT09IHRoaXMucGFyZW50X2tleSApIHtcblx0XHRcdFx0dGhpcy5wYXJlbnRfa2V5ID0gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdGlmICggISB0aGlzLiRpbnB1dCApIHtcblx0XHRcdFx0dGhpcy4kaW5wdXQgPSB0aGlzLiQoJ2lucHV0Om5vdChbZGF0YS1pcy1kby1ub3QtY2hhbmdlPVwidHJ1ZVwiXSknKVxuXHRcdFx0fVxuXHRcdFx0dGhpcy5zZXRFZGl0YWJsZSggZmFsc2UgKTtcblx0XHRcdHRoaXMuJCgnKicpLm9uKCdjaGFuZ2UnLGZ1bmN0aW9uKCl7c2VsZi5yZXNldEVycm9yKCl9KVxuXHRcdH0sXG5cdFx0c2V0VmFsdWU6ZnVuY3Rpb24odmFsdWUpe1xuXHRcdFx0dGhpcy5kbnRDaGFuZ2VkKCApO1xuXHRcdFx0dGhpcy4kaW5wdXQudmFsKHZhbHVlKTtcblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH0sXG5cdFx0ZG50Q2hhbmdlZDpmdW5jdGlvbigpe1xuXHRcdFx0dGhpcy5zZXRFZGl0YWJsZSggISB0aGlzLiQoJ1t0eXBlPVwiY2hlY2tib3hcIl1bZGF0YS1pcy1kby1ub3QtY2hhbmdlPVwidHJ1ZVwiXScpLmlzKCc6Y2hlY2tlZCcpICk7XG5cdFx0fSxcblx0XHRzZXRFZGl0YWJsZTpmdW5jdGlvbihlZGl0YWJsZSl7XG5cdFx0XHR0aGlzLiRpbnB1dC5wcm9wKCAncmVhZG9ubHknLCAhIGVkaXRhYmxlICkucHJvcCggJ2Rpc2FibGVkJywgISBlZGl0YWJsZSApO1xuXHRcdH0sXG5cdFx0c2V0RXJyb3I6ZnVuY3Rpb24obWVzc2FnZSkge1xuXHRcdFx0dGhpcy4kZWwuYXR0cignZGF0YS1lcnJvci1tZXNzYWdlJyxtZXNzYWdlKTtcblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH0sXG5cdFx0cmVzZXRFcnJvcjpmdW5jdGlvbigpIHtcblx0XHRcdHRoaXMuJGVsLnJlbW92ZUF0dHIoICdkYXRhLWVycm9yLW1lc3NhZ2UnICk7XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9LFxuXHRcdHVubG9hZDpmdW5jdGlvbigpe31cblx0fSk7XG5cblxufSkoalF1ZXJ5LHdpbmRvdyk7XG4iLCIoZnVuY3Rpb24oICQsIHFlICl7XG5cdHZhciBmaWxlX3R5cGUgPSB7XG5cdFx0dHlwZTonZmlsZScsXG5cdFx0bWVkaWFGcmFtZVR5cGU6JycsXG5cdFx0ZXZlbnRzOntcblx0XHRcdCdjbGljayAuc2VsZWN0LW1lZGlhJyA6ICdzZWxlY3RGaWxlJyxcblx0XHRcdCdjbGljayAucmVtb3ZlLW1lZGlhJyA6ICdyZW1vdmVGaWxlJyxcblx0XHRcdCdjaGFuZ2UgW3R5cGU9XCJjaGVja2JveFwiXVt2YWx1ZT1cIl9fX2RvX25vdF9jaGFuZ2VcIl0nIDogJ2RudENoYW5nZWQnLFxuXHRcdH0sXG5cdFx0aW5pdGlhbGl6ZTpmdW5jdGlvbigpIHtcblx0XHRcdHRoaXMuJGlucHV0ID0gdGhpcy4kKCdidXR0b24nKTtcblx0XHRcdHRoaXMuJGhpZGRlbiA9IHRoaXMuJCgnW3R5cGU9XCJoaWRkZW5cIl0nKTtcblx0XHRcdHFlLmZpZWxkLlZpZXcucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxhcmd1bWVudHMpO1xuXG5cdFx0XHR2YXIgc2VsZiA9IHRoaXMsXG5cdFx0XHRcdHBvc3RfaWQgPSBhY2YuZ2V0KCdwb3N0X2lkJyk7XG5cblx0XHRcdHRoaXMubWVkaWFGcmFtZU9wdHMgPSB7XG5cdFx0XHRcdGZpZWxkXHRcdDogdGhpcy5rZXksXG5cdFx0XHRcdG11bHRpcGxlXHQ6IGZhbHNlLFxuXHRcdFx0XHRwb3N0X2lkXHRcdDogcG9zdF9pZCxcblx0XHRcdFx0bGlicmFyeVx0XHQ6IHRoaXMuJGhpZGRlbi5hdHRyKCdkYXRhLWxpYnJhcnknKSxcblx0XHRcdFx0bW9kZVx0XHQ6J3NlbGVjdCcsXG5cdFx0XHRcdHR5cGVcdFx0OiB0aGlzLm1lZGlhRnJhbWVUeXBlLFxuXHRcdFx0XHRzZWxlY3RcdFx0OiBmdW5jdGlvbiAoIGF0dGFjaG1lbnQsIGkgKSB7XG5cdFx0XHRcdFx0aWYgKCAhIGF0dGFjaG1lbnQgKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHNlbGYuc2V0VmFsdWUoIGF0dGFjaG1lbnQuZ2V0KCdpZCcpICk7XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cdFx0XHRpZiAoIHRoaXMuJGhpZGRlbi5kYXRhKCdtaW1lX3R5cGVzJykgKSB7XG5cdFx0XHRcdHRoaXMubWVkaWFGcmFtZU9wdHMubWltZV90eXBlcyA9IHRoaXMuJGhpZGRlbi5kYXRhKCdtaW1lX3R5cGVzJyk7XG5cdFx0XHR9XG5cblx0XHR9LFxuXHRcdHNlbGVjdEZpbGU6ZnVuY3Rpb24oZSl7XG5cdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHQvLyBDcmVhdGUgYSBuZXcgbWVkaWEgZnJhbWVcblx0XHRcdHZhciBtZWRpYV9mcmFtZSA9IGFjZi5tZWRpYS5wb3B1cCggdGhpcy5tZWRpYUZyYW1lT3B0cyApLFxuXHRcdFx0XHRtZWRpYV9pZCA9IHRoaXMuJGhpZGRlbi52YWwoKTtcblxuXHRcdFx0aWYgKCAhISBtZWRpYV9pZCApIHtcblx0XHRcdFx0bWVkaWFfZnJhbWUub24oJ29wZW4nLGZ1bmN0aW9uKCl7XG5cdFx0XHRcdFx0dmFyIHNlbGVjdGlvbiwgYXR0YWNobWVudDtcblx0XHRcdFx0XHRzZWxlY3Rpb24gPSBtZWRpYV9mcmFtZS5zdGF0ZSgpLmdldCgnc2VsZWN0aW9uJyk7XG5cdFx0XHRcdFx0YXR0YWNobWVudCA9IHdwLm1lZGlhLmF0dGFjaG1lbnQoIG1lZGlhX2lkICk7XG5cdFx0XHRcdFx0YXR0YWNobWVudC5mZXRjaCgpO1xuXHRcdFx0XHRcdHNlbGVjdGlvbi5hZGQoIGF0dGFjaG1lbnQgPyBbIGF0dGFjaG1lbnQgXSA6IFtdICk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBzZXQgcG9zdCBpZCwgc28gbmV3IHVwbG9hZHMgYXJlIGF0dGFjaGVkIHRvIGVkaXRlZCBwb3N0XG5cdFx0XHRpZiAoIGFjZi5pc3NldCh3aW5kb3csJ3dwJywnbWVkaWEnLCd2aWV3Jywnc2V0dGluZ3MnLCdwb3N0JykgJiYgJC5pc051bWVyaWMoIHRoaXMubWVkaWFGcmFtZU9wdHMucG9zdF9pZCApICkge1xuXG5cdFx0XHRcdHdwLm1lZGlhLnZpZXcuc2V0dGluZ3MucG9zdC5pZCA9IHRoaXMubWVkaWFGcmFtZU9wdHMucG9zdF9pZDtcblxuXHRcdFx0fVxuXG5cdFx0fSxcblx0XHRyZW1vdmVGaWxlOmZ1bmN0aW9uKGUpe1xuXHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0dGhpcy5zZXRWYWx1ZSgnJyk7XG5cdFx0fSxcblx0XHRzZXRWYWx1ZTpmdW5jdGlvbih2YWx1ZSkge1xuXHRcdFx0dGhpcy5kbnRDaGFuZ2VkKCk7XG5cdFx0XHR0aGlzLiRoaWRkZW4udmFsKCB2YWx1ZSApO1xuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fVxuXHR9O1xuXG5cdC8qKlxuXHQgKlx0ZmllbGQgdHlwZSBmaWxlXG5cdCAqL1xuXHRxZS5maWVsZC5hZGRfdHlwZSggZmlsZV90eXBlICk7XG5cblx0LyoqXG5cdCAqXHRmaWVsZCB0eXBlIGltYWdlXG5cdCAqL1xuXHRxZS5maWVsZC5hZGRfdHlwZSggXy5leHRlbmQoZmlsZV90eXBlLHt0eXBlOidpbWFnZScsbWVkaWFGcmFtZVR5cGU6J2ltYWdlJ30pICk7XG5cblx0cWUuZmllbGQuYWRkX3R5cGUoIGZpbGVfdHlwZSApO1xuXG5cdC8qKlxuXHQgKlx0ZmllbGQgdHlwZSByYW5nZVxuXHQgKi9cblx0cWUuZmllbGQuYWRkX3R5cGUoIHtcblx0XHQgdHlwZToncmFuZ2UnLFxuXHRcdCBldmVudHM6e1xuXHRcdFx0ICdjaGFuZ2UgW3R5cGU9XCJyYW5nZVwiXSdcdFx0OiAnYWRhcHROdW1iZXInLFxuXHRcdFx0ICdtb3VzZW1vdmUgW3R5cGU9XCJyYW5nZVwiXSdcdFx0OiAnYWRhcHROdW1iZXInLFxuXHRcdFx0ICdjaGFuZ2UgW3R5cGU9XCJudW1iZXJcIl0nXHRcdDogJ2FkYXB0UmFuZ2UnLFxuXHRcdFx0ICdtb3VzZW1vdmUgW3R5cGU9XCJudW1iZXJcIl0nXHQ6ICdhZGFwdFJhbmdlJyxcblx0XHRcdCAnY2hhbmdlIFt0eXBlPVwiY2hlY2tib3hcIl1bdmFsdWU9XCJfX19kb19ub3RfY2hhbmdlXCJdJyA6ICdkbnRDaGFuZ2VkJyxcblx0XHQgfSxcblx0XHQgYWRhcHROdW1iZXI6ZnVuY3Rpb24oKXtcblx0XHRcdCB0aGlzLiQoJ1t0eXBlPVwibnVtYmVyXCJdJykudmFsKCB0aGlzLiQoJ1t0eXBlPVwicmFuZ2VcIl0nKS52YWwoKSApO1xuXHRcdCB9LFxuXHRcdCBhZGFwdFJhbmdlOmZ1bmN0aW9uKCl7XG5cdFx0XHQgdGhpcy4kKCdbdHlwZT1cInJhbmdlXCJdJykudmFsKCB0aGlzLiQoJ1t0eXBlPVwibnVtYmVyXCJdJykudmFsKCkgKTtcblx0XHQgfVxuXHQgfSApO1xuXG5cblx0LyoqXG4gIFx0ICpcdGZpZWxkIHR5cGUgZGF0ZV9waWNrZXJcbiAgXHQgKi9cbiAgXHRxZS5maWVsZC5hZGRfdHlwZSgge1xuIFx0XHR0eXBlOidkYXRlX3BpY2tlcicsXG5cdFx0aW5pdGlhbGl6ZTpmdW5jdGlvbigpIHtcblx0XHRcdHZhciBzZWxmID0gdGhpcztcblx0XHRcdHRoaXMuJGlucHV0XHRcdD0gdGhpcy4kKCAnW3R5cGU9XCJ0ZXh0XCJdJyApO1xuXHRcdFx0dGhpcy4kaGlkZGVuXHQ9IHRoaXMuJCggJ1t0eXBlPVwiaGlkZGVuXCJdJyApO1xuXHRcdFx0cWUuZmllbGQuVmlldy5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7XG5cdFx0XHRpZiggJCgnYm9keSA+ICN1aS1kYXRlcGlja2VyLWRpdicpLmxlbmd0aCA+IDAgKSB7XG5cdFx0XHRcdCQoJ2JvZHkgPiAjdWktZGF0ZXBpY2tlci1kaXYnKS53cmFwKCc8ZGl2IGNsYXNzPVwiYWNmLXVpLWRhdGVwaWNrZXJcIiAvPicpO1xuXHRcdFx0fVxuXHRcdFx0dGhpcy5kYXRlUGlja2VyQXJncyA9IHtcblx0XHRcdFx0XHRkYXRlRm9ybWF0XHRcdDogdGhpcy4kKCdbZGF0YS1kYXRlX2Zvcm1hdF0nKS5kYXRhKCdkYXRlX2Zvcm1hdCcpLFxuXHRcdFx0XHRcdGFsdEZvcm1hdFx0XHQ6ICd5eW1tZGQnLFxuXHRcdFx0XHRcdGFsdEZpZWxkXHRcdDogdGhpcy4kaGlkZGVuLFxuXHRcdFx0XHRcdGNoYW5nZVllYXJcdFx0OiB0cnVlLFxuXHRcdFx0XHRcdHllYXJSYW5nZVx0XHQ6IFwiLTEwMDorMTAwXCIsXG5cdFx0XHRcdFx0Y2hhbmdlTW9udGhcdFx0OiB0cnVlLFxuXHRcdFx0XHRcdHNob3dCdXR0b25QYW5lbFx0OiB0cnVlLFxuXHRcdFx0XHRcdGZpcnN0RGF5XHRcdDogdGhpcy4kKCdbZGF0YS1maXJzdF9kYXldJykuZGF0YSgnZmlyc3RfZGF5Jylcblx0XHRcdFx0fTtcblx0XHRcdHRoaXMuJGlucHV0LmRhdGVwaWNrZXIoIHRoaXMuZGF0ZVBpY2tlckFyZ3MgKS5vbignYmx1cicsZnVuY3Rpb24oKXtcblx0XHRcdFx0aWYgKCAhICQodGhpcykudmFsKCkgKSB7XG5cdFx0XHRcdFx0c2VsZi4kaGlkZGVuLnZhbCgnJyk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fSxcblx0XHRzZXRWYWx1ZTpmdW5jdGlvbih2YWx1ZSkge1xuXHRcdFx0dmFyIGRhdGU7XG5cblx0XHRcdHRoaXMuZG50Q2hhbmdlZCgpO1xuXG5cdFx0XHR0cnkge1xuXHRcdFx0XHRkYXRlID0gJC5kYXRlcGlja2VyLnBhcnNlRGF0ZSggdGhpcy5kYXRlUGlja2VyQXJncy5hbHRGb3JtYXQsIHZhbHVlICk7XG5cdFx0XHR9IGNhdGNoKGVycikge1xuXHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdH1cblx0XHRcdHRoaXMuJGlucHV0LmRhdGVwaWNrZXIoICdzZXREYXRlJywgZGF0ZSApO1xuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fVxuIFx0fSk7XG5cblx0LyoqXG4gXHQgKlx0ZmllbGQgdHlwZSBkYXRlX3RpbWVfcGlja2VyXG4gXHQgKi9cbiBcdHFlLmZpZWxkLmFkZF90eXBlKCB7XG5cdFx0dHlwZTonZGF0ZV90aW1lX3BpY2tlcicsXG5cdFx0aW5pdGlhbGl6ZTpmdW5jdGlvbigpIHtcblx0XHRcdHZhciBzZWxmID0gdGhpcztcblx0XHRcdHRoaXMuJGlucHV0XHRcdD0gdGhpcy4kKCAnW3R5cGU9XCJ0ZXh0XCJdJyApO1xuXHRcdFx0dGhpcy4kaGlkZGVuXHQ9IHRoaXMuJCggJ1t0eXBlPVwiaGlkZGVuXCJdJyApO1xuXHRcdFx0cWUuZmllbGQuVmlldy5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7XG5cdFx0XHRpZiggJCgnYm9keSA+ICN1aS1kYXRlcGlja2VyLWRpdicpLmxlbmd0aCA+IDAgKSB7XG5cdFx0XHRcdCQoJ2JvZHkgPiAjdWktZGF0ZXBpY2tlci1kaXYnKS53cmFwKCc8ZGl2IGNsYXNzPVwiYWNmLXVpLWRhdGVwaWNrZXJcIiAvPicpO1xuXHRcdFx0fVxuXHRcdFx0dGhpcy5kYXRlUGlja2VyQXJncyA9IHtcblx0XHRcdFx0XHRhbHRGaWVsZFx0XHRcdDogdGhpcy4kaGlkZGVuLFxuXHRcdFx0XHRcdGRhdGVGb3JtYXRcdFx0XHQ6IHRoaXMuJCgnW2RhdGEtZGF0ZV9mb3JtYXRdJykuZGF0YSgnZGF0ZV9mb3JtYXQnKSxcblx0XHRcdFx0XHRhbHRGb3JtYXRcdFx0XHQ6ICd5eS1tbS1kZCcsXG5cdFx0XHRcdFx0dGltZUZvcm1hdFx0XHRcdDogdGhpcy4kKCdbZGF0YS10aW1lX2Zvcm1hdF0nKS5kYXRhKCd0aW1lX2Zvcm1hdCcpLFxuXHRcdFx0XHRcdGFsdFRpbWVGb3JtYXRcdFx0OiAnSEg6bW06c3MnLFxuXHRcdFx0XHRcdGFsdEZpZWxkVGltZU9ubHlcdDogZmFsc2UsXG5cdFx0XHRcdFx0Y2hhbmdlWWVhclx0XHRcdDogdHJ1ZSxcblx0XHRcdFx0XHR5ZWFyUmFuZ2VcdFx0XHQ6IFwiLTEwMDorMTAwXCIsXG5cdFx0XHRcdFx0Y2hhbmdlTW9udGhcdFx0XHQ6IHRydWUsXG5cdFx0XHRcdFx0c2hvd0J1dHRvblBhbmVsXHRcdDogdHJ1ZSxcblx0XHRcdFx0XHRmaXJzdERheVx0XHRcdDogdGhpcy4kKCdbZGF0YS1maXJzdF9kYXldJykuZGF0YSgnZmlyc3RfZGF5JyksXG5cdFx0XHRcdFx0Y29udHJvbFR5cGVcdFx0XHQ6ICdzZWxlY3QnLFxuXHRcdFx0XHRcdG9uZUxpbmVcdFx0XHRcdDogdHJ1ZVxuXHRcdFx0XHR9O1xuXG5cdFx0XHR0aGlzLiRpbnB1dC5kYXRldGltZXBpY2tlciggdGhpcy5kYXRlUGlja2VyQXJncyApLm9uKCdibHVyJyxmdW5jdGlvbigpe1xuXHRcdFx0XHRpZiAoICEgJCh0aGlzKS52YWwoKSApIHtcblx0XHRcdFx0XHRzZWxmLiRoaWRkZW4udmFsKCcnKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9LFxuXHRcdHNldFZhbHVlOmZ1bmN0aW9uKHZhbHVlKSB7XG5cdFx0XHR2YXIgZGF0ZTtcblxuXHRcdFx0dGhpcy5kbnRDaGFuZ2VkKCk7XG5cblx0XHRcdHRyeSB7XG5cdFx0XHRcdGRhdGUgPSAkLmRhdGVwaWNrZXIucGFyc2VEYXRlVGltZShcblx0XHRcdFx0XHR0aGlzLmRhdGVQaWNrZXJBcmdzLmFsdEZvcm1hdCxcblx0XHRcdFx0XHR0aGlzLmRhdGVQaWNrZXJBcmdzLmFsdFRpbWVGb3JtYXQsXG5cdFx0XHRcdFx0dmFsdWVcblx0XHRcdFx0KTtcblx0XHRcdH0gY2F0Y2goZXJyKSB7XG5cdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoICEgZGF0ZSApIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdFx0Ly8qXG5cdFx0XHR0aGlzLiRoaWRkZW4udmFsKGRhdGUpO1xuXHRcdFx0dGhpcy4kaW5wdXQudmFsKCAkLmRhdGVwaWNrZXIuZm9ybWF0RGF0ZSh0aGlzLmRhdGVQaWNrZXJBcmdzLmRhdGVGb3JtYXQsIGRhdGUpICsgJyAnICsgJC5kYXRlcGlja2VyLmZvcm1hdFRpbWUoXG5cdFx0XHRcdHRoaXMuZGF0ZVBpY2tlckFyZ3MudGltZUZvcm1hdCxcblx0XHRcdFx0ZGF0ZVxuXHRcdFx0KSk7XG5cdFx0XHQvKi9cblx0XHRcdC8vIHdpbGwgc2V0IGZvcm0gZGlydHkgaWYgZG9uZSBsaWtlIHRoaXNcblx0XHRcdHRoaXMuJGlucHV0LmRhdGVwaWNrZXIoICdzZXREYXRlJywgZGF0ZSApO1xuXHRcdFx0Ly8qL1xuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fVxuXHR9KTtcblxuXHQvKipcbiBcdCAqXHRmaWVsZCB0eXBlIHRpbWVfcGlja2VyXG4gXHQgKi9cbiBcdHFlLmZpZWxkLmFkZF90eXBlKCB7XG5cdFx0dHlwZTondGltZV9waWNrZXInLFxuXHRcdGluaXRpYWxpemU6ZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cdFx0XHR0aGlzLiRpbnB1dFx0XHQ9IHRoaXMuJCggJ1t0eXBlPVwidGV4dFwiXScgKTtcblx0XHRcdHRoaXMuJGhpZGRlblx0PSB0aGlzLiQoICdbdHlwZT1cImhpZGRlblwiXScgKTtcblx0XHRcdHFlLmZpZWxkLlZpZXcucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxhcmd1bWVudHMpO1xuXHRcdFx0aWYoICQoJ2JvZHkgPiAjdWktZGF0ZXBpY2tlci1kaXYnKS5sZW5ndGggPiAwICkge1xuXHRcdFx0XHQkKCdib2R5ID4gI3VpLWRhdGVwaWNrZXItZGl2Jykud3JhcCgnPGRpdiBjbGFzcz1cImFjZi11aS1kYXRlcGlja2VyXCIgLz4nKTtcblx0XHRcdH1cblx0XHRcdHRoaXMuZGF0ZVBpY2tlckFyZ3MgPSB7XG4gXHRcdFx0XHRcdHRpbWVGb3JtYXRcdFx0XHQ6IHRoaXMuJCgnW2RhdGEtdGltZV9mb3JtYXRdJykuZGF0YSgndGltZV9mb3JtYXQnKSxcbiBcdFx0XHRcdFx0YWx0VGltZUZvcm1hdFx0XHQ6ICdISDptbTpzcycsXG4gXHRcdFx0XHRcdGFsdEZpZWxkXHRcdFx0OiB0aGlzLiRoaWRkZW4sXG4gXHRcdFx0XHRcdGFsdEZpZWxkVGltZU9ubHlcdDogZmFsc2UsXG4gXHRcdFx0XHRcdHNob3dCdXR0b25QYW5lbFx0XHQ6IHRydWUsXG4gXHRcdFx0XHRcdGNvbnRyb2xUeXBlXHRcdFx0OiAnc2VsZWN0JyxcbiBcdFx0XHRcdFx0b25lTGluZVx0XHRcdFx0OiB0cnVlXG4gXHRcdFx0XHR9O1xuXG4gXHRcdFx0dGhpcy4kaW5wdXQudGltZXBpY2tlciggdGhpcy5kYXRlUGlja2VyQXJncyApLm9uKCdibHVyJyxmdW5jdGlvbigpe1xuIFx0XHRcdFx0aWYgKCAhICQodGhpcykudmFsKCkgKSB7XG4gXHRcdFx0XHRcdHNlbGYuJGhpZGRlbi52YWwoJycpO1xuIFx0XHRcdFx0fVxuIFx0XHRcdH0pO1xuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fSxcbiBcdFx0c2V0VmFsdWU6ZnVuY3Rpb24odmFsdWUpIHtcblx0XHRcdHZhciB0aW1lO1xuXG5cdFx0XHR0aGlzLmRudENoYW5nZWQoKTtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdHRpbWUgPSAkLmRhdGVwaWNrZXIucGFyc2VUaW1lKCB0aGlzLmRhdGVQaWNrZXJBcmdzLmFsdFRpbWVGb3JtYXQsIHZhbHVlICk7XG5cdFx0XHR9IGNhdGNoKGVycil7XG5cdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCAhIHRpbWUgKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XHRcdHRoaXMuJGhpZGRlbi52YWwoIHZhbHVlICk7XG5cdFx0XHR0aGlzLiRpbnB1dC52YWwoICQuZGF0ZXBpY2tlci5mb3JtYXRUaW1lKCB0aGlzLmRhdGVQaWNrZXJBcmdzLnRpbWVGb3JtYXQsIHRpbWUgKSApXG5cdFx0XHRyZXR1cm4gdGhpcztcbiBcdFx0fVxuXHR9KTtcblxuXHQvKipcbiBcdCAqXHRmaWVsZCB0eXBlIHRpbWVfcGlja2VyXG4gXHQgKi9cbiBcdHFlLmZpZWxkLmFkZF90eXBlKCB7XG5cdFx0dHlwZTonY29sb3JfcGlja2VyJyxcblx0XHRpbml0aWFsaXplOmZ1bmN0aW9uKCkge1xuXHRcdFx0dGhpcy4kaW5wdXQgPSB0aGlzLiQoJ1t0eXBlPVwidGV4dFwiXScpLmZpcnN0KCkud3BDb2xvclBpY2tlcigpO1xuXHRcdFx0cWUuZmllbGQuVmlldy5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7XG5cdFx0fSxcblx0XHRzZXRWYWx1ZTpmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0XHR0aGlzLmRudENoYW5nZWQoKTtcblx0XHRcdHRoaXMuJGlucHV0LndwQ29sb3JQaWNrZXIoICdjb2xvcicsIHZhbHVlICk7XG5cdFx0fSxcblx0XHR1bmxvYWQ6ZnVuY3Rpb24oKSB7XG5cdFx0XHQkKCAnYm9keScgKS5vZmYoICdjbGljay53cGNvbG9ycGlja2VyJyApO1xuXHRcdH1cblx0fSk7XG5cblxuXG5cdC8qKlxuIFx0ICpcdGZpZWxkIHR5cGUgdGltZV9waWNrZXJcbiBcdCAqL1xuIFx0cWUuZmllbGQuYWRkX3R5cGUoIHtcblx0XHR0eXBlOid0ZXh0YXJlYScsXG5cdFx0aW5pdGlhbGl6ZTpmdW5jdGlvbigpIHtcblx0XHRcdHRoaXMuJGlucHV0ID0gdGhpcy4kKCd0ZXh0YXJlYScpLnByb3AoICdyZWFkb25seScsIHRydWUgKTtcblxuXHRcdFx0cWUuZmllbGQuVmlldy5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7XG5cblxuXHRcdFx0dGhpcy4kaW5wdXQub24oJ2tleWRvd24ga2V5dXAnLCBmdW5jdGlvbihlKSB7XG5cdFx0XHRcdGlmICggZS53aGljaCA9PSAxMyB8fCBlLndoaWNoID09IDI3ICkge1xuXHRcdFx0XHRcdGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4vL1x0XHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH1cblx0fSk7XG5cblx0LyoqXG4gXHQgKlx0ZmllbGQgdHlwZSBjaG9pY2VcbiBcdCAqL1xuXHQvLyBUb2RvXG5cblx0LyoqXG4gXHQgKlx0ZmllbGQgdHlwZSBjaGVja2JveFxuIFx0ICovXG5cdC8vIFRvZG9cblx0cWUuZmllbGQuYWRkX3R5cGUoIHtcblx0XHR0eXBlOidjaGVja2JveCcsXG5cdFx0ZXZlbnRzOntcblx0XHRcdCdjbGljayAuYWRkLWNob2ljZSc6ICdhZGRDaG9pY2UnLFxuXHRcdFx0J2NoYW5nZSBbdHlwZT1cImNoZWNrYm94XCJdLmN1c3RvbScgOiAncmVtb3ZlQ2hvaWNlJyxcblx0XHRcdCdjaGFuZ2UgW3R5cGU9XCJjaGVja2JveFwiXVt2YWx1ZT1cIl9fX2RvX25vdF9jaGFuZ2VcIl0nIDogJ2RudENoYW5nZWQnLFxuXHRcdH0sXG5cdFx0aW5pdGlhbGl6ZTpmdW5jdGlvbigpIHtcblx0XHRcdHRoaXMuJGlucHV0ID0gdGhpcy4kKCdbdHlwZT1cImNoZWNrYm94XCJdOm5vdChbdmFsdWU9XCJfX19kb19ub3RfY2hhbmdlXCJdKScpO1xuXHRcdFx0dGhpcy4kYnV0dG9uID0gdGhpcy4kKCdidXR0b24uYWRkLWNob2ljZScpLnByb3AoJ2Rpc2FibGVkJyx0cnVlKTtcblx0XHRcdHFlLmZpZWxkLlZpZXcucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxhcmd1bWVudHMpO1xuXG5cdFx0fSxcblx0XHRzZXRFZGl0YWJsZTpmdW5jdGlvbihlZGl0YWJsZSl7XG5cdFx0XHR0aGlzLiRpbnB1dC5wcm9wKCAncmVhZG9ubHknLCAhZWRpdGFibGUgKTtcblx0XHRcdHRoaXMuJGJ1dHRvbi5wcm9wKCAnZGlzYWJsZWQnLCAhZWRpdGFibGUgKTtcblx0XHR9LFxuXHRcdHNldFZhbHVlOmZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHRcdHZhciBzZWxmID0gdGhpcztcblx0XHRcdHRoaXMuZG50Q2hhbmdlZCgpO1xuXHRcdFx0aWYgKCAkLmlzQXJyYXkodmFsdWUpICkge1xuXHRcdFx0XHQkLmVhY2goIHZhbHVlLCBmdW5jdGlvbiggaWR4LCB2YWwgKSB7XG5cdFx0XHRcdFx0c2VsZi4kKCAnW3R5cGU9XCJjaGVja2JveFwiXVt2YWx1ZT1cIicrdmFsKydcIl0nIClcblx0XHRcdFx0XHRcdC5wcm9wKCAnY2hlY2tlZCcsIHRydWUgKTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0aGlzLiQoICdbdHlwZT1cImNoZWNrYm94XCJdW3ZhbHVlPVwiJyt2YWx1ZSsnXCJdJyApXG5cdFx0XHRcdFx0LnByb3AoICdjaGVja2VkJywgdHJ1ZSApO1xuXHRcdFx0fVxuIFx0XHR9LFxuXHRcdGFkZENob2ljZTpmdW5jdGlvbihlKXtcblx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdHZhciB0cGwgPSB3cC50ZW1wbGF0ZSgnYWNmLXFlZi1jdXN0b20tY2hvaWNlLScgKyB0aGlzLiRlbC5hdHRyKCdkYXRhLWtleScpKTtcblx0XHRcdHRoaXMuJCgndWwnKS5hcHBlbmQodHBsKCkpO1xuXHRcdH0sXG5cdFx0cmVtb3ZlQ2hvaWNlOmZ1bmN0aW9uKGUpIHtcblx0XHRcdCQoZS50YXJnZXQpLmNsb3Nlc3QoJ2xpJykucmVtb3ZlKCk7XG5cdFx0fVxuXG5cdH0pO1xuXG5cdC8qKlxuIFx0ICpcdGZpZWxkIHR5cGUgcmFkaW9cbiBcdCAqL1xuXHRxZS5maWVsZC5hZGRfdHlwZSgge1xuXHRcdHR5cGU6J3JhZGlvJyxcblx0XHRpbml0aWFsaXplOmZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyICRvdGhlciwgaXNfb3RoZXI7XG5cblx0XHRcdHRoaXMuJGlucHV0ID0gdGhpcy4kKCdbdHlwZT1cInJhZGlvXCJdJyk7XG5cblx0XHRcdHFlLmZpZWxkLlZpZXcucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxhcmd1bWVudHMpO1xuXG5cdFx0XHR0aGlzLiQoJ1t0eXBlPVwicmFkaW9cIl0nKS5wcm9wKCAncmVhZG9ubHknLCB0cnVlICk7XG5cblx0XHRcdGlmICggdGhpcy4kKCd1bC5hY2YtcmFkaW8tbGlzdC5vdGhlcicpLmxlbmd0aCApIHtcblx0XHRcdFx0JG90aGVyID0gdGhpcy4kKCdbdHlwZT1cInRleHRcIl0nKTtcblx0XHRcdFx0dGhpcy4kKCdbdHlwZT1cInJhZGlvXCJdJykub24oJ2NoYW5nZScsZnVuY3Rpb24oZSl7XG5cblx0XHRcdFx0XHRpc19vdGhlciA9ICQodGhpcykuaXMoJ1t2YWx1ZT1cIm90aGVyXCJdOmNoZWNrZWQnKTtcblx0XHRcdFx0XHQkb3RoZXJcblx0XHRcdFx0XHRcdC5wcm9wKCdkaXNhYmxlZCcsICEgaXNfb3RoZXIgKVxuXHRcdFx0XHRcdFx0LnByb3AoJ3JlYWRvbmx5JywgISBpc19vdGhlciApO1xuXG5cdFx0XHRcdH0pXG5cdFx0XHR9XG5cdFx0fSxcblx0XHRzZXRWYWx1ZTpmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0XHR0aGlzLmRudENoYW5nZWQoKTtcblx0XHRcdHRoaXMuJCgnW3R5cGU9XCJyYWRpb1wiXVt2YWx1ZT1cIicrdmFsdWUrJ1wiXScgKVxuXHRcdFx0XHQucHJvcCggJ2NoZWNrZWQnLCB0cnVlICk7XG4gXHRcdH1cblx0fSk7XG5cblx0LyoqXG4gXHQgKlx0ZmllbGQgdHlwZSBzZWxlY3RcbiBcdCAqL1xuXHRxZS5maWVsZC5hZGRfdHlwZSgge1xuXHRcdHR5cGU6J3NlbGVjdCcsXG5cdFx0aW5pdGlhbGl6ZTpmdW5jdGlvbigpIHtcblx0XHRcdHFlLmZpZWxkLlZpZXcucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxhcmd1bWVudHMpO1xuXG5cdFx0XHR0aGlzLiRpbnB1dCA9IHRoaXMuJCgnc2VsZWN0JykucHJvcCggJ3JlYWRvbmx5JywgdHJ1ZSApO1xuXHRcdH1cblx0fSk7XG5cblx0LyoqXG4gXHQgKlx0ZmllbGQgdHlwZSB0cnVlX2ZhbHNlXG4gXHQgKi9cblx0IHFlLmZpZWxkLmFkZF90eXBlKCB7XG4gXHRcdHR5cGU6J3RydWVfZmFsc2UnLFxuIFx0XHRpbml0aWFsaXplOmZ1bmN0aW9uKCkge1xuIFx0XHRcdHFlLmZpZWxkLlZpZXcucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxhcmd1bWVudHMpO1xuXG4gXHRcdFx0dGhpcy4kKCdbdHlwZT1cInJhZGlvXCJdJykucHJvcCggJ3JlYWRvbmx5JywgdHJ1ZSApO1xuIFx0XHR9LFxuIFx0XHRzZXRWYWx1ZTpmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0XHR0aGlzLmRudENoYW5nZWQoKTtcblx0XHRcdHRoaXMuJCgnW3R5cGU9XCJyYWRpb1wiXVt2YWx1ZT1cIicrdmFsdWUrJ1wiXScgKVxuXHRcdFx0XHQucHJvcCggJ2NoZWNrZWQnLCB0cnVlICk7XG4gIFx0XHR9XG4gXHR9KTtcblx0Ly8gVG9kb1xuXG59KSggalF1ZXJ5LCBhY2ZfcXVpY2tlZGl0ICk7XG4iLCIvL3ZhciBhY2ZfcXVpY2tlZGl0ID0ge307XG5cblxuKGZ1bmN0aW9uKCQscWUpIHtcblxuXG5cblx0aWYgKCAndW5kZWZpbmVkJyAhPT0gdHlwZW9mIGlubGluZUVkaXRQb3N0ICkge1xuXHRcdC8vIHdlIGNyZWF0ZSBhIGNvcHkgb2YgdGhlIFdQIGlubGluZSBlZGl0IHBvc3QgZnVuY3Rpb25cblx0XHR2YXIgX3dwX2lubGluZV9lZGl0X3Bvc3QgPSBpbmxpbmVFZGl0UG9zdC5lZGl0LFxuXHRcdFx0X3dwX2lubGluZV9lZGl0X3NhdmUgPSBpbmxpbmVFZGl0UG9zdC5zYXZlLFxuXHRcdFx0X3dwX2lubGluZV9lZGl0X3JldmVydCA9IGlubGluZUVkaXRQb3N0LnJldmVydCxcblx0XHRcdF93cF9pbmxpbmVfZWRpdF9idWxrID0gIGlubGluZUVkaXRQb3N0LnNldEJ1bGs7XG5cdFx0Ly8gYW5kIHRoZW4gd2Ugb3ZlcndyaXRlIHRoZSBmdW5jdGlvbiB3aXRoIG91ciBvd24gY29kZVxuXHRcdGlubGluZUVkaXRQb3N0LmVkaXQgPSBmdW5jdGlvbiggaWQgKSB7XG5cdFx0XHR2YXIgb2JqZWN0X2lkLCAkdHI7XG5cblxuXHRcdFx0Ly8gXCJjYWxsXCIgdGhlIG9yaWdpbmFsIFdQIGVkaXQgZnVuY3Rpb25cblx0XHRcdC8vIHdlIGRvbid0IHdhbnQgdG8gbGVhdmUgV29yZFByZXNzIGhhbmdpbmdcblx0XHRcdF93cF9pbmxpbmVfZWRpdF9wb3N0LmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcblxuXHRcdFx0Ly8gZ2V0IHRoZSBwb3N0IElEXG5cdFx0XHRvYmplY3RfaWQgPSAwO1xuXHRcdFx0aWYgKCB0eXBlb2YoIGlkICkgPT09ICdvYmplY3QnICkge1xuXHRcdFx0XHRvYmplY3RfaWQgPSBwYXJzZUludCggdGhpcy5nZXRJZCggaWQgKSApO1xuXHRcdFx0fVxuXHRcdFx0JHRyID0gJCgnI2VkaXQtJyArIG9iamVjdF9pZCApO1xuLy9cdFx0XHRnZXRfYWNmX3Bvc3RfZGF0YSggb2JqZWN0X2lkICwgJCgnI2VkaXQtJyArIG9iamVjdF9pZCApICk7XG5cblx0XHRcdHRoaXMuYWNmX3FlZF9mb3JtID0gbmV3IHFlLmZvcm0uUXVpY2tFZGl0KHtcblx0XHRcdFx0ZWw6ICR0ci5nZXQoMCksXG5cdFx0XHRcdG9iamVjdF9pZDogb2JqZWN0X2lkXG5cdFx0XHR9KTtcblx0XHR9O1xuXHRcdGlubGluZUVkaXRQb3N0LnJldmVydCA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0Ly8gdW5sb2FkIGZvcm1zXG5cdFx0XHQhISB0aGlzLmFjZl9xZWRfZm9ybSAmJiB0aGlzLmFjZl9xZWRfZm9ybS51bmxvYWQoKTtcblx0XHRcdHJldHVybiBfd3BfaW5saW5lX2VkaXRfcmV2ZXJ0LmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcblx0XHR9XG5cdFx0aW5saW5lRWRpdFBvc3Quc2F2ZSA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0Ly8gdW5sb2FkIGZvcm1zXG5cdFx0XHQhISB0aGlzLmFjZl9xZWRfZm9ybSAmJiB0aGlzLmFjZl9xZWRfZm9ybS51bmxvYWQoKTtcblx0XHRcdHJldHVybiBfd3BfaW5saW5lX2VkaXRfc2F2ZS5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cdFx0fVxuXHRcdGlubGluZUVkaXRQb3N0LnNldEJ1bGsgPSBmdW5jdGlvbigpIHtcblx0XHRcdHZhciByZXQgPSBfd3BfaW5saW5lX2VkaXRfYnVsay5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cblx0XHRcdHRoaXMuYWNmX3FlZF9mb3JtID0gbmV3IHFlLmZvcm0uQnVsa0VkaXQoe1xuXHRcdFx0XHRlbDogJCgnI2J1bGstZWRpdCcpLmdldCgwKSxcbi8vXHRcdFx0XHRvYmplY3RfaWQ6IG9iamVjdF9pZFxuXHRcdFx0fSk7XG5cblx0XHRcdHJldHVybiByZXQ7XG5cdFx0fVxuXHR9XG5cdC8vIHRvZG86IGlubGluZUVkaXRUYXhcblx0aWYgKCAndW5kZWZpbmVkJyAhPT0gdHlwZW9mIGlubGluZUVkaXRUYXggKSB7XG5cblx0XHR2YXIgX3dwX2lubGluZV9lZGl0X3RheCA9IGlubGluZUVkaXRUYXguZWRpdCxcblx0XHRcdF93cF9pbmxpbmVfZWRpdF9zYXZlID0gaW5saW5lRWRpdFRheC5zYXZlLFxuXHRcdFx0X3dwX2lubGluZV9lZGl0X3JldmVydCA9IGlubGluZUVkaXRUYXgucmV2ZXJ0O1xuXG5cdFx0aW5saW5lRWRpdFRheC5lZGl0ID0gZnVuY3Rpb24oIGlkICkge1xuXHRcdFx0dmFyIG9iamVjdF9pZCwgJHRyLFxuXHRcdFx0XHR0YXggPSAkKCdpbnB1dFtuYW1lPVwidGF4b25vbXlcIl0nKS52YWwoKTtcblxuXHRcdFx0X3dwX2lubGluZV9lZGl0X3RheC5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cblx0XHRcdC8vIGdldCB0aGUgcG9zdCBJRFxuXHRcdFx0b2JqZWN0X2lkID0gMDtcblx0XHRcdGlmICggdHlwZW9mKCBpZCApID09PSAnb2JqZWN0JyApIHtcblx0XHRcdFx0b2JqZWN0X2lkID0gcGFyc2VJbnQoIHRoaXMuZ2V0SWQoIGlkICkgKTtcblx0XHRcdH1cblx0XHRcdCR0ciA9ICQoJyNlZGl0LScgKyBvYmplY3RfaWQgKTtcblxuXHRcdFx0dGhpcy5hY2ZfcWVkX2Zvcm0gPSBuZXcgcWUuZm9ybS5RdWlja0VkaXQoe1xuXHRcdFx0XHRlbDogJHRyLmdldCgwKSxcblx0XHRcdFx0b2JqZWN0X2lkOiB0YXggKyAnXycgKyBvYmplY3RfaWRcblx0XHRcdH0pO1xuXG5cdFx0fTtcblx0XHRpbmxpbmVFZGl0VGF4LnJldmVydCA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0Ly8gdW5sb2FkIGZvcm1zXG5cdFx0XHQhISB0aGlzLmFjZl9xZWRfZm9ybSAmJiB0aGlzLmFjZl9xZWRfZm9ybS51bmxvYWQoKTtcblx0XHRcdHJldHVybiBfd3BfaW5saW5lX2VkaXRfcmV2ZXJ0LmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcblx0XHR9XG5cdFx0aW5saW5lRWRpdFRheC5zYXZlID0gZnVuY3Rpb24oKSB7XG5cdFx0XHQvLyB1bmxvYWQgZm9ybXNcblx0XHRcdCEhIHRoaXMuYWNmX3FlZF9mb3JtICYmIHRoaXMuYWNmX3FlZF9mb3JtLnVubG9hZCgpO1xuXHRcdFx0cmV0dXJuIF93cF9pbmxpbmVfZWRpdF9zYXZlLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcblx0XHR9XG5cdH1cblxufSkoIGpRdWVyeSwgd2luZG93LmFjZl9xdWlja2VkaXQgKTtcbiIsIihmdW5jdGlvbigkKSB7XG5cdCQoJy5hY2YtcWVmLWdhbGxlcnktY29sJykub24oJ21vdXNlbW92ZScsZnVuY3Rpb24oZSl7XG5cdFx0dmFyICR0aGlzXHQ9ICQodGhpcyksXG5cdFx0XHQkaW1nXHQ9ICQodGhpcykuZmluZCgnaW1nJylcblx0XHRcdHhcdFx0PSBlLm9mZnNldFgsXG5cdFx0XHRudW1cdFx0PSAkaW1nLmxlbmd0aCxcblx0XHRcdHN0ZXBcdD0gJCh0aGlzKS53aWR0aCgpIC8gbnVtO1xuXG5cdFx0JGltZy5lYWNoKCBmdW5jdGlvbihpLGVsKSB7XG5cdFx0XHRpZiAoeCA+PSBzdGVwKmkpIHtcblx0XHRcdFx0JChlbCkuc2hvdygpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0JChlbCkuaGlkZSgpO1xuXHRcdFx0fVxuXHRcdH0gKTtcblx0fSk7XG59KShqUXVlcnkpOyJdfQ==
